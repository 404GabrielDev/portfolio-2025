(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var G1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var MM={exports:{}},lv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JR;function Sz(){if(JR)return lv;JR=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var l in r)l!=="key"&&(s[l]=r[l])}else s=r;return r=s.ref,{$$typeof:i,type:n,key:a,ref:r!==void 0?r:null,props:s}}return lv.Fragment=e,lv.jsx=t,lv.jsxs=t,lv}var ZR;function Az(){return ZR||(ZR=1,MM.exports=Sz()),MM.exports}var We=Az(),EM={exports:{}},Bn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QR;function bz(){if(QR)return Bn;QR=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,M={};function b(z,oe,ve){this.props=z,this.context=oe,this.refs=M,this.updater=ve||_}b.prototype.isReactComponent={},b.prototype.setState=function(z,oe){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,oe,"setState")},b.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function A(){}A.prototype=b.prototype;function C(z,oe,ve){this.props=z,this.context=oe,this.refs=M,this.updater=ve||_}var w=C.prototype=new A;w.constructor=C,S(w,b.prototype),w.isPureReactComponent=!0;var B=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function I(z,oe,ve,Ae,se,Te){return ve=Te.ref,{$$typeof:i,type:z,key:oe,ref:ve!==void 0?ve:null,props:Te}}function P(z,oe){return I(z.type,oe,void 0,void 0,void 0,z.props)}function U(z){return typeof z=="object"&&z!==null&&z.$$typeof===i}function O(z){var oe={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ve){return oe[ve]})}var H=/\/+/g;function V(z,oe){return typeof z=="object"&&z!==null&&z.key!=null?O(""+z.key):oe.toString(36)}function W(){}function K(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(W,W):(z.status="pending",z.then(function(oe){z.status==="pending"&&(z.status="fulfilled",z.value=oe)},function(oe){z.status==="pending"&&(z.status="rejected",z.reason=oe)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function ae(z,oe,ve,Ae,se){var Te=typeof z;(Te==="undefined"||Te==="boolean")&&(z=null);var we=!1;if(z===null)we=!0;else switch(Te){case"bigint":case"string":case"number":we=!0;break;case"object":switch(z.$$typeof){case i:case e:we=!0;break;case m:return we=z._init,ae(we(z._payload),oe,ve,Ae,se)}}if(we)return se=se(z),we=Ae===""?"."+V(z,0):Ae,B(se)?(ve="",we!=null&&(ve=we.replace(H,"$&/")+"/"),ae(se,oe,ve,"",function(dt){return dt})):se!=null&&(U(se)&&(se=P(se,ve+(se.key==null||z&&z.key===se.key?"":(""+se.key).replace(H,"$&/")+"/")+we)),oe.push(se)),1;we=0;var Fe=Ae===""?".":Ae+":";if(B(z))for(var Ue=0;Ue<z.length;Ue++)Ae=z[Ue],Te=Fe+V(Ae,Ue),we+=ae(Ae,oe,ve,Te,se);else if(Ue=v(z),typeof Ue=="function")for(z=Ue.call(z),Ue=0;!(Ae=z.next()).done;)Ae=Ae.value,Te=Fe+V(Ae,Ue++),we+=ae(Ae,oe,ve,Te,se);else if(Te==="object"){if(typeof z.then=="function")return ae(K(z),oe,ve,Ae,se);throw oe=String(z),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return we}function G(z,oe,ve){if(z==null)return z;var Ae=[],se=0;return ae(z,Ae,"","",function(Te){return oe.call(ve,Te,se++)}),Ae}function q(z){if(z._status===-1){var oe=z._result;oe=oe(),oe.then(function(ve){(z._status===0||z._status===-1)&&(z._status=1,z._result=ve)},function(ve){(z._status===0||z._status===-1)&&(z._status=2,z._result=ve)}),z._status===-1&&(z._status=0,z._result=oe)}if(z._status===1)return z._result.default;throw z._result}var $=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function pe(){}return Bn.Children={map:G,forEach:function(z,oe,ve){G(z,function(){oe.apply(this,arguments)},ve)},count:function(z){var oe=0;return G(z,function(){oe++}),oe},toArray:function(z){return G(z,function(oe){return oe})||[]},only:function(z){if(!U(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Bn.Component=b,Bn.Fragment=t,Bn.Profiler=r,Bn.PureComponent=C,Bn.StrictMode=n,Bn.Suspense=c,Bn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Bn.__COMPILER_RUNTIME={__proto__:null,c:function(z){return L.H.useMemoCache(z)}},Bn.cache=function(z){return function(){return z.apply(null,arguments)}},Bn.cloneElement=function(z,oe,ve){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Ae=S({},z.props),se=z.key,Te=void 0;if(oe!=null)for(we in oe.ref!==void 0&&(Te=void 0),oe.key!==void 0&&(se=""+oe.key),oe)!N.call(oe,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&oe.ref===void 0||(Ae[we]=oe[we]);var we=arguments.length-2;if(we===1)Ae.children=ve;else if(1<we){for(var Fe=Array(we),Ue=0;Ue<we;Ue++)Fe[Ue]=arguments[Ue+2];Ae.children=Fe}return I(z.type,se,void 0,void 0,Te,Ae)},Bn.createContext=function(z){return z={$$typeof:a,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},Bn.createElement=function(z,oe,ve){var Ae,se={},Te=null;if(oe!=null)for(Ae in oe.key!==void 0&&(Te=""+oe.key),oe)N.call(oe,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(se[Ae]=oe[Ae]);var we=arguments.length-2;if(we===1)se.children=ve;else if(1<we){for(var Fe=Array(we),Ue=0;Ue<we;Ue++)Fe[Ue]=arguments[Ue+2];se.children=Fe}if(z&&z.defaultProps)for(Ae in we=z.defaultProps,we)se[Ae]===void 0&&(se[Ae]=we[Ae]);return I(z,Te,void 0,void 0,null,se)},Bn.createRef=function(){return{current:null}},Bn.forwardRef=function(z){return{$$typeof:l,render:z}},Bn.isValidElement=U,Bn.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:q}},Bn.memo=function(z,oe){return{$$typeof:h,type:z,compare:oe===void 0?null:oe}},Bn.startTransition=function(z){var oe=L.T,ve={};L.T=ve;try{var Ae=z(),se=L.S;se!==null&&se(ve,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(pe,$)}catch(Te){$(Te)}finally{L.T=oe}},Bn.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Bn.use=function(z){return L.H.use(z)},Bn.useActionState=function(z,oe,ve){return L.H.useActionState(z,oe,ve)},Bn.useCallback=function(z,oe){return L.H.useCallback(z,oe)},Bn.useContext=function(z){return L.H.useContext(z)},Bn.useDebugValue=function(){},Bn.useDeferredValue=function(z,oe){return L.H.useDeferredValue(z,oe)},Bn.useEffect=function(z,oe,ve){var Ae=L.H;if(typeof ve=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ae.useEffect(z,oe)},Bn.useId=function(){return L.H.useId()},Bn.useImperativeHandle=function(z,oe,ve){return L.H.useImperativeHandle(z,oe,ve)},Bn.useInsertionEffect=function(z,oe){return L.H.useInsertionEffect(z,oe)},Bn.useLayoutEffect=function(z,oe){return L.H.useLayoutEffect(z,oe)},Bn.useMemo=function(z,oe){return L.H.useMemo(z,oe)},Bn.useOptimistic=function(z,oe){return L.H.useOptimistic(z,oe)},Bn.useReducer=function(z,oe,ve){return L.H.useReducer(z,oe,ve)},Bn.useRef=function(z){return L.H.useRef(z)},Bn.useState=function(z){return L.H.useState(z)},Bn.useSyncExternalStore=function(z,oe,ve){return L.H.useSyncExternalStore(z,oe,ve)},Bn.useTransition=function(){return L.H.useTransition()},Bn.version="19.1.0",Bn}var $R;function tl(){return $R||($R=1,EM.exports=bz()),EM.exports}var Me=tl();const Fl=WA(Me);var TM={exports:{}},uv={},CM={exports:{}},wM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eB;function Mz(){return eB||(eB=1,function(i){function e(G,q){var $=G.length;G.push(q);e:for(;0<$;){var pe=$-1>>>1,z=G[pe];if(0<r(z,q))G[pe]=q,G[$]=z,$=pe;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var q=G[0],$=G.pop();if($!==q){G[0]=$;e:for(var pe=0,z=G.length,oe=z>>>1;pe<oe;){var ve=2*(pe+1)-1,Ae=G[ve],se=ve+1,Te=G[se];if(0>r(Ae,$))se<z&&0>r(Te,Ae)?(G[pe]=Te,G[se]=$,pe=se):(G[pe]=Ae,G[ve]=$,pe=ve);else if(se<z&&0>r(Te,$))G[pe]=Te,G[se]=$,pe=se;else break e}}return q}function r(G,q){var $=G.sortIndex-q.sortIndex;return $!==0?$:G.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();i.unstable_now=function(){return a.now()-l}}var c=[],h=[],m=1,g=null,v=3,_=!1,S=!1,M=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function B(G){for(var q=t(h);q!==null;){if(q.callback===null)n(h);else if(q.startTime<=G)n(h),q.sortIndex=q.expirationTime,e(c,q);else break;q=t(h)}}function L(G){if(M=!1,B(G),!S)if(t(c)!==null)S=!0,N||(N=!0,V());else{var q=t(h);q!==null&&ae(L,q.startTime-G)}}var N=!1,I=-1,P=5,U=-1;function O(){return b?!0:!(i.unstable_now()-U<P)}function H(){if(b=!1,N){var G=i.unstable_now();U=G;var q=!0;try{e:{S=!1,M&&(M=!1,C(I),I=-1),_=!0;var $=v;try{t:{for(B(G),g=t(c);g!==null&&!(g.expirationTime>G&&O());){var pe=g.callback;if(typeof pe=="function"){g.callback=null,v=g.priorityLevel;var z=pe(g.expirationTime<=G);if(G=i.unstable_now(),typeof z=="function"){g.callback=z,B(G),q=!0;break t}g===t(c)&&n(c),B(G)}else n(c);g=t(c)}if(g!==null)q=!0;else{var oe=t(h);oe!==null&&ae(L,oe.startTime-G),q=!1}}break e}finally{g=null,v=$,_=!1}q=void 0}}finally{q?V():N=!1}}}var V;if(typeof w=="function")V=function(){w(H)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,K=W.port2;W.port1.onmessage=H,V=function(){K.postMessage(null)}}else V=function(){A(H,0)};function ae(G,q){I=A(function(){G(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(G){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var $=v;v=q;try{return G()}finally{v=$}},i.unstable_requestPaint=function(){b=!0},i.unstable_runWithPriority=function(G,q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var $=v;v=G;try{return q()}finally{v=$}},i.unstable_scheduleCallback=function(G,q,$){var pe=i.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?pe+$:pe):$=pe,G){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=$+z,G={id:m++,callback:q,priorityLevel:G,startTime:$,expirationTime:z,sortIndex:-1},$>pe?(G.sortIndex=$,e(h,G),t(c)===null&&G===t(h)&&(M?(C(I),I=-1):M=!0,ae(L,$-pe))):(G.sortIndex=z,e(c,G),S||_||(S=!0,N||(N=!0,V()))),G},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(G){var q=v;return function(){var $=v;v=q;try{return G.apply(this,arguments)}finally{v=$}}}}(wM)),wM}var tB;function Ez(){return tB||(tB=1,CM.exports=Mz()),CM.exports}var RM={exports:{}},Us={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nB;function Tz(){if(nB)return Us;nB=1;var i=tl();function e(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:c,containerInfo:h,implementation:m}}var a=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Us.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Us.createPortal=function(c,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(c,h,null,m)},Us.flushSync=function(c){var h=a.T,m=n.p;try{if(a.T=null,n.p=2,c)return c()}finally{a.T=h,n.p=m,n.d.f()}},Us.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(c,h))},Us.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Us.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var m=h.as,g=l(m,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:_}):m==="script"&&n.d.X(c,{crossOrigin:g,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Us.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=l(h.as,h.crossOrigin);n.d.M(c,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(c)},Us.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=l(m,h.crossOrigin);n.d.L(c,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Us.preloadModule=function(c,h){if(typeof c=="string")if(h){var m=l(h.as,h.crossOrigin);n.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(c)},Us.requestFormReset=function(c){n.d.r(c)},Us.unstable_batchedUpdates=function(c,h){return c(h)},Us.useFormState=function(c,h,m){return a.H.useFormState(c,h,m)},Us.useFormStatus=function(){return a.H.useHostTransitionStatus()},Us.version="19.1.0",Us}var iB;function YC(){if(iB)return RM.exports;iB=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),RM.exports=Tz(),RM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rB;function Cz(){if(rB)return uv;rB=1;var i=Ez(),e=tl(),t=YC();function n(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var u=o,p=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(p=u.return),o=u.return;while(o)}return u.tag===3?p:null}function a(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(s(o)!==o)throw Error(n(188))}function c(o){var u=o.alternate;if(!u){if(u=s(o),u===null)throw Error(n(188));return u!==o?null:o}for(var p=o,y=u;;){var E=p.return;if(E===null)break;var R=E.alternate;if(R===null){if(y=E.return,y!==null){p=y;continue}break}if(E.child===R.child){for(R=E.child;R;){if(R===p)return l(E),o;if(R===y)return l(E),u;R=R.sibling}throw Error(n(188))}if(p.return!==y.return)p=E,y=R;else{for(var k=!1,Q=E.child;Q;){if(Q===p){k=!0,p=E,y=R;break}if(Q===y){k=!0,y=E,p=R;break}Q=Q.sibling}if(!k){for(Q=R.child;Q;){if(Q===p){k=!0,p=R,y=E;break}if(Q===y){k=!0,y=R,p=E;break}Q=Q.sibling}if(!k)throw Error(n(189))}}if(p.alternate!==y)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?o:u}function h(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=h(o),u!==null)return u;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),w=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function V(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var W=Symbol.for("react.client.reference");function K(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===W?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case b:return"Profiler";case M:return"StrictMode";case L:return"Suspense";case N:return"SuspenseList";case U:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case w:return(o.displayName||"Context")+".Provider";case C:return(o._context.displayName||"Context")+".Consumer";case B:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case I:return u=o.displayName||null,u!==null?u:K(o.type)||"Memo";case P:u=o._payload,o=o._init;try{return K(o(u))}catch{}}return null}var ae=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},pe=[],z=-1;function oe(o){return{current:o}}function ve(o){0>z||(o.current=pe[z],pe[z]=null,z--)}function Ae(o,u){z++,pe[z]=o.current,o.current=u}var se=oe(null),Te=oe(null),we=oe(null),Fe=oe(null);function Ue(o,u){switch(Ae(we,u),Ae(Te,o),Ae(se,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?MR(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=MR(u),o=ER(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ve(se),Ae(se,o)}function dt(){ve(se),ve(Te),ve(we)}function At(o){o.memoizedState!==null&&Ae(Fe,o);var u=se.current,p=ER(u,o.type);u!==p&&(Ae(Te,o),Ae(se,p))}function zt(o){Te.current===o&&(ve(se),ve(Te)),Fe.current===o&&(ve(Fe),iv._currentValue=$)}var Lt=Object.prototype.hasOwnProperty,ot=i.unstable_scheduleCallback,Z=i.unstable_cancelCallback,et=i.unstable_shouldYield,Ke=i.unstable_requestPaint,ce=i.unstable_now,je=i.unstable_getCurrentPriorityLevel,Mt=i.unstable_ImmediatePriority,rt=i.unstable_UserBlockingPriority,ht=i.unstable_NormalPriority,qt=i.unstable_LowPriority,ne=i.unstable_IdlePriority,j=i.log,xe=i.unstable_setDisableYieldValue,Ge=null,ze=null;function Pe(o){if(typeof j=="function"&&xe(o),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ge,o)}catch{}}var mt=Math.clz32?Math.clz32:St,vt=Math.log,Rt=Math.LN2;function St(o){return o>>>=0,o===0?32:31-(vt(o)/Rt|0)|0}var Je=256,ft=4194304;function Bt(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ue(o,u,p){var y=o.pendingLanes;if(y===0)return 0;var E=0,R=o.suspendedLanes,k=o.pingedLanes;o=o.warmLanes;var Q=y&134217727;return Q!==0?(y=Q&~R,y!==0?E=Bt(y):(k&=Q,k!==0?E=Bt(k):p||(p=Q&~o,p!==0&&(E=Bt(p))))):(Q=y&~R,Q!==0?E=Bt(Q):k!==0?E=Bt(k):p||(p=y&~o,p!==0&&(E=Bt(p)))),E===0?0:u!==0&&u!==E&&(u&R)===0&&(R=E&-E,p=u&-u,R>=p||R===32&&(p&4194048)!==0)?u:E}function Se(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function $e(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function re(){var o=Je;return Je<<=1,(Je&4194048)===0&&(Je=256),o}function Be(){var o=ft;return ft<<=1,(ft&62914560)===0&&(ft=4194304),o}function qe(o){for(var u=[],p=0;31>p;p++)u.push(o);return u}function gt(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ut(o,u,p,y,E,R){var k=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var Q=o.entanglements,he=o.expirationTimes,Le=o.hiddenUpdates;for(p=k&~p;0<p;){var nt=31-mt(p),ct=1<<nt;Q[nt]=0,he[nt]=-1;var Ie=Le[nt];if(Ie!==null)for(Le[nt]=null,nt=0;nt<Ie.length;nt++){var Ve=Ie[nt];Ve!==null&&(Ve.lane&=-536870913)}p&=~ct}y!==0&&Ze(o,y,0),R!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=R&~(k&~u))}function Ze(o,u,p){o.pendingLanes|=u,o.suspendedLanes&=~u;var y=31-mt(u);o.entangledLanes|=u,o.entanglements[y]=o.entanglements[y]|1073741824|p&4194090}function Tt(o,u){var p=o.entangledLanes|=u;for(o=o.entanglements;p;){var y=31-mt(p),E=1<<y;E&u|o[y]&u&&(o[y]|=u),p&=~E}}function Pt(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function fn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Et(){var o=q.p;return o!==0?o:(o=window.event,o===void 0?32:XR(o.type))}function It(o,u){var p=q.p;try{return q.p=o,u()}finally{q.p=p}}var Jt=Math.random().toString(36).slice(2),pt="__reactFiber$"+Jt,Ht="__reactProps$"+Jt,Dt="__reactContainer$"+Jt,Wt="__reactEvents$"+Jt,ai="__reactListeners$"+Jt,en="__reactHandles$"+Jt,Nt="__reactResources$"+Jt,ii="__reactMarker$"+Jt;function tn(o){delete o[pt],delete o[Ht],delete o[Wt],delete o[ai],delete o[en]}function X(o){var u=o[pt];if(u)return u;for(var p=o.parentNode;p;){if(u=p[Dt]||p[pt]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(o=RR(o);o!==null;){if(p=o[pt])return p;o=RR(o)}return u}o=p,p=o.parentNode}return null}function J(o){if(o=o[pt]||o[Dt]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function de(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(n(33))}function be(o){var u=o[Nt];return u||(u=o[Nt]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function De(o){o[ii]=!0}var He=new Set,lt={};function Qe(o,u){Y(o,u),Y(o+"Capture",u)}function Y(o,u){for(lt[o]=u,o=0;o<u.length;o++)He.add(u[o])}var ie=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fe={},le={};function ge(o){return Lt.call(le,o)?!0:Lt.call(fe,o)?!1:ie.test(o)?le[o]=!0:(fe[o]=!0,!1)}function Re(o,u,p){if(ge(u))if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var y=u.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+p)}}function Xe(o,u,p){if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+p)}}function it(o,u,p,y){if(y===null)o.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(u,p,""+y)}}var st,_t;function bt(o){if(st===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);st=u&&u[1]||"",_t=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+o+_t}var Ct=!1;function Gt(o,u){if(!o||Ct)return"";Ct=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(u){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(Ve){var Ie=Ve}Reflect.construct(o,[],ct)}else{try{ct.call()}catch(Ve){Ie=Ve}o.call(ct.prototype)}}else{try{throw Error()}catch(Ve){Ie=Ve}(ct=o())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(Ve){if(Ve&&Ie&&typeof Ve.stack=="string")return[Ve.stack,Ie.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=y.DetermineComponentFrameRoot(),k=R[0],Q=R[1];if(k&&Q){var he=k.split(`
`),Le=Q.split(`
`);for(E=y=0;y<he.length&&!he[y].includes("DetermineComponentFrameRoot");)y++;for(;E<Le.length&&!Le[E].includes("DetermineComponentFrameRoot");)E++;if(y===he.length||E===Le.length)for(y=he.length-1,E=Le.length-1;1<=y&&0<=E&&he[y]!==Le[E];)E--;for(;1<=y&&0<=E;y--,E--)if(he[y]!==Le[E]){if(y!==1||E!==1)do if(y--,E--,0>E||he[y]!==Le[E]){var nt=`
`+he[y].replace(" at new "," at ");return o.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",o.displayName)),nt}while(1<=y&&0<=E);break}}}finally{Ct=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?bt(p):""}function Kt(o){switch(o.tag){case 26:case 27:case 5:return bt(o.type);case 16:return bt("Lazy");case 13:return bt("Suspense");case 19:return bt("SuspenseList");case 0:case 15:return Gt(o.type,!1);case 11:return Gt(o.type.render,!1);case 1:return Gt(o.type,!0);case 31:return bt("Activity");default:return""}}function On(o){try{var u="";do u+=Kt(o),o=o.return;while(o);return u}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Vt(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Qt(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function kt(o){var u=Qt(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),y=""+o[u];if(!o.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,R=p.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return E.call(this)},set:function(k){y=""+k,R.call(this,k)}}),Object.defineProperty(o,u,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(k){y=""+k},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function di(o){o._valueTracker||(o._valueTracker=kt(o))}function hn(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var p=u.getValue(),y="";return o&&(y=Qt(o)?o.checked?"true":"false":o.value),o=y,o!==p?(u.setValue(o),!0):!1}function vn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var vi=/[\n"\\]/g;function rn(o){return o.replace(vi,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Cn(o,u,p,y,E,R,k,Q){o.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?o.type=k:o.removeAttribute("type"),u!=null?k==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Vt(u)):o.value!==""+Vt(u)&&(o.value=""+Vt(u)):k!=="submit"&&k!=="reset"||o.removeAttribute("value"),u!=null?Ri(o,k,Vt(u)):p!=null?Ri(o,k,Vt(p)):y!=null&&o.removeAttribute("value"),E==null&&R!=null&&(o.defaultChecked=!!R),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?o.name=""+Vt(Q):o.removeAttribute("name")}function Mn(o,u,p,y,E,R,k,Q){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.type=R),u!=null||p!=null){if(!(R!=="submit"&&R!=="reset"||u!=null))return;p=p!=null?""+Vt(p):"",u=u!=null?""+Vt(u):p,Q||u===o.value||(o.value=u),o.defaultValue=u}y=y??E,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=Q?o.checked:!!y,o.defaultChecked=!!y,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(o.name=k)}function Ri(o,u,p){u==="number"&&vn(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function kn(o,u,p,y){if(o=o.options,u){u={};for(var E=0;E<p.length;E++)u["$"+p[E]]=!0;for(p=0;p<o.length;p++)E=u.hasOwnProperty("$"+o[p].value),o[p].selected!==E&&(o[p].selected=E),E&&y&&(o[p].defaultSelected=!0)}else{for(p=""+Vt(p),u=null,E=0;E<o.length;E++){if(o[E].value===p){o[E].selected=!0,y&&(o[E].defaultSelected=!0);return}u!==null||o[E].disabled||(u=o[E])}u!==null&&(u.selected=!0)}}function yi(o,u,p){if(u!=null&&(u=""+Vt(u),u!==o.value&&(o.value=u),p==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=p!=null?""+Vt(p):""}function Tr(o,u,p,y){if(u==null){if(y!=null){if(p!=null)throw Error(n(92));if(ae(y)){if(1<y.length)throw Error(n(93));y=y[0]}p=y}p==null&&(p=""),u=p}p=Vt(u),o.defaultValue=p,y=o.textContent,y===p&&y!==""&&y!==null&&(o.value=y)}function ls(o,u){if(u){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=u;return}}o.textContent=u}var xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mh(o,u,p){var y=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":y?o.setProperty(u,p):typeof p!="number"||p===0||xo.has(u)?u==="float"?o.cssFloat=p:o[u]=(""+p).trim():o[u]=p+"px"}function gh(o,u,p){if(u!=null&&typeof u!="object")throw Error(n(62));if(o=o.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||u!=null&&u.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var E in u)y=u[E],u.hasOwnProperty(E)&&p[E]!==y&&mh(o,E,y)}else for(var R in u)u.hasOwnProperty(R)&&mh(o,R,u[R])}function bp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),p_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vh(o){return p_.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Mp=null;function Ep(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var jl=null,Vu=null;function Jg(o){var u=J(o);if(u&&(o=u.stateNode)){var p=o[Ht]||null;e:switch(o=u.stateNode,u.type){case"input":if(Cn(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+rn(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var y=p[u];if(y!==o&&y.form===o.form){var E=y[Ht]||null;if(!E)throw Error(n(90));Cn(y,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(u=0;u<p.length;u++)y=p[u],y.form===o.form&&hn(y)}break e;case"textarea":yi(o,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&kn(o,!!p.multiple,u,!1)}}}var yh=!1;function Zg(o,u,p){if(yh)return o(u,p);yh=!0;try{var y=o(u);return y}finally{if(yh=!1,(jl!==null||Vu!==null)&&(Po(),jl&&(u=jl,o=Vu,Vu=jl=null,Jg(u),o)))for(u=0;u<o.length;u++)Jg(o[u])}}function Pc(o,u){var p=o.stateNode;if(p===null)return null;var y=p[Ht]||null;if(y===null)return null;p=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var So=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_h=!1;if(So)try{var Ic={};Object.defineProperty(Ic,"passive",{get:function(){_h=!0}}),window.addEventListener("test",Ic,Ic),window.removeEventListener("test",Ic,Ic)}catch{_h=!1}var rl=null,Qg=null,Tp=null;function $g(){if(Tp)return Tp;var o,u=Qg,p=u.length,y,E="value"in rl?rl.value:rl.textContent,R=E.length;for(o=0;o<p&&u[o]===E[o];o++);var k=p-o;for(y=1;y<=k&&u[p-y]===E[R-y];y++);return Tp=E.slice(o,1<y?1-y:void 0)}function ql(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Fc(){return!0}function xh(){return!1}function us(o){function u(p,y,E,R,k){this._reactName=p,this._targetInst=E,this.type=y,this.nativeEvent=R,this.target=k,this.currentTarget=null;for(var Q in o)o.hasOwnProperty(Q)&&(p=o[Q],this[Q]=p?p(R):R[Q]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Fc:xh,this.isPropagationStopped=xh,this}return m(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Fc)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Fc)},persist:function(){},isPersistent:Fc}),u}var Wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zc=us(Wl),Hc=m({},Wl,{view:0,detail:0}),m_=us(Hc),sl,Gc,Vc,kc=m({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ah,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Vc&&(Vc&&o.type==="mousemove"?(sl=o.screenX-Vc.screenX,Gc=o.screenY-Vc.screenY):Gc=sl=0,Vc=o),sl)},movementY:function(o){return"movementY"in o?o.movementY:Gc}}),e0=us(kc),g_=m({},kc,{dataTransfer:0}),Vb=us(g_),Ir=m({},Hc,{relatedTarget:0}),Cp=us(Ir),v_=m({},Wl,{animationName:0,elapsedTime:0,pseudoElement:0}),y_=us(v_),__=m({},Wl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),x_=us(__),Sh=m({},Wl,{data:0}),wp=us(Sh),S_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t0(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=b_[o])?!!u[o]:!1}function Ah(){return t0}var M_=m({},Hc,{key:function(o){if(o.key){var u=S_[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=ql(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?A_[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ah,charCode:function(o){return o.type==="keypress"?ql(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ql(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),n0=us(M_),i0=m({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rp=us(i0),E_=m({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ah}),r0=us(E_),T_=m({},Wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),al=us(T_),s0=m({},kc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),kb=us(s0),C_=m({},Wl,{newState:0,oldState:0}),Kl=us(C_),ol=[9,13,27,32],bh=So&&"CompositionEvent"in window,ku=null;So&&"documentMode"in document&&(ku=document.documentMode);var Mh=So&&"TextEvent"in window&&!ku,Eh=So&&(!bh||ku&&8<ku&&11>=ku),Jl=" ",Fr=!1;function Th(o,u){switch(o){case"keyup":return ol.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a0(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Zl=!1;function Ch(o,u){switch(o){case"compositionend":return a0(u);case"keypress":return u.which!==32?null:(Fr=!0,Jl);case"textInput":return o=u.data,o===Jl&&Fr?null:o;default:return null}}function o0(o,u){if(Zl)return o==="compositionend"||!bh&&Th(o,u)?(o=$g(),Tp=Qg=rl=null,Zl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Eh&&u.locale!=="ko"?null:u.data;default:return null}}var Bp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l0(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Bp[o.type]:u==="textarea"}function Es(o,u,p,y){jl?Vu?Vu.push(y):Vu=[y]:jl=y,u=T1(u,"onChange"),0<u.length&&(p=new zc("onChange","change",null,p,y),o.push({event:p,listeners:u}))}var Xc=null,Xu=null;function w_(o){_R(o,0)}function wh(o){var u=de(o);if(hn(u))return o}function Dp(o,u){if(o==="change")return u}var Op=!1;if(So){var Up;if(So){var Yc="oninput"in document;if(!Yc){var jc=document.createElement("div");jc.setAttribute("oninput","return;"),Yc=typeof jc.oninput=="function"}Up=Yc}else Up=!1;Op=Up&&(!document.documentMode||9<document.documentMode)}function Li(){Xc&&(Xc.detachEvent("onpropertychange",R_),Xu=Xc=null)}function R_(o){if(o.propertyName==="value"&&wh(Xu)){var u=[];Es(u,Xu,o,Ep(o)),Zg(w_,u)}}function Xb(o,u,p){o==="focusin"?(Li(),Xc=u,Xu=p,Xc.attachEvent("onpropertychange",R_)):o==="focusout"&&Li()}function B_(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return wh(Xu)}function Rh(o,u){if(o==="click")return wh(u)}function Ql(o,u){if(o==="input"||o==="change")return wh(u)}function D_(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Ts=typeof Object.is=="function"?Object.is:D_;function Ya(o,u){if(Ts(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var p=Object.keys(o),y=Object.keys(u);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var E=p[y];if(!Lt.call(u,E)||!Ts(o[E],u[E]))return!1}return!0}function Cs(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function u0(o,u){var p=Cs(o);o=0;for(var y;p;){if(p.nodeType===3){if(y=o+p.textContent.length,o<=u&&y>=u)return{node:p,offset:u-o};o=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Cs(p)}}function c0(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?c0(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function f0(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=vn(o.document);u instanceof o.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)o=u.contentWindow;else break;u=vn(o.document)}return u}function Bh(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var h0=So&&"documentMode"in document&&11>=document.documentMode,ll=null,Lp=null,Dh=null,Np=!1;function d0(o,u,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Np||ll==null||ll!==vn(y)||(y=ll,"selectionStart"in y&&Bh(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Dh&&Ya(Dh,y)||(Dh=y,y=T1(Lp,"onSelect"),0<y.length&&(u=new zc("onSelect","select",null,u,p),o.push({event:u,listeners:y}),u.target=ll)))}function zr(o,u){var p={};return p[o.toLowerCase()]=u.toLowerCase(),p["Webkit"+o]="webkit"+u,p["Moz"+o]="moz"+u,p}var $l={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},Pp={},O_={};So&&(O_=document.createElement("div").style,"AnimationEvent"in window||(delete $l.animationend.animation,delete $l.animationiteration.animation,delete $l.animationstart.animation),"TransitionEvent"in window||delete $l.transitionend.transition);function ul(o){if(Pp[o])return Pp[o];if(!$l[o])return o;var u=$l[o],p;for(p in u)if(u.hasOwnProperty(p)&&p in O_)return Pp[o]=u[p];return o}var cs=ul("animationend"),p0=ul("animationiteration"),ws=ul("animationstart"),U_=ul("transitionrun"),cl=ul("transitionstart"),qc=ul("transitioncancel"),fl=ul("transitionend"),Ip=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function Cr(o,u){Ip.set(o,u),Qe(u,[o])}var m0=new WeakMap;function Hr(o,u){if(typeof o=="object"&&o!==null){var p=m0.get(o);return p!==void 0?p:(u={value:o,source:u,stack:On(u)},m0.set(o,u),u)}return{value:o,source:u,stack:On(u)}}var Zr=[],xa=0,Fp=0;function Uh(){for(var o=xa,u=Fp=xa=0;u<o;){var p=Zr[u];Zr[u++]=null;var y=Zr[u];Zr[u++]=null;var E=Zr[u];Zr[u++]=null;var R=Zr[u];if(Zr[u++]=null,y!==null&&E!==null){var k=y.pending;k===null?E.next=E:(E.next=k.next,k.next=E),y.pending=E}R!==0&&g0(p,E,R)}}function eu(o,u,p,y){Zr[xa++]=o,Zr[xa++]=u,Zr[xa++]=p,Zr[xa++]=y,Fp|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function zp(o,u,p,y){return eu(o,u,p,y),Wc(o)}function hl(o,u){return eu(o,null,null,u),Wc(o)}function g0(o,u,p){o.lanes|=p;var y=o.alternate;y!==null&&(y.lanes|=p);for(var E=!1,R=o.return;R!==null;)R.childLanes|=p,y=R.alternate,y!==null&&(y.childLanes|=p),R.tag===22&&(o=R.stateNode,o===null||o._visibility&1||(E=!0)),o=R,R=R.return;return o.tag===3?(R=o.stateNode,E&&u!==null&&(E=31-mt(p),o=R.hiddenUpdates,y=o[E],y===null?o[E]=[u]:y.push(u),u.lane=p|536870912),R):null}function Wc(o){if(50<No)throw No=0,lc=null,Error(n(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var tu={};function v0(o,u,p,y){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(o,u,p,y){return new v0(o,u,p,y)}function Lh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Wi(o,u){var p=o.alternate;return p===null?(p=Rs(o.tag,u,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=u,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,u=o.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function y0(o,u){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,u=p.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function wr(o,u,p,y,E,R){var k=0;if(y=o,typeof o=="function")Lh(o)&&(k=1);else if(typeof o=="string")k=lz(o,p,se.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case U:return o=Rs(31,p,u,E),o.elementType=U,o.lanes=R,o;case S:return nu(p.children,E,R,u);case M:k=8,E|=24;break;case b:return o=Rs(12,p,u,E|2),o.elementType=b,o.lanes=R,o;case L:return o=Rs(13,p,u,E),o.elementType=L,o.lanes=R,o;case N:return o=Rs(19,p,u,E),o.elementType=N,o.lanes=R,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case A:case w:k=10;break e;case C:k=9;break e;case B:k=11;break e;case I:k=14;break e;case P:k=16,y=null;break e}k=29,p=Error(n(130,o===null?"null":typeof o,"")),y=null}return u=Rs(k,p,u,E),u.elementType=o,u.type=y,u.lanes=R,u}function nu(o,u,p,y){return o=Rs(7,o,y,u),o.lanes=p,o}function Nh(o,u,p){return o=Rs(6,o,null,u),o.lanes=p,o}function Hp(o,u,p){return u=Rs(4,o.children!==null?o.children:[],o.key,u),u.lanes=p,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Kc=[],Bs=0,Ph=null,Jc=0,Gr=[],qs=0,iu=null,Ao=1,bo="";function dl(o,u){Kc[Bs++]=Jc,Kc[Bs++]=Ph,Ph=o,Jc=u}function Gp(o,u,p){Gr[qs++]=Ao,Gr[qs++]=bo,Gr[qs++]=iu,iu=o;var y=Ao;o=bo;var E=32-mt(y)-1;y&=~(1<<E),p+=1;var R=32-mt(u)+E;if(30<R){var k=E-E%5;R=(y&(1<<k)-1).toString(32),y>>=k,E-=k,Ao=1<<32-mt(u)+E|p<<E|y,bo=R+o}else Ao=1<<R|p<<E|y,bo=o}function _0(o){o.return!==null&&(dl(o,1),Gp(o,1,0))}function x0(o){for(;o===Ph;)Ph=Kc[--Bs],Kc[Bs]=null,Jc=Kc[--Bs],Kc[Bs]=null;for(;o===iu;)iu=Gr[--qs],Gr[qs]=null,bo=Gr[--qs],Gr[qs]=null,Ao=Gr[--qs],Gr[qs]=null}var fs=null,Pi=null,ei=!1,Sa=null,Ws=!1,Vp=Error(n(519));function ru(o){var u=Error(n(418,""));throw Yu(Hr(u,o)),Vp}function L_(o){var u=o.stateNode,p=o.type,y=o.memoizedProps;switch(u[pt]=o,u[Ht]=y,p){case"dialog":Gn("cancel",u),Gn("close",u);break;case"iframe":case"object":case"embed":Gn("load",u);break;case"video":case"audio":for(p=0;p<Z0.length;p++)Gn(Z0[p],u);break;case"source":Gn("error",u);break;case"img":case"image":case"link":Gn("error",u),Gn("load",u);break;case"details":Gn("toggle",u);break;case"input":Gn("invalid",u),Mn(u,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),di(u);break;case"select":Gn("invalid",u);break;case"textarea":Gn("invalid",u),Tr(u,y.value,y.defaultValue,y.children),di(u)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||y.suppressHydrationWarning===!0||bR(u.textContent,p)?(y.popover!=null&&(Gn("beforetoggle",u),Gn("toggle",u)),y.onScroll!=null&&Gn("scroll",u),y.onScrollEnd!=null&&Gn("scrollend",u),y.onClick!=null&&(u.onclick=C1),u=!0):u=!1,u||ru(o)}function S0(o){for(fs=o.return;fs;)switch(fs.tag){case 5:case 13:Ws=!1;return;case 27:case 3:Ws=!0;return;default:fs=fs.return}}function ja(o){if(o!==fs)return!1;if(!ei)return S0(o),ei=!0,!1;var u=o.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||cM(o.type,o.memoizedProps)),p=!p),p&&Pi&&ru(o),S0(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(p=o.data,p==="/$"){if(u===0){Pi=Cl(o.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++;o=o.nextSibling}Pi=null}}else u===27?(u=Pi,Af(o.type)?(o=pM,pM=null,Pi=o):Pi=u):Pi=fs?Cl(o.stateNode.nextSibling):null;return!0}function Zc(){Pi=fs=null,ei=!1}function oi(){var o=Sa;return o!==null&&(on===null?on=o:on.push.apply(on,o),Sa=null),o}function Yu(o){Sa===null?Sa=[o]:Sa.push(o)}var A0=oe(null),su=null,pl=null;function au(o,u,p){Ae(A0,u._currentValue),u._currentValue=p}function ml(o){o._currentValue=A0.current,ve(A0)}function b0(o,u,p){for(;o!==null;){var y=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),o===p)break;o=o.return}}function Ih(o,u,p,y){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var R=E.dependencies;if(R!==null){var k=E.child;R=R.firstContext;e:for(;R!==null;){var Q=R;R=E;for(var he=0;he<u.length;he++)if(Q.context===u[he]){R.lanes|=p,Q=R.alternate,Q!==null&&(Q.lanes|=p),b0(R.return,p,o),y||(k=null);break e}R=Q.next}}else if(E.tag===18){if(k=E.return,k===null)throw Error(n(341));k.lanes|=p,R=k.alternate,R!==null&&(R.lanes|=p),b0(k,p,o),k=null}else k=E.child;if(k!==null)k.return=E;else for(k=E;k!==null;){if(k===o){k=null;break}if(E=k.sibling,E!==null){E.return=k.return,k=E;break}k=k.return}E=k}}function Aa(o,u,p,y){o=null;for(var E=u,R=!1;E!==null;){if(!R){if((E.flags&524288)!==0)R=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var k=E.alternate;if(k===null)throw Error(n(387));if(k=k.memoizedProps,k!==null){var Q=E.type;Ts(E.pendingProps.value,k.value)||(o!==null?o.push(Q):o=[Q])}}else if(E===Fe.current){if(k=E.alternate,k===null)throw Error(n(387));k.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(iv):o=[iv])}E=E.return}o!==null&&Ih(u,o,p,y),u.flags|=262144}function Fh(o){for(o=o.firstContext;o!==null;){if(!Ts(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Mo(o){su=o,pl=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Hi(o){return kp(su,o)}function zh(o,u){return su===null&&Mo(o),kp(o,u)}function kp(o,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},pl===null){if(o===null)throw Error(n(308));pl=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else pl=pl.next=u;return p}var M0=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(p,y){o.push(y)}};this.abort=function(){u.aborted=!0,o.forEach(function(p){return p()})}},Yb=i.unstable_scheduleCallback,N_=i.unstable_NormalPriority,sr={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xp(){return{controller:new M0,data:new Map,refCount:0}}function Qc(o){o.refCount--,o.refCount===0&&Yb(N_,function(){o.controller.abort()})}var $c=null,Hh=0,Sn=0,ef=null;function Ks(o,u){if($c===null){var p=$c=[];Hh=0,Sn=tM(),ef={status:"pending",value:void 0,then:function(y){p.push(y)}}}return Hh++,u.then(Yp,Yp),u}function Yp(){if(--Hh===0&&$c!==null){ef!==null&&(ef.status="fulfilled");var o=$c;$c=null,Sn=0,ef=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function jb(o,u){var p=[],y={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return o.then(function(){y.status="fulfilled",y.value=u;for(var E=0;E<p.length;E++)(0,p[E])(u)},function(E){for(y.status="rejected",y.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),y}var Gh=G.S;G.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&Ks(o,u),Gh!==null&&Gh(o,u)};var ba=oe(null);function ou(){var o=ba.current;return o!==null?o:yn.pooledCache}function Vh(o,u){u===null?Ae(ba,ba.current):Ae(ba,u.pool)}function jp(){var o=ou();return o===null?null:{parent:sr._currentValue,pool:o}}var kh=Error(n(460)),E0=Error(n(474)),qa=Error(n(542)),Xh={then:function(){}};function qp(o){return o=o.status,o==="fulfilled"||o==="rejected"}function tf(){}function Wp(o,u,p){switch(p=o[p],p===void 0?o.push(u):p!==u&&(u.then(tf,tf),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,P_(o),o;default:if(typeof u.status=="string")u.then(tf,tf);else{if(o=yn,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=u,o.status="pending",o.then(function(y){if(u.status==="pending"){var E=u;E.status="fulfilled",E.value=y}},function(y){if(u.status==="pending"){var E=u;E.status="rejected",E.reason=y}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,P_(o),o}throw Ma=u,kh}}var Ma=null;function T0(){if(Ma===null)throw Error(n(459));var o=Ma;return Ma=null,o}function P_(o){if(o===kh||o===qa)throw Error(n(483))}var gl=!1;function C0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dn(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Eo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function vl(o,u,p){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(li&2)!==0){var E=y.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),y.pending=u,u=Wc(o),g0(o,null,p),u}return eu(o,y,u,p),Wc(o)}function ju(o,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var y=u.lanes;y&=o.pendingLanes,p|=y,u.lanes=p,Tt(o,p)}}function nf(o,u){var p=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var E=null,R=null;if(p=p.firstBaseUpdate,p!==null){do{var k={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};R===null?E=R=k:R=R.next=k,p=p.next}while(p!==null);R===null?E=R=u:R=R.next=u}else E=R=u;p={baseState:y.baseState,firstBaseUpdate:E,lastBaseUpdate:R,shared:y.shared,callbacks:y.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=u}var w0=!1;function Yh(){if(w0){var o=ef;if(o!==null)throw o}}function rf(o,u,p,y){w0=!1;var E=o.updateQueue;gl=!1;var R=E.firstBaseUpdate,k=E.lastBaseUpdate,Q=E.shared.pending;if(Q!==null){E.shared.pending=null;var he=Q,Le=he.next;he.next=null,k===null?R=Le:k.next=Le,k=he;var nt=o.alternate;nt!==null&&(nt=nt.updateQueue,Q=nt.lastBaseUpdate,Q!==k&&(Q===null?nt.firstBaseUpdate=Le:Q.next=Le,nt.lastBaseUpdate=he))}if(R!==null){var ct=E.baseState;k=0,nt=Le=he=null,Q=R;do{var Ie=Q.lane&-536870913,Ve=Ie!==Q.lane;if(Ve?(nn&Ie)===Ie:(y&Ie)===Ie){Ie!==0&&Ie===Sn&&(w0=!0),nt!==null&&(nt=nt.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var mn=o,un=Q;Ie=u;var wi=p;switch(un.tag){case 1:if(mn=un.payload,typeof mn=="function"){ct=mn.call(wi,ct,Ie);break e}ct=mn;break e;case 3:mn.flags=mn.flags&-65537|128;case 0:if(mn=un.payload,Ie=typeof mn=="function"?mn.call(wi,ct,Ie):mn,Ie==null)break e;ct=m({},ct,Ie);break e;case 2:gl=!0}}Ie=Q.callback,Ie!==null&&(o.flags|=64,Ve&&(o.flags|=8192),Ve=E.callbacks,Ve===null?E.callbacks=[Ie]:Ve.push(Ie))}else Ve={lane:Ie,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},nt===null?(Le=nt=Ve,he=ct):nt=nt.next=Ve,k|=Ie;if(Q=Q.next,Q===null){if(Q=E.shared.pending,Q===null)break;Ve=Q,Q=Ve.next,Ve.next=null,E.lastBaseUpdate=Ve,E.shared.pending=null}}while(!0);nt===null&&(he=ct),E.baseState=he,E.firstBaseUpdate=Le,E.lastBaseUpdate=nt,R===null&&(E.shared.lanes=0),to|=k,o.lanes=k,o.memoizedState=ct}}function sf(o,u){if(typeof o!="function")throw Error(n(191,o));o.call(u)}function I_(o,u){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)sf(p[o],u)}var af=oe(null),Kp=oe(0);function F_(o,u){o=Ba,Ae(Kp,o),Ae(af,u),Ba=o|u.baseLanes}function R0(){Ae(Kp,Ba),Ae(af,af.current)}function jh(){Ba=Kp.current,ve(af),ve(Kp)}var yl=0,An=null,pi=null,ar=null,Jp=!1,lu=!1,hs=!1,mr=0,Ea=0,Vr=null,z_=0;function Ki(){throw Error(n(321))}function Qr(o,u){if(u===null)return!1;for(var p=0;p<u.length&&p<o.length;p++)if(!Ts(o[p],u[p]))return!1;return!0}function _l(o,u,p,y,E,R){return yl=R,An=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,G.H=o===null||o.memoizedState===null?sm:Y0,hs=!1,R=p(y,E),hs=!1,lu&&(R=G_(u,p,y,E)),H_(o),R}function H_(o){G.H=Kh;var u=pi!==null&&pi.next!==null;if(yl=0,ar=pi=An=null,Jp=!1,Ea=0,Vr=null,u)throw Error(n(300));o===null||Rr||(o=o.dependencies,o!==null&&Fh(o)&&(Rr=!0))}function G_(o,u,p,y){An=o;var E=0;do{if(lu&&(Vr=null),Ea=0,lu=!1,25<=E)throw Error(n(301));if(E+=1,ar=pi=null,o.updateQueue!=null){var R=o.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}G.H=d1,R=u(p,y)}while(lu);return R}function qb(){var o=G.H,u=o.useState()[0];return u=typeof u.then=="function"?Wa(u):u,o=o.useState()[0],(pi!==null?pi.memoizedState:null)!==o&&(An.flags|=1024),u}function B0(){var o=mr!==0;return mr=0,o}function Zp(o,u,p){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~p}function D0(o){if(Jp){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Jp=!1}yl=0,ar=pi=An=null,lu=!1,Ea=mr=0,Vr=null}function ds(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?An.memoizedState=ar=o:ar=ar.next=o,ar}function or(){if(pi===null){var o=An.alternate;o=o!==null?o.memoizedState:null}else o=pi.next;var u=ar===null?An.memoizedState:ar.next;if(u!==null)ar=u,pi=o;else{if(o===null)throw An.alternate===null?Error(n(467)):Error(n(310));pi=o,o={memoizedState:pi.memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},ar===null?An.memoizedState=ar=o:ar=ar.next=o}return ar}function uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wa(o){var u=Ea;return Ea+=1,Vr===null&&(Vr=[]),o=Wp(Vr,o,u),u=An,(ar===null?u.memoizedState:ar.next)===null&&(u=u.alternate,G.H=u===null||u.memoizedState===null?sm:Y0),o}function Qp(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Wa(o);if(o.$$typeof===w)return Hi(o)}throw Error(n(438,String(o)))}function O0(o){var u=null,p=An.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var y=An.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(u={data:y.data.map(function(E){return E.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=uu(),An.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(o),y=0;y<o;y++)p[y]=O;return u.index++,p}function xl(o,u){return typeof u=="function"?u(o):u}function cu(o){var u=or();return U0(u,pi,o)}function U0(o,u,p){var y=o.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=p;var E=o.baseQueue,R=y.pending;if(R!==null){if(E!==null){var k=E.next;E.next=R.next,R.next=k}u.baseQueue=E=R,y.pending=null}if(R=o.baseState,E===null)o.memoizedState=R;else{u=E.next;var Q=k=null,he=null,Le=u,nt=!1;do{var ct=Le.lane&-536870913;if(ct!==Le.lane?(nn&ct)===ct:(yl&ct)===ct){var Ie=Le.revertLane;if(Ie===0)he!==null&&(he=he.next={lane:0,revertLane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),ct===Sn&&(nt=!0);else if((yl&Ie)===Ie){Le=Le.next,Ie===Sn&&(nt=!0);continue}else ct={lane:0,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},he===null?(Q=he=ct,k=R):he=he.next=ct,An.lanes|=Ie,to|=Ie;ct=Le.action,hs&&p(R,ct),R=Le.hasEagerState?Le.eagerState:p(R,ct)}else Ie={lane:ct,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},he===null?(Q=he=Ie,k=R):he=he.next=Ie,An.lanes|=ct,to|=ct;Le=Le.next}while(Le!==null&&Le!==u);if(he===null?k=R:he.next=Q,!Ts(R,o.memoizedState)&&(Rr=!0,nt&&(p=ef,p!==null)))throw p;o.memoizedState=R,o.baseState=k,o.baseQueue=he,y.lastRenderedState=R}return E===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function L0(o){var u=or(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=o;var y=p.dispatch,E=p.pending,R=u.memoizedState;if(E!==null){p.pending=null;var k=E=E.next;do R=o(R,k.action),k=k.next;while(k!==E);Ts(R,u.memoizedState)||(Rr=!0),u.memoizedState=R,u.baseQueue===null&&(u.baseState=R),p.lastRenderedState=R}return[R,y]}function V_(o,u,p){var y=An,E=or(),R=ei;if(R){if(p===void 0)throw Error(n(407));p=p()}else p=u();var k=!Ts((pi||E).memoizedState,p);k&&(E.memoizedState=p,Rr=!0),E=E.queue;var Q=X_.bind(null,y,E,o);if(uf(2048,8,Q,[o]),E.getSnapshot!==u||k||ar!==null&&ar.memoizedState.tag&1){if(y.flags|=2048,lf(9,qh(),k_.bind(null,y,E,p,u),null),yn===null)throw Error(n(349));R||(yl&124)!==0||of(y,u,p)}return p}function of(o,u,p){o.flags|=16384,o={getSnapshot:u,value:p},u=An.updateQueue,u===null?(u=uu(),An.updateQueue=u,u.stores=[o]):(p=u.stores,p===null?u.stores=[o]:p.push(o))}function k_(o,u,p,y){u.value=p,u.getSnapshot=y,Y_(u)&&j_(o)}function X_(o,u,p){return p(function(){Y_(u)&&j_(o)})}function Y_(o){var u=o.getSnapshot;o=o.value;try{var p=u();return!Ts(o,p)}catch{return!0}}function j_(o){var u=hl(o,2);u!==null&&gs(u,o,2)}function N0(o){var u=ds();if(typeof o=="function"){var p=o;if(o=p(),hs){Pe(!0);try{p()}finally{Pe(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:o},u}function q_(o,u,p,y){return o.baseState=p,U0(o,pi,typeof y=="function"?y:xl)}function Wb(o,u,p,y,E){if(rm(o))throw Error(n(485));if(o=u.action,o!==null){var R={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){R.listeners.push(k)}};G.T!==null?p(!0):R.isTransition=!1,y(R),p=u.pending,p===null?(R.next=u.pending=R,W_(u,R)):(R.next=p.next,u.pending=p.next=R)}}function W_(o,u){var p=u.action,y=u.payload,E=o.state;if(u.isTransition){var R=G.T,k={};G.T=k;try{var Q=p(E,y),he=G.S;he!==null&&he(k,Q),K_(o,u,Q)}catch(Le){P0(o,u,Le)}finally{G.T=R}}else try{R=p(E,y),K_(o,u,R)}catch(Le){P0(o,u,Le)}}function K_(o,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){J_(o,u,y)},function(y){return P0(o,u,y)}):J_(o,u,p)}function J_(o,u,p){u.status="fulfilled",u.value=p,Z_(u),o.state=p,u=o.pending,u!==null&&(p=u.next,p===u?o.pending=null:(p=p.next,u.next=p,W_(o,p)))}function P0(o,u,p){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do u.status="rejected",u.reason=p,Z_(u),u=u.next;while(u!==y)}o.action=null}function Z_(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function I0(o,u){return u}function Q_(o,u){if(ei){var p=yn.formState;if(p!==null){e:{var y=An;if(ei){if(Pi){t:{for(var E=Pi,R=Ws;E.nodeType!==8;){if(!R){E=null;break t}if(E=Cl(E.nextSibling),E===null){E=null;break t}}R=E.data,E=R==="F!"||R==="F"?E:null}if(E){Pi=Cl(E.nextSibling),y=E.data==="F!";break e}}ru(y)}y=!1}y&&(u=p[0])}}return p=ds(),p.memoizedState=p.baseState=u,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I0,lastRenderedState:u},p.queue=y,p=f1.bind(null,An,y),y.dispatch=p,y=N0(!1),R=im.bind(null,An,!1,y.queue),y=ds(),E={state:u,dispatch:null,action:o,pending:null},y.queue=E,p=Wb.bind(null,An,E,R,p),E.dispatch=p,y.memoizedState=o,[u,p,!1]}function $_(o){var u=or();return e1(u,pi,o)}function e1(o,u,p){if(u=U0(o,u,I0)[0],o=cu(xl)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var y=Wa(u)}catch(k){throw k===kh?qa:k}else y=u;u=or();var E=u.queue,R=E.dispatch;return p!==u.memoizedState&&(An.flags|=2048,lf(9,qh(),Kb.bind(null,E,p),null)),[y,R,o]}function Kb(o,u){o.action=u}function t1(o){var u=or(),p=pi;if(p!==null)return e1(u,p,o);or(),u=u.memoizedState,p=or();var y=p.queue.dispatch;return p.memoizedState=o,[u,y,!1]}function lf(o,u,p,y){return o={tag:o,create:p,deps:y,inst:u,next:null},u=An.updateQueue,u===null&&(u=uu(),An.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=o.next=o:(y=p.next,p.next=o,o.next=y,u.lastEffect=o),o}function qh(){return{destroy:void 0,resource:void 0}}function F0(){return or().memoizedState}function $p(o,u,p,y){var E=ds();y=y===void 0?null:y,An.flags|=o,E.memoizedState=lf(1|u,qh(),p,y)}function uf(o,u,p,y){var E=or();y=y===void 0?null:y;var R=E.memoizedState.inst;pi!==null&&y!==null&&Qr(y,pi.memoizedState.deps)?E.memoizedState=lf(u,R,p,y):(An.flags|=o,E.memoizedState=lf(1|u,R,p,y))}function z0(o,u){$p(8390656,8,o,u)}function H0(o,u){uf(2048,8,o,u)}function em(o,u){return uf(4,2,o,u)}function tm(o,u){return uf(4,4,o,u)}function n1(o,u){if(typeof u=="function"){o=o();var p=u(o);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function i1(o,u,p){p=p!=null?p.concat([o]):null,uf(4,4,n1.bind(null,u,o),p)}function G0(){}function r1(o,u){var p=or();u=u===void 0?null:u;var y=p.memoizedState;return u!==null&&Qr(u,y[1])?y[0]:(p.memoizedState=[o,u],o)}function V0(o,u){var p=or();u=u===void 0?null:u;var y=p.memoizedState;if(u!==null&&Qr(u,y[1]))return y[0];if(y=o(),hs){Pe(!0);try{o()}finally{Pe(!1)}}return p.memoizedState=[y,u],y}function nm(o,u,p){return p===void 0||(yl&1073741824)!==0?o.memoizedState=u:(o.memoizedState=p,o=gm(),An.lanes|=o,to|=o,p)}function s1(o,u,p,y){return Ts(p,u)?p:af.current!==null?(o=nm(o,p,y),Ts(o,u)||(Rr=!0),o):(yl&42)===0?(Rr=!0,o.memoizedState=p):(o=gm(),An.lanes|=o,to|=o,u)}function a1(o,u,p,y,E){var R=q.p;q.p=R!==0&&8>R?R:8;var k=G.T,Q={};G.T=Q,im(o,!1,u,p);try{var he=E(),Le=G.S;if(Le!==null&&Le(Q,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var nt=jb(he,y);Wh(o,u,nt,ki(o))}else Wh(o,u,y,ki(o))}catch(ct){Wh(o,u,{then:function(){},status:"rejected",reason:ct},ki())}finally{q.p=R,G.T=k}}function Jb(){}function k0(o,u,p,y){if(o.tag!==5)throw Error(n(476));var E=o1(o).queue;a1(o,E,u,$,p===null?Jb:function(){return l1(o),p(y)})}function o1(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:$},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:p},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function l1(o){var u=o1(o).next.queue;Wh(o,u,{},ki())}function X0(){return Hi(iv)}function u1(){return or().memoizedState}function c1(){return or().memoizedState}function Zb(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var p=ki();o=Eo(p);var y=vl(u,o,p);y!==null&&(gs(y,u,p),ju(y,u,p)),u={cache:Xp()},o.payload=u;return}u=u.return}}function Qb(o,u,p){var y=ki();p={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},rm(o)?h1(u,p):(p=zp(o,u,p,y),p!==null&&(gs(p,o,y),Js(p,u,y)))}function f1(o,u,p){var y=ki();Wh(o,u,p,y)}function Wh(o,u,p,y){var E={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(rm(o))h1(u,E);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=u.lastRenderedReducer,R!==null))try{var k=u.lastRenderedState,Q=R(k,p);if(E.hasEagerState=!0,E.eagerState=Q,Ts(Q,k))return eu(o,u,E,0),yn===null&&Uh(),!1}catch{}finally{}if(p=zp(o,u,E,y),p!==null)return gs(p,o,y),Js(p,u,y),!0}return!1}function im(o,u,p,y){if(y={lane:2,revertLane:tM(),action:y,hasEagerState:!1,eagerState:null,next:null},rm(o)){if(u)throw Error(n(479))}else u=zp(o,p,y,2),u!==null&&gs(u,o,2)}function rm(o){var u=o.alternate;return o===An||u!==null&&u===An}function h1(o,u){lu=Jp=!0;var p=o.pending;p===null?u.next=u:(u.next=p.next,p.next=u),o.pending=u}function Js(o,u,p){if((p&4194048)!==0){var y=u.lanes;y&=o.pendingLanes,p|=y,u.lanes=p,Tt(o,p)}}var Kh={readContext:Hi,use:Qp,useCallback:Ki,useContext:Ki,useEffect:Ki,useImperativeHandle:Ki,useLayoutEffect:Ki,useInsertionEffect:Ki,useMemo:Ki,useReducer:Ki,useRef:Ki,useState:Ki,useDebugValue:Ki,useDeferredValue:Ki,useTransition:Ki,useSyncExternalStore:Ki,useId:Ki,useHostTransitionStatus:Ki,useFormState:Ki,useActionState:Ki,useOptimistic:Ki,useMemoCache:Ki,useCacheRefresh:Ki},sm={readContext:Hi,use:Qp,useCallback:function(o,u){return ds().memoizedState=[o,u===void 0?null:u],o},useContext:Hi,useEffect:z0,useImperativeHandle:function(o,u,p){p=p!=null?p.concat([o]):null,$p(4194308,4,n1.bind(null,u,o),p)},useLayoutEffect:function(o,u){return $p(4194308,4,o,u)},useInsertionEffect:function(o,u){$p(4,2,o,u)},useMemo:function(o,u){var p=ds();u=u===void 0?null:u;var y=o();if(hs){Pe(!0);try{o()}finally{Pe(!1)}}return p.memoizedState=[y,u],y},useReducer:function(o,u,p){var y=ds();if(p!==void 0){var E=p(u);if(hs){Pe(!0);try{p(u)}finally{Pe(!1)}}}else E=u;return y.memoizedState=y.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},y.queue=o,o=o.dispatch=Qb.bind(null,An,o),[y.memoizedState,o]},useRef:function(o){var u=ds();return o={current:o},u.memoizedState=o},useState:function(o){o=N0(o);var u=o.queue,p=f1.bind(null,An,u);return u.dispatch=p,[o.memoizedState,p]},useDebugValue:G0,useDeferredValue:function(o,u){var p=ds();return nm(p,o,u)},useTransition:function(){var o=N0(!1);return o=a1.bind(null,An,o.queue,!0,!1),ds().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,p){var y=An,E=ds();if(ei){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),yn===null)throw Error(n(349));(nn&124)!==0||of(y,u,p)}E.memoizedState=p;var R={value:p,getSnapshot:u};return E.queue=R,z0(X_.bind(null,y,R,o),[o]),y.flags|=2048,lf(9,qh(),k_.bind(null,y,R,p,u),null),p},useId:function(){var o=ds(),u=yn.identifierPrefix;if(ei){var p=bo,y=Ao;p=(y&~(1<<32-mt(y)-1)).toString(32)+p,u="«"+u+"R"+p,p=mr++,0<p&&(u+="H"+p.toString(32)),u+="»"}else p=z_++,u="«"+u+"r"+p.toString(32)+"»";return o.memoizedState=u},useHostTransitionStatus:X0,useFormState:Q_,useActionState:Q_,useOptimistic:function(o){var u=ds();u.memoizedState=u.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=im.bind(null,An,!0,p),p.dispatch=u,[o,u]},useMemoCache:O0,useCacheRefresh:function(){return ds().memoizedState=Zb.bind(null,An)}},Y0={readContext:Hi,use:Qp,useCallback:r1,useContext:Hi,useEffect:H0,useImperativeHandle:i1,useInsertionEffect:em,useLayoutEffect:tm,useMemo:V0,useReducer:cu,useRef:F0,useState:function(){return cu(xl)},useDebugValue:G0,useDeferredValue:function(o,u){var p=or();return s1(p,pi.memoizedState,o,u)},useTransition:function(){var o=cu(xl)[0],u=or().memoizedState;return[typeof o=="boolean"?o:Wa(o),u]},useSyncExternalStore:V_,useId:u1,useHostTransitionStatus:X0,useFormState:$_,useActionState:$_,useOptimistic:function(o,u){var p=or();return q_(p,pi,o,u)},useMemoCache:O0,useCacheRefresh:c1},d1={readContext:Hi,use:Qp,useCallback:r1,useContext:Hi,useEffect:H0,useImperativeHandle:i1,useInsertionEffect:em,useLayoutEffect:tm,useMemo:V0,useReducer:L0,useRef:F0,useState:function(){return L0(xl)},useDebugValue:G0,useDeferredValue:function(o,u){var p=or();return pi===null?nm(p,o,u):s1(p,pi.memoizedState,o,u)},useTransition:function(){var o=L0(xl)[0],u=or().memoizedState;return[typeof o=="boolean"?o:Wa(o),u]},useSyncExternalStore:V_,useId:u1,useHostTransitionStatus:X0,useFormState:t1,useActionState:t1,useOptimistic:function(o,u){var p=or();return pi!==null?q_(p,pi,o,u):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:O0,useCacheRefresh:c1},qu=null,Jh=0;function Zh(o){var u=Jh;return Jh+=1,qu===null&&(qu=[]),Wp(qu,o,u)}function cf(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function am(o,u){throw u.$$typeof===g?Error(n(525)):(o=Object.prototype.toString.call(u),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function p1(o){var u=o._init;return u(o._payload)}function m1(o){function u(Ee,_e){if(o){var Oe=Ee.deletions;Oe===null?(Ee.deletions=[_e],Ee.flags|=16):Oe.push(_e)}}function p(Ee,_e){if(!o)return null;for(;_e!==null;)u(Ee,_e),_e=_e.sibling;return null}function y(Ee){for(var _e=new Map;Ee!==null;)Ee.key!==null?_e.set(Ee.key,Ee):_e.set(Ee.index,Ee),Ee=Ee.sibling;return _e}function E(Ee,_e){return Ee=Wi(Ee,_e),Ee.index=0,Ee.sibling=null,Ee}function R(Ee,_e,Oe){return Ee.index=Oe,o?(Oe=Ee.alternate,Oe!==null?(Oe=Oe.index,Oe<_e?(Ee.flags|=67108866,_e):Oe):(Ee.flags|=67108866,_e)):(Ee.flags|=1048576,_e)}function k(Ee){return o&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function Q(Ee,_e,Oe,at){return _e===null||_e.tag!==6?(_e=Nh(Oe,Ee.mode,at),_e.return=Ee,_e):(_e=E(_e,Oe),_e.return=Ee,_e)}function he(Ee,_e,Oe,at){var Yt=Oe.type;return Yt===S?nt(Ee,_e,Oe.props.children,at,Oe.key):_e!==null&&(_e.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===P&&p1(Yt)===_e.type)?(_e=E(_e,Oe.props),cf(_e,Oe),_e.return=Ee,_e):(_e=wr(Oe.type,Oe.key,Oe.props,null,Ee.mode,at),cf(_e,Oe),_e.return=Ee,_e)}function Le(Ee,_e,Oe,at){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Oe.containerInfo||_e.stateNode.implementation!==Oe.implementation?(_e=Hp(Oe,Ee.mode,at),_e.return=Ee,_e):(_e=E(_e,Oe.children||[]),_e.return=Ee,_e)}function nt(Ee,_e,Oe,at,Yt){return _e===null||_e.tag!==7?(_e=nu(Oe,Ee.mode,at,Yt),_e.return=Ee,_e):(_e=E(_e,Oe),_e.return=Ee,_e)}function ct(Ee,_e,Oe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=Nh(""+_e,Ee.mode,Oe),_e.return=Ee,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case v:return Oe=wr(_e.type,_e.key,_e.props,null,Ee.mode,Oe),cf(Oe,_e),Oe.return=Ee,Oe;case _:return _e=Hp(_e,Ee.mode,Oe),_e.return=Ee,_e;case P:var at=_e._init;return _e=at(_e._payload),ct(Ee,_e,Oe)}if(ae(_e)||V(_e))return _e=nu(_e,Ee.mode,Oe,null),_e.return=Ee,_e;if(typeof _e.then=="function")return ct(Ee,Zh(_e),Oe);if(_e.$$typeof===w)return ct(Ee,zh(Ee,_e),Oe);am(Ee,_e)}return null}function Ie(Ee,_e,Oe,at){var Yt=_e!==null?_e.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Yt!==null?null:Q(Ee,_e,""+Oe,at);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case v:return Oe.key===Yt?he(Ee,_e,Oe,at):null;case _:return Oe.key===Yt?Le(Ee,_e,Oe,at):null;case P:return Yt=Oe._init,Oe=Yt(Oe._payload),Ie(Ee,_e,Oe,at)}if(ae(Oe)||V(Oe))return Yt!==null?null:nt(Ee,_e,Oe,at,null);if(typeof Oe.then=="function")return Ie(Ee,_e,Zh(Oe),at);if(Oe.$$typeof===w)return Ie(Ee,_e,zh(Ee,Oe),at);am(Ee,Oe)}return null}function Ve(Ee,_e,Oe,at,Yt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return Ee=Ee.get(Oe)||null,Q(_e,Ee,""+at,Yt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case v:return Ee=Ee.get(at.key===null?Oe:at.key)||null,he(_e,Ee,at,Yt);case _:return Ee=Ee.get(at.key===null?Oe:at.key)||null,Le(_e,Ee,at,Yt);case P:var Fn=at._init;return at=Fn(at._payload),Ve(Ee,_e,Oe,at,Yt)}if(ae(at)||V(at))return Ee=Ee.get(Oe)||null,nt(_e,Ee,at,Yt,null);if(typeof at.then=="function")return Ve(Ee,_e,Oe,Zh(at),Yt);if(at.$$typeof===w)return Ve(Ee,_e,Oe,zh(_e,at),Yt);am(_e,at)}return null}function mn(Ee,_e,Oe,at){for(var Yt=null,Fn=null,$t=_e,cn=_e=0,ts=null;$t!==null&&cn<Oe.length;cn++){$t.index>cn?(ts=$t,$t=null):ts=$t.sibling;var ci=Ie(Ee,$t,Oe[cn],at);if(ci===null){$t===null&&($t=ts);break}o&&$t&&ci.alternate===null&&u(Ee,$t),_e=R(ci,_e,cn),Fn===null?Yt=ci:Fn.sibling=ci,Fn=ci,$t=ts}if(cn===Oe.length)return p(Ee,$t),ei&&dl(Ee,cn),Yt;if($t===null){for(;cn<Oe.length;cn++)$t=ct(Ee,Oe[cn],at),$t!==null&&(_e=R($t,_e,cn),Fn===null?Yt=$t:Fn.sibling=$t,Fn=$t);return ei&&dl(Ee,cn),Yt}for($t=y($t);cn<Oe.length;cn++)ts=Ve($t,Ee,cn,Oe[cn],at),ts!==null&&(o&&ts.alternate!==null&&$t.delete(ts.key===null?cn:ts.key),_e=R(ts,_e,cn),Fn===null?Yt=ts:Fn.sibling=ts,Fn=ts);return o&&$t.forEach(function(Cf){return u(Ee,Cf)}),ei&&dl(Ee,cn),Yt}function un(Ee,_e,Oe,at){if(Oe==null)throw Error(n(151));for(var Yt=null,Fn=null,$t=_e,cn=_e=0,ts=null,ci=Oe.next();$t!==null&&!ci.done;cn++,ci=Oe.next()){$t.index>cn?(ts=$t,$t=null):ts=$t.sibling;var Cf=Ie(Ee,$t,ci.value,at);if(Cf===null){$t===null&&($t=ts);break}o&&$t&&Cf.alternate===null&&u(Ee,$t),_e=R(Cf,_e,cn),Fn===null?Yt=Cf:Fn.sibling=Cf,Fn=Cf,$t=ts}if(ci.done)return p(Ee,$t),ei&&dl(Ee,cn),Yt;if($t===null){for(;!ci.done;cn++,ci=Oe.next())ci=ct(Ee,ci.value,at),ci!==null&&(_e=R(ci,_e,cn),Fn===null?Yt=ci:Fn.sibling=ci,Fn=ci);return ei&&dl(Ee,cn),Yt}for($t=y($t);!ci.done;cn++,ci=Oe.next())ci=Ve($t,Ee,cn,ci.value,at),ci!==null&&(o&&ci.alternate!==null&&$t.delete(ci.key===null?cn:ci.key),_e=R(ci,_e,cn),Fn===null?Yt=ci:Fn.sibling=ci,Fn=ci);return o&&$t.forEach(function(xz){return u(Ee,xz)}),ei&&dl(Ee,cn),Yt}function wi(Ee,_e,Oe,at){if(typeof Oe=="object"&&Oe!==null&&Oe.type===S&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case v:e:{for(var Yt=Oe.key;_e!==null;){if(_e.key===Yt){if(Yt=Oe.type,Yt===S){if(_e.tag===7){p(Ee,_e.sibling),at=E(_e,Oe.props.children),at.return=Ee,Ee=at;break e}}else if(_e.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===P&&p1(Yt)===_e.type){p(Ee,_e.sibling),at=E(_e,Oe.props),cf(at,Oe),at.return=Ee,Ee=at;break e}p(Ee,_e);break}else u(Ee,_e);_e=_e.sibling}Oe.type===S?(at=nu(Oe.props.children,Ee.mode,at,Oe.key),at.return=Ee,Ee=at):(at=wr(Oe.type,Oe.key,Oe.props,null,Ee.mode,at),cf(at,Oe),at.return=Ee,Ee=at)}return k(Ee);case _:e:{for(Yt=Oe.key;_e!==null;){if(_e.key===Yt)if(_e.tag===4&&_e.stateNode.containerInfo===Oe.containerInfo&&_e.stateNode.implementation===Oe.implementation){p(Ee,_e.sibling),at=E(_e,Oe.children||[]),at.return=Ee,Ee=at;break e}else{p(Ee,_e);break}else u(Ee,_e);_e=_e.sibling}at=Hp(Oe,Ee.mode,at),at.return=Ee,Ee=at}return k(Ee);case P:return Yt=Oe._init,Oe=Yt(Oe._payload),wi(Ee,_e,Oe,at)}if(ae(Oe))return mn(Ee,_e,Oe,at);if(V(Oe)){if(Yt=V(Oe),typeof Yt!="function")throw Error(n(150));return Oe=Yt.call(Oe),un(Ee,_e,Oe,at)}if(typeof Oe.then=="function")return wi(Ee,_e,Zh(Oe),at);if(Oe.$$typeof===w)return wi(Ee,_e,zh(Ee,Oe),at);am(Ee,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,_e!==null&&_e.tag===6?(p(Ee,_e.sibling),at=E(_e,Oe),at.return=Ee,Ee=at):(p(Ee,_e),at=Nh(Oe,Ee.mode,at),at.return=Ee,Ee=at),k(Ee)):p(Ee,_e)}return function(Ee,_e,Oe,at){try{Jh=0;var Yt=wi(Ee,_e,Oe,at);return qu=null,Yt}catch($t){if($t===kh||$t===qa)throw $t;var Fn=Rs(29,$t,null,Ee.mode);return Fn.lanes=at,Fn.return=Ee,Fn}finally{}}}var Wu=m1(!0),g1=m1(!1),_i=oe(null),Ka=null;function fu(o){var u=o.alternate;Ae(Ji,Ji.current&1),Ae(_i,o),Ka===null&&(u===null||af.current!==null||u.memoizedState!==null)&&(Ka=o)}function v1(o){if(o.tag===22){if(Ae(Ji,Ji.current),Ae(_i,o),Ka===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(Ka=o)}}else hu()}function hu(){Ae(Ji,Ji.current),Ae(_i,_i.current)}function To(o){ve(_i),Ka===o&&(Ka=null),ve(Ji)}var Ji=oe(0);function Sl(o){for(var u=o;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||dM(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function du(o,u,p,y){u=o.memoizedState,p=p(y,u),p=p==null?u:m({},u,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var ps={enqueueSetState:function(o,u,p){o=o._reactInternals;var y=ki(),E=Eo(y);E.payload=u,p!=null&&(E.callback=p),u=vl(o,E,y),u!==null&&(gs(u,o,y),ju(u,o,y))},enqueueReplaceState:function(o,u,p){o=o._reactInternals;var y=ki(),E=Eo(y);E.tag=1,E.payload=u,p!=null&&(E.callback=p),u=vl(o,E,y),u!==null&&(gs(u,o,y),ju(u,o,y))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var p=ki(),y=Eo(p);y.tag=2,u!=null&&(y.callback=u),u=vl(o,y,p),u!==null&&(gs(u,o,p),ju(u,o,p))}};function y1(o,u,p,y,E,R,k){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,R,k):u.prototype&&u.prototype.isPureReactComponent?!Ya(p,y)||!Ya(E,R):!0}function _1(o,u,p,y){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,y),u.state!==o&&ps.enqueueReplaceState(u,u.state,null)}function Co(o,u){var p=u;if("ref"in u){p={};for(var y in u)y!=="ref"&&(p[y]=u[y])}if(o=o.defaultProps){p===u&&(p=m({},p));for(var E in o)p[E]===void 0&&(p[E]=o[E])}return p}var Ku=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Qh(o){Ku(o)}function om(o){console.error(o)}function x1(o){Ku(o)}function lm(o,u){try{var p=o.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(y){setTimeout(function(){throw y})}}function Ta(o,u,p){try{var y=o.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function um(o,u,p){return p=Eo(p),p.tag=3,p.payload={element:null},p.callback=function(){lm(o,u)},p}function S1(o){return o=Eo(o),o.tag=3,o}function cm(o,u,p,y){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var R=y.value;o.payload=function(){return E(R)},o.callback=function(){Ta(u,p,y)}}var k=p.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(o.callback=function(){Ta(u,p,y),typeof E!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var Q=y.stack;this.componentDidCatch(y.value,{componentStack:Q!==null?Q:""})})}function $b(o,u,p,y,E){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(u=p.alternate,u!==null&&Aa(u,p,E,!0),p=_i.current,p!==null){switch(p.tag){case 13:return Ka===null?f():p.alternate===null&&Bi===0&&(Bi=3),p.flags&=-257,p.flags|=65536,p.lanes=E,y===Xh?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([y]):u.add(y),ke(o,y,E)),!1;case 22:return p.flags|=65536,y===Xh?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([y]):p.add(y)),ke(o,y,E)),!1}throw Error(n(435,p.tag))}return ke(o,y,E),f(),!1}if(ei)return u=_i.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=E,y!==Vp&&(o=Error(n(422),{cause:y}),Yu(Hr(o,p)))):(y!==Vp&&(u=Error(n(423),{cause:y}),Yu(Hr(u,p))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,y=Hr(y,p),E=um(o.stateNode,y,E),nf(o,E),Bi!==4&&(Bi=2)),!1;var R=Error(n(520),{cause:y});if(R=Hr(R,p),ui===null?ui=[R]:ui.push(R),Bi!==4&&(Bi=2),u===null)return!0;y=Hr(y,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,o=E&-E,p.lanes|=o,o=um(p.stateNode,y,o),nf(p,o),!1;case 1:if(u=p.type,R=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(ra===null||!ra.has(R))))return p.flags|=65536,E&=-E,p.lanes|=E,E=S1(E),cm(E,o,p,y),nf(p,E),!1}p=p.return}while(p!==null);return!1}var A1=Error(n(461)),Rr=!1;function Zi(o,u,p,y){u.child=o===null?g1(u,null,p,y):Wu(u,o.child,p,y)}function Ds(o,u,p,y,E){p=p.render;var R=u.ref;if("ref"in y){var k={};for(var Q in y)Q!=="ref"&&(k[Q]=y[Q])}else k=y;return Mo(u),y=_l(o,u,p,k,R,E),Q=B0(),o!==null&&!Rr?(Zp(o,u,E),Br(o,u,E)):(ei&&Q&&_0(u),u.flags|=1,Zi(o,u,y,E),u.child)}function Os(o,u,p,y,E){if(o===null){var R=p.type;return typeof R=="function"&&!Lh(R)&&R.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=R,j0(o,u,R,y,E)):(o=wr(p.type,null,y,u,u.mode,E),o.ref=u.ref,o.return=u,u.child=o)}if(R=o.child,!$h(o,E)){var k=R.memoizedProps;if(p=p.compare,p=p!==null?p:Ya,p(k,y)&&o.ref===u.ref)return Br(o,u,E)}return u.flags|=1,o=Wi(R,y),o.ref=u.ref,o.return=u,u.child=o}function j0(o,u,p,y,E){if(o!==null){var R=o.memoizedProps;if(Ya(R,y)&&o.ref===u.ref)if(Rr=!1,u.pendingProps=y=R,$h(o,E))(o.flags&131072)!==0&&(Rr=!0);else return u.lanes=o.lanes,Br(o,u,E)}return ff(o,u,p,y,E)}function Ju(o,u,p){var y=u.pendingProps,E=y.children,R=o!==null?o.memoizedState:null;if(y.mode==="hidden"){if((u.flags&128)!==0){if(y=R!==null?R.baseLanes|p:p,o!==null){for(E=u.child=o.child,R=0;E!==null;)R=R|E.lanes|E.childLanes,E=E.sibling;u.childLanes=R&~y}else u.childLanes=0,u.child=null;return Zu(o,u,y,p)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&Vh(u,R!==null?R.cachePool:null),R!==null?F_(u,R):R0(),v1(u);else return u.lanes=u.childLanes=536870912,Zu(o,u,R!==null?R.baseLanes|p:p,p)}else R!==null?(Vh(u,R.cachePool),F_(u,R),hu(),u.memoizedState=null):(o!==null&&Vh(u,null),R0(),hu());return Zi(o,u,E,p),u.child}function Zu(o,u,p,y){var E=ou();return E=E===null?null:{parent:sr._currentValue,pool:E},u.memoizedState={baseLanes:p,cachePool:E},o!==null&&Vh(u,null),R0(),v1(u),o!==null&&Aa(o,u,y,!0),null}function Qu(o,u){var p=u.ref;if(p===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(o===null||o.ref!==p)&&(u.flags|=4194816)}}function ff(o,u,p,y,E){return Mo(u),p=_l(o,u,p,y,void 0,E),y=B0(),o!==null&&!Rr?(Zp(o,u,E),Br(o,u,E)):(ei&&y&&_0(u),u.flags|=1,Zi(o,u,p,E),u.child)}function Zs(o,u,p,y,E,R){return Mo(u),u.updateQueue=null,p=G_(u,y,p,E),H_(o),y=B0(),o!==null&&!Rr?(Zp(o,u,R),Br(o,u,R)):(ei&&y&&_0(u),u.flags|=1,Zi(o,u,p,R),u.child)}function Qs(o,u,p,y,E){if(Mo(u),u.stateNode===null){var R=tu,k=p.contextType;typeof k=="object"&&k!==null&&(R=Hi(k)),R=new p(y,R),u.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=ps,u.stateNode=R,R._reactInternals=u,R=u.stateNode,R.props=y,R.state=u.memoizedState,R.refs={},C0(u),k=p.contextType,R.context=typeof k=="object"&&k!==null?Hi(k):tu,R.state=u.memoizedState,k=p.getDerivedStateFromProps,typeof k=="function"&&(du(u,p,k,y),R.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(k=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),k!==R.state&&ps.enqueueReplaceState(R,R.state,null),rf(u,y,R,E),Yh(),R.state=u.memoizedState),typeof R.componentDidMount=="function"&&(u.flags|=4194308),y=!0}else if(o===null){R=u.stateNode;var Q=u.memoizedProps,he=Co(p,Q);R.props=he;var Le=R.context,nt=p.contextType;k=tu,typeof nt=="object"&&nt!==null&&(k=Hi(nt));var ct=p.getDerivedStateFromProps;nt=typeof ct=="function"||typeof R.getSnapshotBeforeUpdate=="function",Q=u.pendingProps!==Q,nt||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(Q||Le!==k)&&_1(u,R,y,k),gl=!1;var Ie=u.memoizedState;R.state=Ie,rf(u,y,R,E),Yh(),Le=u.memoizedState,Q||Ie!==Le||gl?(typeof ct=="function"&&(du(u,p,ct,y),Le=u.memoizedState),(he=gl||y1(u,p,he,y,Ie,Le,k))?(nt||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(u.flags|=4194308)):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=Le),R.props=y,R.state=Le,R.context=k,y=he):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{R=u.stateNode,dn(o,u),k=u.memoizedProps,nt=Co(p,k),R.props=nt,ct=u.pendingProps,Ie=R.context,Le=p.contextType,he=tu,typeof Le=="object"&&Le!==null&&(he=Hi(Le)),Q=p.getDerivedStateFromProps,(Le=typeof Q=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(k!==ct||Ie!==he)&&_1(u,R,y,he),gl=!1,Ie=u.memoizedState,R.state=Ie,rf(u,y,R,E),Yh();var Ve=u.memoizedState;k!==ct||Ie!==Ve||gl||o!==null&&o.dependencies!==null&&Fh(o.dependencies)?(typeof Q=="function"&&(du(u,p,Q,y),Ve=u.memoizedState),(nt=gl||y1(u,p,nt,y,Ie,Ve,he)||o!==null&&o.dependencies!==null&&Fh(o.dependencies))?(Le||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(y,Ve,he),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(y,Ve,he)),typeof R.componentDidUpdate=="function"&&(u.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof R.componentDidUpdate!="function"||k===o.memoizedProps&&Ie===o.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&Ie===o.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Ve),R.props=y,R.state=Ve,R.context=he,y=nt):(typeof R.componentDidUpdate!="function"||k===o.memoizedProps&&Ie===o.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||k===o.memoizedProps&&Ie===o.memoizedState||(u.flags|=1024),y=!1)}return R=y,Qu(o,u),y=(u.flags&128)!==0,R||y?(R=u.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:R.render(),u.flags|=1,o!==null&&y?(u.child=Wu(u,o.child,null,E),u.child=Wu(u,null,p,E)):Zi(o,u,p,E),u.memoizedState=R.state,o=u.child):o=Br(o,u,E),o}function pu(o,u,p,y){return Zc(),u.flags|=256,Zi(o,u,p,y),u.child}var Ja={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Za(o){return{baseLanes:o,cachePool:jp()}}function gr(o,u,p){return o=o!==null?o.childLanes&~p:0,u&&(o|=Da),o}function hf(o,u,p){var y=u.pendingProps,E=!1,R=(u.flags&128)!==0,k;if((k=R)||(k=o!==null&&o.memoizedState===null?!1:(Ji.current&2)!==0),k&&(E=!0,u.flags&=-129),k=(u.flags&32)!==0,u.flags&=-33,o===null){if(ei){if(E?fu(u):hu(),ei){var Q=Pi,he;if(he=Q){e:{for(he=Q,Q=Ws;he.nodeType!==8;){if(!Q){Q=null;break e}if(he=Cl(he.nextSibling),he===null){Q=null;break e}}Q=he}Q!==null?(u.memoizedState={dehydrated:Q,treeContext:iu!==null?{id:Ao,overflow:bo}:null,retryLane:536870912,hydrationErrors:null},he=Rs(18,null,null,0),he.stateNode=Q,he.return=u,u.child=he,fs=u,Pi=null,he=!0):he=!1}he||ru(u)}if(Q=u.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return dM(Q)?u.lanes=32:u.lanes=536870912,null;To(u)}return Q=y.children,y=y.fallback,E?(hu(),E=u.mode,Q=$u({mode:"hidden",children:Q},E),y=nu(y,E,p,null),Q.return=u,y.return=u,Q.sibling=y,u.child=Q,E=u.child,E.memoizedState=Za(p),E.childLanes=gr(o,k,p),u.memoizedState=Ja,y):(fu(u),wo(u,Q))}if(he=o.memoizedState,he!==null&&(Q=he.dehydrated,Q!==null)){if(R)u.flags&256?(fu(u),u.flags&=-257,u=kr(o,u,p)):u.memoizedState!==null?(hu(),u.child=o.child,u.flags|=128,u=null):(hu(),E=y.fallback,Q=u.mode,y=$u({mode:"visible",children:y.children},Q),E=nu(E,Q,p,null),E.flags|=2,y.return=u,E.return=u,y.sibling=E,u.child=y,Wu(u,o.child,null,p),y=u.child,y.memoizedState=Za(p),y.childLanes=gr(o,k,p),u.memoizedState=Ja,u=E);else if(fu(u),dM(Q)){if(k=Q.nextSibling&&Q.nextSibling.dataset,k)var Le=k.dgst;k=Le,y=Error(n(419)),y.stack="",y.digest=k,Yu({value:y,source:null,stack:null}),u=kr(o,u,p)}else if(Rr||Aa(o,u,p,!1),k=(p&o.childLanes)!==0,Rr||k){if(k=yn,k!==null&&(y=p&-p,y=(y&42)!==0?1:Pt(y),y=(y&(k.suspendedLanes|p))!==0?0:y,y!==0&&y!==he.retryLane))throw he.retryLane=y,hl(o,y),gs(k,o,y),A1;Q.data==="$?"||f(),u=kr(o,u,p)}else Q.data==="$?"?(u.flags|=192,u.child=o.child,u=null):(o=he.treeContext,Pi=Cl(Q.nextSibling),fs=u,ei=!0,Sa=null,Ws=!1,o!==null&&(Gr[qs++]=Ao,Gr[qs++]=bo,Gr[qs++]=iu,Ao=o.id,bo=o.overflow,iu=u),u=wo(u,y.children),u.flags|=4096);return u}return E?(hu(),E=y.fallback,Q=u.mode,he=o.child,Le=he.sibling,y=Wi(he,{mode:"hidden",children:y.children}),y.subtreeFlags=he.subtreeFlags&65011712,Le!==null?E=Wi(Le,E):(E=nu(E,Q,p,null),E.flags|=2),E.return=u,y.return=u,y.sibling=E,u.child=y,y=E,E=u.child,Q=o.child.memoizedState,Q===null?Q=Za(p):(he=Q.cachePool,he!==null?(Le=sr._currentValue,he=he.parent!==Le?{parent:Le,pool:Le}:he):he=jp(),Q={baseLanes:Q.baseLanes|p,cachePool:he}),E.memoizedState=Q,E.childLanes=gr(o,k,p),u.memoizedState=Ja,y):(fu(u),p=o.child,o=p.sibling,p=Wi(p,{mode:"visible",children:y.children}),p.return=u,p.sibling=null,o!==null&&(k=u.deletions,k===null?(u.deletions=[o],u.flags|=16):k.push(o)),u.child=p,u.memoizedState=null,p)}function wo(o,u){return u=$u({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function $u(o,u){return o=Rs(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function kr(o,u,p){return Wu(u,o.child,null,p),o=wo(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function Xr(o,u,p){o.lanes|=u;var y=o.alternate;y!==null&&(y.lanes|=u),b0(o.return,u,p)}function Xn(o,u,p,y,E){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:E}:(R.isBackwards=u,R.rendering=null,R.renderingStartTime=0,R.last=y,R.tail=p,R.tailMode=E)}function Ca(o,u,p){var y=u.pendingProps,E=y.revealOrder,R=y.tail;if(Zi(o,u,y.children,p),y=Ji.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Xr(o,p,u);else if(o.tag===19)Xr(o,p,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}switch(Ae(Ji,y),E){case"forwards":for(p=u.child,E=null;p!==null;)o=p.alternate,o!==null&&Sl(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=u.child,u.child=null):(E=p.sibling,p.sibling=null),Xn(u,!1,E,p,R);break;case"backwards":for(p=null,E=u.child,u.child=null;E!==null;){if(o=E.alternate,o!==null&&Sl(o)===null){u.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}Xn(u,!0,p,null,R);break;case"together":Xn(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Br(o,u,p){if(o!==null&&(u.dependencies=o.dependencies),to|=u.lanes,(p&u.childLanes)===0)if(o!==null){if(Aa(o,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(n(153));if(u.child!==null){for(o=u.child,p=Wi(o,o.pendingProps),u.child=p,p.return=u;o.sibling!==null;)o=o.sibling,p=p.sibling=Wi(o,o.pendingProps),p.return=u;p.sibling=null}return u.child}function $h(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Fh(o)))}function wa(o,u,p){switch(u.tag){case 3:Ue(u,u.stateNode.containerInfo),au(u,sr,o.memoizedState.cache),Zc();break;case 27:case 5:At(u);break;case 4:Ue(u,u.stateNode.containerInfo);break;case 10:au(u,u.type,u.memoizedProps.value);break;case 13:var y=u.memoizedState;if(y!==null)return y.dehydrated!==null?(fu(u),u.flags|=128,null):(p&u.child.childLanes)!==0?hf(o,u,p):(fu(u),o=Br(o,u,p),o!==null?o.sibling:null);fu(u);break;case 19:var E=(o.flags&128)!==0;if(y=(p&u.childLanes)!==0,y||(Aa(o,u,p,!1),y=(p&u.childLanes)!==0),E){if(y)return Ca(o,u,p);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Ae(Ji,Ji.current),y)break;return null;case 22:case 23:return u.lanes=0,Ju(o,u,p);case 24:au(u,sr,o.memoizedState.cache)}return Br(o,u,p)}function ec(o,u,p){if(o!==null)if(o.memoizedProps!==u.pendingProps)Rr=!0;else{if(!$h(o,p)&&(u.flags&128)===0)return Rr=!1,wa(o,u,p);Rr=(o.flags&131072)!==0}else Rr=!1,ei&&(u.flags&1048576)!==0&&Gp(u,Jc,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var y=u.elementType,E=y._init;if(y=E(y._payload),u.type=y,typeof y=="function")Lh(y)?(o=Co(y,o),u.tag=1,u=Qs(null,u,y,o,p)):(u.tag=0,u=ff(null,u,y,o,p));else{if(y!=null){if(E=y.$$typeof,E===B){u.tag=11,u=Ds(null,u,y,o,p);break e}else if(E===I){u.tag=14,u=Os(null,u,y,o,p);break e}}throw u=K(y)||y,Error(n(306,u,""))}}return u;case 0:return ff(o,u,u.type,u.pendingProps,p);case 1:return y=u.type,E=Co(y,u.pendingProps),Qs(o,u,y,E,p);case 3:e:{if(Ue(u,u.stateNode.containerInfo),o===null)throw Error(n(387));y=u.pendingProps;var R=u.memoizedState;E=R.element,dn(o,u),rf(u,y,null,p);var k=u.memoizedState;if(y=k.cache,au(u,sr,y),y!==R.cache&&Ih(u,[sr],p,!0),Yh(),y=k.element,R.isDehydrated)if(R={element:y,isDehydrated:!1,cache:k.cache},u.updateQueue.baseState=R,u.memoizedState=R,u.flags&256){u=pu(o,u,y,p);break e}else if(y!==E){E=Hr(Error(n(424)),u),Yu(E),u=pu(o,u,y,p);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Pi=Cl(o.firstChild),fs=u,ei=!0,Sa=null,Ws=!0,p=g1(u,null,y,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Zc(),y===E){u=Br(o,u,p);break e}Zi(o,u,y,p)}u=u.child}return u;case 26:return Qu(o,u),o===null?(p=UR(u.type,null,u.pendingProps,null))?u.memoizedState=p:ei||(p=u.type,o=u.pendingProps,y=w1(we.current).createElement(p),y[pt]=u,y[Ht]=o,vs(y,p,o),De(y),u.stateNode=y):u.memoizedState=UR(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return At(u),o===null&&ei&&(y=u.stateNode=BR(u.type,u.pendingProps,we.current),fs=u,Ws=!0,E=Pi,Af(u.type)?(pM=E,Pi=Cl(y.firstChild)):Pi=E),Zi(o,u,u.pendingProps.children,p),Qu(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&ei&&((E=y=Pi)&&(y=KF(y,u.type,u.pendingProps,Ws),y!==null?(u.stateNode=y,fs=u,Pi=Cl(y.firstChild),Ws=!1,E=!0):E=!1),E||ru(u)),At(u),E=u.type,R=u.pendingProps,k=o!==null?o.memoizedProps:null,y=R.children,cM(E,R)?y=null:k!==null&&cM(E,k)&&(u.flags|=32),u.memoizedState!==null&&(E=_l(o,u,qb,null,null,p),iv._currentValue=E),Qu(o,u),Zi(o,u,y,p),u.child;case 6:return o===null&&ei&&((o=p=Pi)&&(p=JF(p,u.pendingProps,Ws),p!==null?(u.stateNode=p,fs=u,Pi=null,o=!0):o=!1),o||ru(u)),null;case 13:return hf(o,u,p);case 4:return Ue(u,u.stateNode.containerInfo),y=u.pendingProps,o===null?u.child=Wu(u,null,y,p):Zi(o,u,y,p),u.child;case 11:return Ds(o,u,u.type,u.pendingProps,p);case 7:return Zi(o,u,u.pendingProps,p),u.child;case 8:return Zi(o,u,u.pendingProps.children,p),u.child;case 12:return Zi(o,u,u.pendingProps.children,p),u.child;case 10:return y=u.pendingProps,au(u,u.type,y.value),Zi(o,u,y.children,p),u.child;case 9:return E=u.type._context,y=u.pendingProps.children,Mo(u),E=Hi(E),y=y(E),u.flags|=1,Zi(o,u,y,p),u.child;case 14:return Os(o,u,u.type,u.pendingProps,p);case 15:return j0(o,u,u.type,u.pendingProps,p);case 19:return Ca(o,u,p);case 31:return y=u.pendingProps,p=u.mode,y={mode:y.mode,children:y.children},o===null?(p=$u(y,p),p.ref=u.ref,u.child=p,p.return=u,u=p):(p=Wi(o.child,y),p.ref=u.ref,u.child=p,p.return=u,u=p),u;case 22:return Ju(o,u,p);case 24:return Mo(u),y=Hi(sr),o===null?(E=ou(),E===null&&(E=yn,R=Xp(),E.pooledCache=R,R.refCount++,R!==null&&(E.pooledCacheLanes|=p),E=R),u.memoizedState={parent:y,cache:E},C0(u),au(u,sr,E)):((o.lanes&p)!==0&&(dn(o,u),rf(u,null,null,p),Yh()),E=o.memoizedState,R=u.memoizedState,E.parent!==y?(E={parent:y,cache:y},u.memoizedState=E,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=E),au(u,sr,y)):(y=R.cache,au(u,sr,y),y!==E.cache&&Ih(u,[sr],p,!0))),Zi(o,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function Qa(o){o.flags|=4}function ed(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!FR(u)){if(u=_i.current,u!==null&&((nn&4194048)===nn?Ka!==null:(nn&62914560)!==nn&&(nn&536870912)===0||u!==Ka))throw Ma=Xh,E0;o.flags|=8192}}function Al(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Be():536870912,o.lanes|=u,qn|=u)}function tc(o,u){if(!ei)switch(o.tailMode){case"hidden":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Mi(o){var u=o.alternate!==null&&o.alternate.child===o.child,p=0,y=0;if(u)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,y|=E.subtreeFlags&65011712,y|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,y|=E.subtreeFlags,y|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=y,o.childLanes=p,u}function q0(o,u,p){var y=u.pendingProps;switch(x0(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(u),null;case 1:return Mi(u),null;case 3:return p=u.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),u.memoizedState.cache!==y&&(u.flags|=2048),ml(sr),dt(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(ja(u)?Qa(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,oi())),Mi(u),null;case 26:return p=u.memoizedState,o===null?(Qa(u),p!==null?(Mi(u),ed(u,p)):(Mi(u),u.flags&=-16777217)):p?p!==o.memoizedState?(Qa(u),Mi(u),ed(u,p)):(Mi(u),u.flags&=-16777217):(o.memoizedProps!==y&&Qa(u),Mi(u),u.flags&=-16777217),null;case 27:zt(u),p=we.current;var E=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==y&&Qa(u);else{if(!y){if(u.stateNode===null)throw Error(n(166));return Mi(u),null}o=se.current,ja(u)?L_(u):(o=BR(E,y,p),u.stateNode=o,Qa(u))}return Mi(u),null;case 5:if(zt(u),p=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==y&&Qa(u);else{if(!y){if(u.stateNode===null)throw Error(n(166));return Mi(u),null}if(o=se.current,ja(u))L_(u);else{switch(E=w1(we.current),o){case 1:o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof y.is=="string"?E.createElement("select",{is:y.is}):E.createElement("select"),y.multiple?o.multiple=!0:y.size&&(o.size=y.size);break;default:o=typeof y.is=="string"?E.createElement(p,{is:y.is}):E.createElement(p)}}o[pt]=u,o[Ht]=y;e:for(E=u.child;E!==null;){if(E.tag===5||E.tag===6)o.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===u)break e;for(;E.sibling===null;){if(E.return===null||E.return===u)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}u.stateNode=o;e:switch(vs(o,p,y),p){case"button":case"input":case"select":case"textarea":o=!!y.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Qa(u)}}return Mi(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==y&&Qa(u);else{if(typeof y!="string"&&u.stateNode===null)throw Error(n(166));if(o=we.current,ja(u)){if(o=u.stateNode,p=u.memoizedProps,y=null,E=fs,E!==null)switch(E.tag){case 27:case 5:y=E.memoizedProps}o[pt]=u,o=!!(o.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||bR(o.nodeValue,p)),o||ru(u)}else o=w1(o).createTextNode(y),o[pt]=u,u.stateNode=o}return Mi(u),null;case 13:if(y=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=ja(u),y!==null&&y.dehydrated!==null){if(o===null){if(!E)throw Error(n(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[pt]=u}else Zc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Mi(u),E=!1}else E=oi(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return u.flags&256?(To(u),u):(To(u),null)}if(To(u),(u.flags&128)!==0)return u.lanes=p,u;if(p=y!==null,o=o!==null&&o.memoizedState!==null,p){y=u.child,E=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(E=y.alternate.memoizedState.cachePool.pool);var R=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(R=y.memoizedState.cachePool.pool),R!==E&&(y.flags|=2048)}return p!==o&&p&&(u.child.flags|=8192),Al(u,u.updateQueue),Mi(u),null;case 4:return dt(),o===null&&sM(u.stateNode.containerInfo),Mi(u),null;case 10:return ml(u.type),Mi(u),null;case 19:if(ve(Ji),E=u.memoizedState,E===null)return Mi(u),null;if(y=(u.flags&128)!==0,R=E.rendering,R===null)if(y)tc(E,!1);else{if(Bi!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(R=Sl(o),R!==null){for(u.flags|=128,tc(E,!1),o=R.updateQueue,u.updateQueue=o,Al(u,o),u.subtreeFlags=0,o=p,p=u.child;p!==null;)y0(p,o),p=p.sibling;return Ae(Ji,Ji.current&1|2),u.child}o=o.sibling}E.tail!==null&&ce()>$r&&(u.flags|=128,y=!0,tc(E,!1),u.lanes=4194304)}else{if(!y)if(o=Sl(R),o!==null){if(u.flags|=128,y=!0,o=o.updateQueue,u.updateQueue=o,Al(u,o),tc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!R.alternate&&!ei)return Mi(u),null}else 2*ce()-E.renderingStartTime>$r&&p!==536870912&&(u.flags|=128,y=!0,tc(E,!1),u.lanes=4194304);E.isBackwards?(R.sibling=u.child,u.child=R):(o=E.last,o!==null?o.sibling=R:u.child=R,E.last=R)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=ce(),u.sibling=null,o=Ji.current,Ae(Ji,y?o&1|2:o&1),u):(Mi(u),null);case 22:case 23:return To(u),jh(),y=u.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(u.flags|=8192):y&&(u.flags|=8192),y?(p&536870912)!==0&&(u.flags&128)===0&&(Mi(u),u.subtreeFlags&6&&(u.flags|=8192)):Mi(u),p=u.updateQueue,p!==null&&Al(u,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048),o!==null&&ve(ba),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),ml(sr),Mi(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function df(o,u){switch(x0(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return ml(sr),dt(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return zt(u),null;case 13:if(To(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Zc()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return ve(Ji),null;case 4:return dt(),null;case 10:return ml(u.type),null;case 22:case 23:return To(u),jh(),o!==null&&ve(ba),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return ml(sr),null;case 25:return null;default:return null}}function pf(o,u){switch(x0(u),u.tag){case 3:ml(sr),dt();break;case 26:case 27:case 5:zt(u);break;case 4:dt();break;case 13:To(u);break;case 19:ve(Ji);break;case 10:ml(u.type);break;case 22:case 23:To(u),jh(),o!==null&&ve(ba);break;case 24:ml(sr)}}function nc(o,u){try{var p=u.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var E=y.next;p=E;do{if((p.tag&o)===o){y=void 0;var R=p.create,k=p.inst;y=R(),k.destroy=y}p=p.next}while(p!==E)}}catch(Q){ye(u,u.return,Q)}}function $s(o,u,p){try{var y=u.updateQueue,E=y!==null?y.lastEffect:null;if(E!==null){var R=E.next;y=R;do{if((y.tag&o)===o){var k=y.inst,Q=k.destroy;if(Q!==void 0){k.destroy=void 0,E=u;var he=p,Le=Q;try{Le()}catch(nt){ye(E,he,nt)}}}y=y.next}while(y!==R)}}catch(nt){ye(u,u.return,nt)}}function ic(o){var u=o.updateQueue;if(u!==null){var p=o.stateNode;try{I_(u,p)}catch(y){ye(o,o.return,y)}}}function bl(o,u,p){p.props=Co(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(y){ye(o,u,y)}}function rc(o,u){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof p=="function"?o.refCleanup=p(y):p.current=y}}catch(E){ye(o,u,E)}}function Ro(o,u){var p=o.ref,y=o.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(E){ye(o,u,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){ye(o,u,E)}else p.current=null}function mf(o){var u=o.type,p=o.memoizedProps,y=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(E){ye(o,o.return,E)}}function td(o,u,p){try{var y=o.stateNode;XF(y,o.type,p,u),y[Ht]=u}catch(E){ye(o,o.return,E)}}function nd(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Af(o.type)||o.tag===4}function mu(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||nd(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Af(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function gu(o,u,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(o),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=C1));else if(y!==4&&(y===27&&Af(o.type)&&(p=o.stateNode,u=null),o=o.child,o!==null))for(gu(o,u,p),o=o.sibling;o!==null;)gu(o,u,p),o=o.sibling}function vu(o,u,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?p.insertBefore(o,u):p.appendChild(o);else if(y!==4&&(y===27&&Af(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(vu(o,u,p),o=o.sibling;o!==null;)vu(o,u,p),o=o.sibling}function yu(o){var u=o.stateNode,p=o.memoizedProps;try{for(var y=o.type,E=u.attributes;E.length;)u.removeAttributeNode(E[0]);vs(u,y,p),u[pt]=o,u[Ht]=p}catch(R){ye(o,o.return,R)}}var Bo=!1,Ei=!1,gf=!1,ea=typeof WeakSet=="function"?WeakSet:Set,xi=null;function vr(o,u){if(o=o.containerInfo,lM=L1,o=f0(o),Bh(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var E=y.anchorOffset,R=y.focusNode;y=y.focusOffset;try{p.nodeType,R.nodeType}catch{p=null;break e}var k=0,Q=-1,he=-1,Le=0,nt=0,ct=o,Ie=null;t:for(;;){for(var Ve;ct!==p||E!==0&&ct.nodeType!==3||(Q=k+E),ct!==R||y!==0&&ct.nodeType!==3||(he=k+y),ct.nodeType===3&&(k+=ct.nodeValue.length),(Ve=ct.firstChild)!==null;)Ie=ct,ct=Ve;for(;;){if(ct===o)break t;if(Ie===p&&++Le===E&&(Q=k),Ie===R&&++nt===y&&(he=k),(Ve=ct.nextSibling)!==null)break;ct=Ie,Ie=ct.parentNode}ct=Ve}p=Q===-1||he===-1?null:{start:Q,end:he}}else p=null}p=p||{start:0,end:0}}else p=null;for(uM={focusedElem:o,selectionRange:p},L1=!1,xi=u;xi!==null;)if(u=xi,o=u.child,(u.subtreeFlags&1024)!==0&&o!==null)o.return=u,xi=o;else for(;xi!==null;){switch(u=xi,R=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&R!==null){o=void 0,p=u,E=R.memoizedProps,R=R.memoizedState,y=p.stateNode;try{var mn=Co(p.type,E,p.elementType===p.type);o=y.getSnapshotBeforeUpdate(mn,R),y.__reactInternalSnapshotBeforeUpdate=o}catch(un){ye(p,p.return,un)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,p=o.nodeType,p===9)hM(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":hM(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=u.sibling,o!==null){o.return=u.return,xi=o;break}xi=u.return}}function Ml(o,u,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:ms(o,p),y&4&&nc(5,p);break;case 1:if(ms(o,p),y&4)if(o=p.stateNode,u===null)try{o.componentDidMount()}catch(k){ye(p,p.return,k)}else{var E=Co(p.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(E,u,o.__reactInternalSnapshotBeforeUpdate)}catch(k){ye(p,p.return,k)}}y&64&&ic(p),y&512&&rc(p,p.return);break;case 3:if(ms(o,p),y&64&&(o=p.updateQueue,o!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{I_(o,u)}catch(k){ye(p,p.return,k)}}break;case 27:u===null&&y&4&&yu(p);case 26:case 5:ms(o,p),u===null&&y&4&&mf(p),y&512&&rc(p,p.return);break;case 12:ms(o,p);break;case 13:ms(o,p),y&4&&_u(o,p),y&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=Di.bind(null,p),ZF(o,p))));break;case 22:if(y=p.memoizedState!==null||Bo,!y){u=u!==null&&u.memoizedState!==null||Ei,E=Bo;var R=Ei;Bo=y,(Ei=u)&&!R?Do(o,p,(p.subtreeFlags&8772)!==0):ms(o,p),Bo=E,Ei=R}break;case 30:break;default:ms(o,p)}}function wn(o){var u=o.alternate;u!==null&&(o.alternate=null,wn(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&tn(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var sn=null,jn=!1;function Ra(o,u,p){for(p=p.child;p!==null;)sc(o,u,p),p=p.sibling}function sc(o,u,p){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ge,p)}catch{}switch(p.tag){case 26:Ei||Ro(p,u),Ra(o,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Ei||Ro(p,u);var y=sn,E=jn;Af(p.type)&&(sn=p.stateNode,jn=!1),Ra(o,u,p),$0(p.stateNode),sn=y,jn=E;break;case 5:Ei||Ro(p,u);case 6:if(y=sn,E=jn,sn=null,Ra(o,u,p),sn=y,jn=E,sn!==null)if(jn)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(p.stateNode)}catch(R){ye(p,u,R)}else try{sn.removeChild(p.stateNode)}catch(R){ye(p,u,R)}break;case 18:sn!==null&&(jn?(o=sn,wR(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),ov(o)):wR(sn,p.stateNode));break;case 4:y=sn,E=jn,sn=p.stateNode.containerInfo,jn=!0,Ra(o,u,p),sn=y,jn=E;break;case 0:case 11:case 14:case 15:Ei||$s(2,p,u),Ei||$s(4,p,u),Ra(o,u,p);break;case 1:Ei||(Ro(p,u),y=p.stateNode,typeof y.componentWillUnmount=="function"&&bl(p,u,y)),Ra(o,u,p);break;case 21:Ra(o,u,p);break;case 22:Ei=(y=Ei)||p.memoizedState!==null,Ra(o,u,p),Ei=y;break;default:Ra(o,u,p)}}function _u(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{ov(o)}catch(p){ye(u,u.return,p)}}function fm(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new ea),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new ea),u;default:throw Error(n(435,o.tag))}}function ac(o,u){var p=fm(o);u.forEach(function(y){var E=pn.bind(null,o,y);p.has(y)||(p.add(y),y.then(E,E))})}function Dr(o,u){var p=u.deletions;if(p!==null)for(var y=0;y<p.length;y++){var E=p[y],R=o,k=u,Q=k;e:for(;Q!==null;){switch(Q.tag){case 27:if(Af(Q.type)){sn=Q.stateNode,jn=!1;break e}break;case 5:sn=Q.stateNode,jn=!1;break e;case 3:case 4:sn=Q.stateNode.containerInfo,jn=!0;break e}Q=Q.return}if(sn===null)throw Error(n(160));sc(R,k,E),sn=null,jn=!1,R=E.alternate,R!==null&&(R.return=null),E.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)hm(u,o),u=u.sibling}var $a=null;function hm(o,u){var p=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Dr(u,o),Gi(o),y&4&&($s(3,o,o.return),nc(3,o),$s(5,o,o.return));break;case 1:Dr(u,o),Gi(o),y&512&&(Ei||p===null||Ro(p,p.return)),y&64&&Bo&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var E=$a;if(Dr(u,o),Gi(o),y&512&&(Ei||p===null||Ro(p,p.return)),y&4){var R=p!==null?p.memoizedState:null;if(y=o.memoizedState,p===null)if(y===null)if(o.stateNode===null){e:{y=o.type,p=o.memoizedProps,E=E.ownerDocument||E;t:switch(y){case"title":R=E.getElementsByTagName("title")[0],(!R||R[ii]||R[pt]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=E.createElement(y),E.head.insertBefore(R,E.querySelector("head > title"))),vs(R,y,p),R[pt]=o,De(R),y=R;break e;case"link":var k=PR("link","href",E).get(y+(p.href||""));if(k){for(var Q=0;Q<k.length;Q++)if(R=k[Q],R.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&R.getAttribute("rel")===(p.rel==null?null:p.rel)&&R.getAttribute("title")===(p.title==null?null:p.title)&&R.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){k.splice(Q,1);break t}}R=E.createElement(y),vs(R,y,p),E.head.appendChild(R);break;case"meta":if(k=PR("meta","content",E).get(y+(p.content||""))){for(Q=0;Q<k.length;Q++)if(R=k[Q],R.getAttribute("content")===(p.content==null?null:""+p.content)&&R.getAttribute("name")===(p.name==null?null:p.name)&&R.getAttribute("property")===(p.property==null?null:p.property)&&R.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&R.getAttribute("charset")===(p.charSet==null?null:p.charSet)){k.splice(Q,1);break t}}R=E.createElement(y),vs(R,y,p),E.head.appendChild(R);break;default:throw Error(n(468,y))}R[pt]=o,De(R),y=R}o.stateNode=y}else IR(E,o.type,o.stateNode);else o.stateNode=NR(E,y,o.memoizedProps);else R!==y?(R===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):R.count--,y===null?IR(E,o.type,o.stateNode):NR(E,y,o.memoizedProps)):y===null&&o.stateNode!==null&&td(o,o.memoizedProps,p.memoizedProps)}break;case 27:Dr(u,o),Gi(o),y&512&&(Ei||p===null||Ro(p,p.return)),p!==null&&y&4&&td(o,o.memoizedProps,p.memoizedProps);break;case 5:if(Dr(u,o),Gi(o),y&512&&(Ei||p===null||Ro(p,p.return)),o.flags&32){E=o.stateNode;try{ls(E,"")}catch(Ve){ye(o,o.return,Ve)}}y&4&&o.stateNode!=null&&(E=o.memoizedProps,td(o,E,p!==null?p.memoizedProps:E)),y&1024&&(gf=!0);break;case 6:if(Dr(u,o),Gi(o),y&4){if(o.stateNode===null)throw Error(n(162));y=o.memoizedProps,p=o.stateNode;try{p.nodeValue=y}catch(Ve){ye(o,o.return,Ve)}}break;case 3:if(D1=null,E=$a,$a=R1(u.containerInfo),Dr(u,o),$a=E,Gi(o),y&4&&p!==null&&p.memoizedState.isDehydrated)try{ov(u.containerInfo)}catch(Ve){ye(o,o.return,Ve)}gf&&(gf=!1,xu(o));break;case 4:y=$a,$a=R1(o.stateNode.containerInfo),Dr(u,o),Gi(o),$a=y;break;case 12:Dr(u,o),Gi(o);break;case 13:Dr(u,o),Gi(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(mi=ce()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,ac(o,y)));break;case 22:E=o.memoizedState!==null;var he=p!==null&&p.memoizedState!==null,Le=Bo,nt=Ei;if(Bo=Le||E,Ei=nt||he,Dr(u,o),Ei=nt,Bo=Le,Gi(o),y&8192)e:for(u=o.stateNode,u._visibility=E?u._visibility&-2:u._visibility|1,E&&(p===null||he||Bo||Ei||ta(o)),p=null,u=o;;){if(u.tag===5||u.tag===26){if(p===null){he=p=u;try{if(R=he.stateNode,E)k=R.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{Q=he.stateNode;var ct=he.memoizedProps.style,Ie=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;Q.style.display=Ie==null||typeof Ie=="boolean"?"":(""+Ie).trim()}}catch(Ve){ye(he,he.return,Ve)}}}else if(u.tag===6){if(p===null){he=u;try{he.stateNode.nodeValue=E?"":he.memoizedProps}catch(Ve){ye(he,he.return,Ve)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}y&4&&(y=o.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,ac(o,p))));break;case 19:Dr(u,o),Gi(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,ac(o,y)));break;case 30:break;case 21:break;default:Dr(u,o),Gi(o)}}function Gi(o){var u=o.flags;if(u&2){try{for(var p,y=o.return;y!==null;){if(nd(y)){p=y;break}y=y.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var E=p.stateNode,R=mu(o);vu(o,R,E);break;case 5:var k=p.stateNode;p.flags&32&&(ls(k,""),p.flags&=-33);var Q=mu(o);vu(o,Q,k);break;case 3:case 4:var he=p.stateNode.containerInfo,Le=mu(o);gu(o,Le,he);break;default:throw Error(n(161))}}catch(nt){ye(o,o.return,nt)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function xu(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;xu(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function ms(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Ml(o,u.alternate,u),u=u.sibling}function ta(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:$s(4,u,u.return),ta(u);break;case 1:Ro(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&bl(u,u.return,p),ta(u);break;case 27:$0(u.stateNode);case 26:case 5:Ro(u,u.return),ta(u);break;case 22:u.memoizedState===null&&ta(u);break;case 30:ta(u);break;default:ta(u)}o=o.sibling}}function Do(o,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var y=u.alternate,E=o,R=u,k=R.flags;switch(R.tag){case 0:case 11:case 15:Do(E,R,p),nc(4,R);break;case 1:if(Do(E,R,p),y=R,E=y.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Le){ye(y,y.return,Le)}if(y=R,E=y.updateQueue,E!==null){var Q=y.stateNode;try{var he=E.shared.hiddenCallbacks;if(he!==null)for(E.shared.hiddenCallbacks=null,E=0;E<he.length;E++)sf(he[E],Q)}catch(Le){ye(y,y.return,Le)}}p&&k&64&&ic(R),rc(R,R.return);break;case 27:yu(R);case 26:case 5:Do(E,R,p),p&&y===null&&k&4&&mf(R),rc(R,R.return);break;case 12:Do(E,R,p);break;case 13:Do(E,R,p),p&&k&4&&_u(E,R);break;case 22:R.memoizedState===null&&Do(E,R,p),rc(R,R.return);break;case 30:break;default:Do(E,R,p)}u=u.sibling}}function dm(o,u){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Qc(p))}function pm(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Qc(o))}function Si(o,u,p,y){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)mm(o,u,p,y),u=u.sibling}function mm(o,u,p,y){var E=u.flags;switch(u.tag){case 0:case 11:case 15:Si(o,u,p,y),E&2048&&nc(9,u);break;case 1:Si(o,u,p,y);break;case 3:Si(o,u,p,y),E&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Qc(o)));break;case 12:if(E&2048){Si(o,u,p,y),o=u.stateNode;try{var R=u.memoizedProps,k=R.id,Q=R.onPostCommit;typeof Q=="function"&&Q(k,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(he){ye(u,u.return,he)}}else Si(o,u,p,y);break;case 13:Si(o,u,p,y);break;case 23:break;case 22:R=u.stateNode,k=u.alternate,u.memoizedState!==null?R._visibility&2?Si(o,u,p,y):eo(o,u):R._visibility&2?Si(o,u,p,y):(R._visibility|=2,El(o,u,p,y,(u.subtreeFlags&10256)!==0)),E&2048&&dm(k,u);break;case 24:Si(o,u,p,y),E&2048&&pm(u.alternate,u);break;default:Si(o,u,p,y)}}function El(o,u,p,y,E){for(E=E&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var R=o,k=u,Q=p,he=y,Le=k.flags;switch(k.tag){case 0:case 11:case 15:El(R,k,Q,he,E),nc(8,k);break;case 23:break;case 22:var nt=k.stateNode;k.memoizedState!==null?nt._visibility&2?El(R,k,Q,he,E):eo(R,k):(nt._visibility|=2,El(R,k,Q,he,E)),E&&Le&2048&&dm(k.alternate,k);break;case 24:El(R,k,Q,he,E),E&&Le&2048&&pm(k.alternate,k);break;default:El(R,k,Q,he,E)}u=u.sibling}}function eo(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=o,y=u,E=y.flags;switch(y.tag){case 22:eo(p,y),E&2048&&dm(y.alternate,y);break;case 24:eo(p,y),E&2048&&pm(y.alternate,y);break;default:eo(p,y)}u=u.sibling}}var na=8192;function vf(o){if(o.subtreeFlags&na)for(o=o.child;o!==null;)b1(o),o=o.sibling}function b1(o){switch(o.tag){case 26:vf(o),o.flags&na&&o.memoizedState!==null&&cz($a,o.memoizedState,o.memoizedProps);break;case 5:vf(o);break;case 3:case 4:var u=$a;$a=R1(o.stateNode.containerInfo),vf(o),$a=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=na,na=16777216,vf(o),na=u):vf(o));break;default:vf(o)}}function M1(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Ti(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];xi=y,Uo(y,o)}M1(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)W0(o),o=o.sibling}function W0(o){switch(o.tag){case 0:case 11:case 15:Ti(o),o.flags&2048&&$s(9,o,o.return);break;case 3:Ti(o);break;case 12:Ti(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Oo(o)):Ti(o);break;default:Ti(o)}}function Oo(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];xi=y,Uo(y,o)}M1(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:$s(8,u,u.return),Oo(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,Oo(u));break;default:Oo(u)}o=o.sibling}}function Uo(o,u){for(;xi!==null;){var p=xi;switch(p.tag){case 0:case 11:case 15:$s(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Qc(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,xi=y;else e:for(p=o;xi!==null;){y=xi;var E=y.sibling,R=y.return;if(wn(y),y===p){xi=null;break e}if(E!==null){E.return=R,xi=E;break e}xi=R}}}var Vi={getCacheForType:function(o){var u=Hi(sr),p=u.data.get(o);return p===void 0&&(p=o(),u.data.set(o,p)),p}},K0=typeof WeakMap=="function"?WeakMap:Map,li=0,yn=null,Un=null,nn=0,En=0,Ii=null,ia=!1,yf=!1,_f=!1,Ba=0,Bi=0,to=0,Lo=0,oc=0,Da=0,qn=0,ui=null,on=null,In=!1,mi=0,$r=1/0,Oa=null,ra=null,yr=0,es=null,Ai=null,sa=0,Tl=0,id=null,aa=null,No=0,lc=null;function ki(){if((li&2)!==0&&nn!==0)return nn&-nn;if(G.T!==null){var o=Sn;return o!==0?o:tM()}return Et()}function gm(){Da===0&&(Da=(nn&536870912)===0||ei?re():536870912);var o=_i.current;return o!==null&&(o.flags|=32),Da}function gs(o,u,p){(o===yn&&(En===2||En===9)||o.cancelPendingCommit!==null)&&(Au(o,0),no(o,nn,Da,!1)),gt(o,p),((li&2)===0||o!==yn)&&(o===yn&&((li&2)===0&&(Lo|=p),Bi===4&&no(o,nn,Da,!1)),Eu(o))}function xf(o,u,p){if((li&6)!==0)throw Error(n(327));var y=!p&&(u&124)===0&&(u&o.expiredLanes)===0||Se(o,u),E=y?T(o,u):d(o,u,!0),R=y;do{if(E===0){yf&&!y&&no(o,u,0,!1);break}else{if(p=o.current.alternate,R&&!Su(p)){E=d(o,u,!1),R=!1;continue}if(E===2){if(R=u,o.errorRecoveryDisabledLanes&R)var k=0;else k=o.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){u=k;e:{var Q=o;E=ui;var he=Q.current.memoizedState.isDehydrated;if(he&&(Au(Q,k).flags|=256),k=d(Q,k,!1),k!==2){if(_f&&!he){Q.errorRecoveryDisabledLanes|=R,Lo|=R,E=4;break e}R=on,on=E,R!==null&&(on===null?on=R:on.push.apply(on,R))}E=k}if(R=!1,E!==2)continue}}if(E===1){Au(o,0),no(o,u,0,!0);break}e:{switch(y=o,R=E,R){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:no(y,u,Da,!ia);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(E=mi+300-ce(),10<E)){if(no(y,u,Da,!ia),ue(y,0,!0)!==0)break e;y.timeoutHandle=TR(rd.bind(null,y,p,on,Oa,In,u,Da,Lo,qn,ia,R,2,-0,0),E);break e}rd(y,p,on,Oa,In,u,Da,Lo,qn,ia,R,0,-0,0)}}break}while(!0);Eu(o)}function rd(o,u,p,y,E,R,k,Q,he,Le,nt,ct,Ie,Ve){if(o.timeoutHandle=-1,ct=u.subtreeFlags,(ct&8192||(ct&16785408)===16785408)&&(nv={stylesheets:null,count:0,unsuspend:uz},b1(u),ct=fz(),ct!==null)){o.cancelPendingCommit=ct(xt.bind(null,o,u,R,p,y,E,k,Q,he,nt,1,Ie,Ve)),no(o,R,k,!Le);return}xt(o,u,R,p,y,E,k,Q,he)}function Su(o){for(var u=o;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var E=p[y],R=E.getSnapshot;E=E.value;try{if(!Ts(R(),E))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function no(o,u,p,y){u&=~oc,u&=~Lo,o.suspendedLanes|=u,o.pingedLanes&=~u,y&&(o.warmLanes|=u),y=o.expirationTimes;for(var E=u;0<E;){var R=31-mt(E),k=1<<R;y[R]=-1,E&=~k}p!==0&&Ze(o,p,u)}function Po(){return(li&6)===0?(J0(0),!1):!0}function uc(){if(Un!==null){if(En===0)var o=Un.return;else o=Un,pl=su=null,D0(o),qu=null,Jh=0,o=Un;for(;o!==null;)pf(o.alternate,o),o=o.return;Un=null}}function Au(o,u){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,jF(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),uc(),yn=o,Un=p=Wi(o.current,null),nn=u,En=0,Ii=null,ia=!1,yf=Se(o,u),_f=!1,qn=Da=oc=Lo=to=Bi=0,on=ui=null,In=!1,(u&8)!==0&&(u|=u&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=u;0<y;){var E=31-mt(y),R=1<<E;u|=o[E],y&=~R}return Ba=u,Uh(),p}function vm(o,u){An=null,G.H=Kh,u===kh||u===qa?(u=T0(),En=3):u===E0?(u=T0(),En=4):En=u===A1?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ii=u,Un===null&&(Bi=1,lm(o,Hr(u,o.current)))}function Sf(){var o=G.H;return G.H=Kh,o===null?Kh:o}function ym(){var o=G.A;return G.A=Vi,o}function f(){Bi=4,ia||(nn&4194048)!==nn&&_i.current!==null||(yf=!0),(to&134217727)===0&&(Lo&134217727)===0||yn===null||no(yn,nn,Da,!1)}function d(o,u,p){var y=li;li|=2;var E=Sf(),R=ym();(yn!==o||nn!==u)&&(Oa=null,Au(o,u)),u=!1;var k=Bi;e:do try{if(En!==0&&Un!==null){var Q=Un,he=Ii;switch(En){case 8:uc(),k=6;break e;case 3:case 2:case 9:case 6:_i.current===null&&(u=!0);var Le=En;if(En=0,Ii=null,me(o,Q,he,Le),p&&yf){k=0;break e}break;default:Le=En,En=0,Ii=null,me(o,Q,he,Le)}}x(),k=Bi;break}catch(nt){vm(o,nt)}while(!0);return u&&o.shellSuspendCounter++,pl=su=null,li=y,G.H=E,G.A=R,Un===null&&(yn=null,nn=0,Uh()),k}function x(){for(;Un!==null;)F(Un)}function T(o,u){var p=li;li|=2;var y=Sf(),E=ym();yn!==o||nn!==u?(Oa=null,$r=ce()+500,Au(o,u)):yf=Se(o,u);e:do try{if(En!==0&&Un!==null){u=Un;var R=Ii;t:switch(En){case 1:En=0,Ii=null,me(o,u,R,1);break;case 2:case 9:if(qp(R)){En=0,Ii=null,ee(u);break}u=function(){En!==2&&En!==9||yn!==o||(En=7),Eu(o)},R.then(u,u);break e;case 3:En=7;break e;case 4:En=5;break e;case 7:qp(R)?(En=0,Ii=null,ee(u)):(En=0,Ii=null,me(o,u,R,7));break;case 5:var k=null;switch(Un.tag){case 26:k=Un.memoizedState;case 5:case 27:var Q=Un;if(!k||FR(k)){En=0,Ii=null;var he=Q.sibling;if(he!==null)Un=he;else{var Le=Q.return;Le!==null?(Un=Le,Ce(Le)):Un=null}break t}}En=0,Ii=null,me(o,u,R,5);break;case 6:En=0,Ii=null,me(o,u,R,6);break;case 8:uc(),Bi=6;break e;default:throw Error(n(462))}}D();break}catch(nt){vm(o,nt)}while(!0);return pl=su=null,G.H=y,G.A=E,li=p,Un!==null?0:(yn=null,nn=0,Uh(),Bi)}function D(){for(;Un!==null&&!et();)F(Un)}function F(o){var u=ec(o.alternate,o,Ba);o.memoizedProps=o.pendingProps,u===null?Ce(o):Un=u}function ee(o){var u=o,p=u.alternate;switch(u.tag){case 15:case 0:u=Zs(p,u,u.pendingProps,u.type,void 0,nn);break;case 11:u=Zs(p,u,u.pendingProps,u.type.render,u.ref,nn);break;case 5:D0(u);default:pf(p,u),u=Un=y0(u,Ba),u=ec(p,u,Ba)}o.memoizedProps=o.pendingProps,u===null?Ce(o):Un=u}function me(o,u,p,y){pl=su=null,D0(u),qu=null,Jh=0;var E=u.return;try{if($b(o,E,u,p,nn)){Bi=1,lm(o,Hr(p,o.current)),Un=null;return}}catch(R){if(E!==null)throw Un=E,R;Bi=1,lm(o,Hr(p,o.current)),Un=null;return}u.flags&32768?(ei||y===1?o=!0:yf||(nn&536870912)!==0?o=!1:(ia=o=!0,(y===2||y===9||y===3||y===6)&&(y=_i.current,y!==null&&y.tag===13&&(y.flags|=16384))),tt(u,o)):Ce(u)}function Ce(o){var u=o;do{if((u.flags&32768)!==0){tt(u,ia);return}o=u.return;var p=q0(u.alternate,u,Ba);if(p!==null){Un=p;return}if(u=u.sibling,u!==null){Un=u;return}Un=u=o}while(u!==null);Bi===0&&(Bi=5)}function tt(o,u){do{var p=df(o.alternate,o);if(p!==null){p.flags&=32767,Un=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(o=o.sibling,o!==null)){Un=o;return}Un=o=p}while(o!==null);Bi=6,Un=null}function xt(o,u,p,y,E,R,k,Q,he){o.cancelPendingCommit=null;do bu();while(yr!==0);if((li&6)!==0)throw Error(n(327));if(u!==null){if(u===o.current)throw Error(n(177));if(R=u.lanes|u.childLanes,R|=Fp,ut(o,p,R,k,Q,he),o===yn&&(Un=yn=null,nn=0),Ai=u,es=o,sa=p,Tl=R,id=E,aa=y,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,ti(ht,function(){return Mu(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||y){y=G.T,G.T=null,E=q.p,q.p=2,k=li,li|=4;try{vr(o,u,p)}finally{li=k,q.p=E,G.T=y}}yr=1,Ot(),Ft(),_n()}}function Ot(){if(yr===1){yr=0;var o=es,u=Ai,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=G.T,G.T=null;var y=q.p;q.p=2;var E=li;li|=4;try{hm(u,o);var R=uM,k=f0(o.containerInfo),Q=R.focusedElem,he=R.selectionRange;if(k!==Q&&Q&&Q.ownerDocument&&c0(Q.ownerDocument.documentElement,Q)){if(he!==null&&Bh(Q)){var Le=he.start,nt=he.end;if(nt===void 0&&(nt=Le),"selectionStart"in Q)Q.selectionStart=Le,Q.selectionEnd=Math.min(nt,Q.value.length);else{var ct=Q.ownerDocument||document,Ie=ct&&ct.defaultView||window;if(Ie.getSelection){var Ve=Ie.getSelection(),mn=Q.textContent.length,un=Math.min(he.start,mn),wi=he.end===void 0?un:Math.min(he.end,mn);!Ve.extend&&un>wi&&(k=wi,wi=un,un=k);var Ee=u0(Q,un),_e=u0(Q,wi);if(Ee&&_e&&(Ve.rangeCount!==1||Ve.anchorNode!==Ee.node||Ve.anchorOffset!==Ee.offset||Ve.focusNode!==_e.node||Ve.focusOffset!==_e.offset)){var Oe=ct.createRange();Oe.setStart(Ee.node,Ee.offset),Ve.removeAllRanges(),un>wi?(Ve.addRange(Oe),Ve.extend(_e.node,_e.offset)):(Oe.setEnd(_e.node,_e.offset),Ve.addRange(Oe))}}}}for(ct=[],Ve=Q;Ve=Ve.parentNode;)Ve.nodeType===1&&ct.push({element:Ve,left:Ve.scrollLeft,top:Ve.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<ct.length;Q++){var at=ct[Q];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}L1=!!lM,uM=lM=null}finally{li=E,q.p=y,G.T=p}}o.current=u,yr=2}}function Ft(){if(yr===2){yr=0;var o=es,u=Ai,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=G.T,G.T=null;var y=q.p;q.p=2;var E=li;li|=4;try{Ml(o,u.alternate,u)}finally{li=E,q.p=y,G.T=p}}yr=3}}function _n(){if(yr===4||yr===3){yr=0,Ke();var o=es,u=Ai,p=sa,y=aa;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?yr=5:(yr=0,Ai=es=null,oa(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(ra=null),fn(p),u=u.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ge,u,void 0,(u.current.flags&128)===128)}catch{}if(y!==null){u=G.T,E=q.p,q.p=2,G.T=null;try{for(var R=o.onRecoverableError,k=0;k<y.length;k++){var Q=y[k];R(Q.value,{componentStack:Q.stack})}}finally{G.T=u,q.p=E}}(sa&3)!==0&&bu(),Eu(o),E=o.pendingLanes,(p&4194090)!==0&&(E&42)!==0?o===lc?No++:(No=0,lc=o):No=0,J0(0)}}function oa(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Qc(u)))}function bu(o){return Ot(),Ft(),_n(),Mu()}function Mu(){if(yr!==5)return!1;var o=es,u=Tl;Tl=0;var p=fn(sa),y=G.T,E=q.p;try{q.p=32>p?32:p,G.T=null,p=id,id=null;var R=es,k=sa;if(yr=0,Ai=es=null,sa=0,(li&6)!==0)throw Error(n(331));var Q=li;if(li|=4,W0(R.current),mm(R,R.current,k,p),li=Q,J0(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ge,R)}catch{}return!0}finally{q.p=E,G.T=y,oa(o,u)}}function Ne(o,u,p){u=Hr(p,u),u=um(o.stateNode,u,2),o=vl(o,u,2),o!==null&&(gt(o,2),Eu(o))}function ye(o,u,p){if(o.tag===3)Ne(o,o,p);else for(;u!==null;){if(u.tag===3){Ne(u,o,p);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ra===null||!ra.has(y))){o=Hr(p,o),p=S1(2),y=vl(u,p,2),y!==null&&(cm(p,y,u,o),gt(y,2),Eu(y));break}}u=u.return}}function ke(o,u,p){var y=o.pingCache;if(y===null){y=o.pingCache=new K0;var E=new Set;y.set(u,E)}else E=y.get(u),E===void 0&&(E=new Set,y.set(u,E));E.has(p)||(_f=!0,E.add(p),o=yt.bind(null,o,u,p),u.then(o,o))}function yt(o,u,p){var y=o.pingCache;y!==null&&y.delete(u),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,yn===o&&(nn&p)===p&&(Bi===4||Bi===3&&(nn&62914560)===nn&&300>ce()-mi?(li&2)===0&&Au(o,0):oc|=p,qn===nn&&(qn=0)),Eu(o)}function Zt(o,u){u===0&&(u=Be()),o=hl(o,u),o!==null&&(gt(o,u),Eu(o))}function Di(o){var u=o.memoizedState,p=0;u!==null&&(p=u.retryLane),Zt(o,p)}function pn(o,u){var p=0;switch(o.tag){case 13:var y=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(u),Zt(o,p)}function ti(o,u){return ot(o,u)}var Qi=null,Ln=null,Io=!1,_m=!1,eM=!1,sd=0;function Eu(o){o!==Ln&&o.next===null&&(Ln===null?Qi=Ln=o:Ln=Ln.next=o),_m=!0,Io||(Io=!0,IF())}function J0(o,u){if(!eM&&_m){eM=!0;do for(var p=!1,y=Qi;y!==null;){if(o!==0){var E=y.pendingLanes;if(E===0)var R=0;else{var k=y.suspendedLanes,Q=y.pingedLanes;R=(1<<31-mt(42|o)+1)-1,R&=E&~(k&~Q),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(p=!0,gR(y,R))}else R=nn,R=ue(y,y===yn?R:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(R&3)===0||Se(y,R)||(p=!0,gR(y,R));y=y.next}while(p);eM=!1}}function PF(){dR()}function dR(){_m=Io=!1;var o=0;sd!==0&&(YF()&&(o=sd),sd=0);for(var u=ce(),p=null,y=Qi;y!==null;){var E=y.next,R=pR(y,u);R===0?(y.next=null,p===null?Qi=E:p.next=E,E===null&&(Ln=p)):(p=y,(o!==0||(R&3)!==0)&&(_m=!0)),y=E}J0(o)}function pR(o,u){for(var p=o.suspendedLanes,y=o.pingedLanes,E=o.expirationTimes,R=o.pendingLanes&-62914561;0<R;){var k=31-mt(R),Q=1<<k,he=E[k];he===-1?((Q&p)===0||(Q&y)!==0)&&(E[k]=$e(Q,u)):he<=u&&(o.expiredLanes|=Q),R&=~Q}if(u=yn,p=nn,p=ue(o,o===u?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,p===0||o===u&&(En===2||En===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&Z(y),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||Se(o,p)){if(u=p&-p,u===o.callbackPriority)return u;switch(y!==null&&Z(y),fn(p)){case 2:case 8:p=rt;break;case 32:p=ht;break;case 268435456:p=ne;break;default:p=ht}return y=mR.bind(null,o),p=ot(p,y),o.callbackPriority=u,o.callbackNode=p,u}return y!==null&&y!==null&&Z(y),o.callbackPriority=2,o.callbackNode=null,2}function mR(o,u){if(yr!==0&&yr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(bu()&&o.callbackNode!==p)return null;var y=nn;return y=ue(o,o===yn?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(xf(o,y,u),pR(o,ce()),o.callbackNode!=null&&o.callbackNode===p?mR.bind(null,o):null)}function gR(o,u){if(bu())return null;xf(o,u,!0)}function IF(){qF(function(){(li&6)!==0?ot(Mt,PF):dR()})}function tM(){return sd===0&&(sd=re()),sd}function vR(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:vh(""+o)}function yR(o,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,o.id&&p.setAttribute("form",o.id),u.parentNode.insertBefore(p,u),o=new FormData(o),p.parentNode.removeChild(p),o}function FF(o,u,p,y,E){if(u==="submit"&&p&&p.stateNode===E){var R=vR((E[Ht]||null).action),k=y.submitter;k&&(u=(u=k[Ht]||null)?vR(u.formAction):k.getAttribute("formAction"),u!==null&&(R=u,k=null));var Q=new zc("action","action",null,y,E);o.push({event:Q,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(sd!==0){var he=k?yR(E,k):new FormData(E);k0(p,{pending:!0,data:he,method:E.method,action:R},null,he)}}else typeof R=="function"&&(Q.preventDefault(),he=k?yR(E,k):new FormData(E),k0(p,{pending:!0,data:he,method:E.method,action:R},R,he))},currentTarget:E}]})}}for(var nM=0;nM<Oh.length;nM++){var iM=Oh[nM],zF=iM.toLowerCase(),HF=iM[0].toUpperCase()+iM.slice(1);Cr(zF,"on"+HF)}Cr(cs,"onAnimationEnd"),Cr(p0,"onAnimationIteration"),Cr(ws,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(U_,"onTransitionRun"),Cr(cl,"onTransitionStart"),Cr(qc,"onTransitionCancel"),Cr(fl,"onTransitionEnd"),Y("onMouseEnter",["mouseout","mouseover"]),Y("onMouseLeave",["mouseout","mouseover"]),Y("onPointerEnter",["pointerout","pointerover"]),Y("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Z0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GF=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Z0));function _R(o,u){u=(u&4)!==0;for(var p=0;p<o.length;p++){var y=o[p],E=y.event;y=y.listeners;e:{var R=void 0;if(u)for(var k=y.length-1;0<=k;k--){var Q=y[k],he=Q.instance,Le=Q.currentTarget;if(Q=Q.listener,he!==R&&E.isPropagationStopped())break e;R=Q,E.currentTarget=Le;try{R(E)}catch(nt){Ku(nt)}E.currentTarget=null,R=he}else for(k=0;k<y.length;k++){if(Q=y[k],he=Q.instance,Le=Q.currentTarget,Q=Q.listener,he!==R&&E.isPropagationStopped())break e;R=Q,E.currentTarget=Le;try{R(E)}catch(nt){Ku(nt)}E.currentTarget=null,R=he}}}}function Gn(o,u){var p=u[Wt];p===void 0&&(p=u[Wt]=new Set);var y=o+"__bubble";p.has(y)||(xR(u,o,2,!1),p.add(y))}function rM(o,u,p){var y=0;u&&(y|=4),xR(p,o,y,u)}var E1="_reactListening"+Math.random().toString(36).slice(2);function sM(o){if(!o[E1]){o[E1]=!0,He.forEach(function(p){p!=="selectionchange"&&(GF.has(p)||rM(p,!1,o),rM(p,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[E1]||(u[E1]=!0,rM("selectionchange",!1,u))}}function xR(o,u,p,y){switch(XR(u)){case 2:var E=pz;break;case 8:E=mz;break;default:E=_M}p=E.bind(null,u,p,o),E=void 0,!_h||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),y?E!==void 0?o.addEventListener(u,p,{capture:!0,passive:E}):o.addEventListener(u,p,!0):E!==void 0?o.addEventListener(u,p,{passive:E}):o.addEventListener(u,p,!1)}function aM(o,u,p,y,E){var R=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var k=y.tag;if(k===3||k===4){var Q=y.stateNode.containerInfo;if(Q===E)break;if(k===4)for(k=y.return;k!==null;){var he=k.tag;if((he===3||he===4)&&k.stateNode.containerInfo===E)return;k=k.return}for(;Q!==null;){if(k=X(Q),k===null)return;if(he=k.tag,he===5||he===6||he===26||he===27){y=R=k;continue e}Q=Q.parentNode}}y=y.return}Zg(function(){var Le=R,nt=Ep(p),ct=[];e:{var Ie=Ip.get(o);if(Ie!==void 0){var Ve=zc,mn=o;switch(o){case"keypress":if(ql(p)===0)break e;case"keydown":case"keyup":Ve=n0;break;case"focusin":mn="focus",Ve=Cp;break;case"focusout":mn="blur",Ve=Cp;break;case"beforeblur":case"afterblur":Ve=Cp;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=e0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=Vb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=r0;break;case cs:case p0:case ws:Ve=y_;break;case fl:Ve=al;break;case"scroll":case"scrollend":Ve=m_;break;case"wheel":Ve=kb;break;case"copy":case"cut":case"paste":Ve=x_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=Rp;break;case"toggle":case"beforetoggle":Ve=Kl}var un=(u&4)!==0,wi=!un&&(o==="scroll"||o==="scrollend"),Ee=un?Ie!==null?Ie+"Capture":null:Ie;un=[];for(var _e=Le,Oe;_e!==null;){var at=_e;if(Oe=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||Oe===null||Ee===null||(at=Pc(_e,Ee),at!=null&&un.push(Q0(_e,at,Oe))),wi)break;_e=_e.return}0<un.length&&(Ie=new Ve(Ie,mn,null,p,nt),ct.push({event:Ie,listeners:un}))}}if((u&7)===0){e:{if(Ie=o==="mouseover"||o==="pointerover",Ve=o==="mouseout"||o==="pointerout",Ie&&p!==Mp&&(mn=p.relatedTarget||p.fromElement)&&(X(mn)||mn[Dt]))break e;if((Ve||Ie)&&(Ie=nt.window===nt?nt:(Ie=nt.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,Ve?(mn=p.relatedTarget||p.toElement,Ve=Le,mn=mn?X(mn):null,mn!==null&&(wi=s(mn),un=mn.tag,mn!==wi||un!==5&&un!==27&&un!==6)&&(mn=null)):(Ve=null,mn=Le),Ve!==mn)){if(un=e0,at="onMouseLeave",Ee="onMouseEnter",_e="mouse",(o==="pointerout"||o==="pointerover")&&(un=Rp,at="onPointerLeave",Ee="onPointerEnter",_e="pointer"),wi=Ve==null?Ie:de(Ve),Oe=mn==null?Ie:de(mn),Ie=new un(at,_e+"leave",Ve,p,nt),Ie.target=wi,Ie.relatedTarget=Oe,at=null,X(nt)===Le&&(un=new un(Ee,_e+"enter",mn,p,nt),un.target=Oe,un.relatedTarget=wi,at=un),wi=at,Ve&&mn)t:{for(un=Ve,Ee=mn,_e=0,Oe=un;Oe;Oe=xm(Oe))_e++;for(Oe=0,at=Ee;at;at=xm(at))Oe++;for(;0<_e-Oe;)un=xm(un),_e--;for(;0<Oe-_e;)Ee=xm(Ee),Oe--;for(;_e--;){if(un===Ee||Ee!==null&&un===Ee.alternate)break t;un=xm(un),Ee=xm(Ee)}un=null}else un=null;Ve!==null&&SR(ct,Ie,Ve,un,!1),mn!==null&&wi!==null&&SR(ct,wi,mn,un,!0)}}e:{if(Ie=Le?de(Le):window,Ve=Ie.nodeName&&Ie.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Ie.type==="file")var Yt=Dp;else if(l0(Ie))if(Op)Yt=Ql;else{Yt=B_;var Fn=Xb}else Ve=Ie.nodeName,!Ve||Ve.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?Le&&bp(Le.elementType)&&(Yt=Dp):Yt=Rh;if(Yt&&(Yt=Yt(o,Le))){Es(ct,Yt,p,nt);break e}Fn&&Fn(o,Ie,Le),o==="focusout"&&Le&&Ie.type==="number"&&Le.memoizedProps.value!=null&&Ri(Ie,"number",Ie.value)}switch(Fn=Le?de(Le):window,o){case"focusin":(l0(Fn)||Fn.contentEditable==="true")&&(ll=Fn,Lp=Le,Dh=null);break;case"focusout":Dh=Lp=ll=null;break;case"mousedown":Np=!0;break;case"contextmenu":case"mouseup":case"dragend":Np=!1,d0(ct,p,nt);break;case"selectionchange":if(h0)break;case"keydown":case"keyup":d0(ct,p,nt)}var $t;if(bh)e:{switch(o){case"compositionstart":var cn="onCompositionStart";break e;case"compositionend":cn="onCompositionEnd";break e;case"compositionupdate":cn="onCompositionUpdate";break e}cn=void 0}else Zl?Th(o,p)&&(cn="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(cn="onCompositionStart");cn&&(Eh&&p.locale!=="ko"&&(Zl||cn!=="onCompositionStart"?cn==="onCompositionEnd"&&Zl&&($t=$g()):(rl=nt,Qg="value"in rl?rl.value:rl.textContent,Zl=!0)),Fn=T1(Le,cn),0<Fn.length&&(cn=new wp(cn,o,null,p,nt),ct.push({event:cn,listeners:Fn}),$t?cn.data=$t:($t=a0(p),$t!==null&&(cn.data=$t)))),($t=Mh?Ch(o,p):o0(o,p))&&(cn=T1(Le,"onBeforeInput"),0<cn.length&&(Fn=new wp("onBeforeInput","beforeinput",null,p,nt),ct.push({event:Fn,listeners:cn}),Fn.data=$t)),FF(ct,o,Le,p,nt)}_R(ct,u)})}function Q0(o,u,p){return{instance:o,listener:u,currentTarget:p}}function T1(o,u){for(var p=u+"Capture",y=[];o!==null;){var E=o,R=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||R===null||(E=Pc(o,p),E!=null&&y.unshift(Q0(o,E,R)),E=Pc(o,u),E!=null&&y.push(Q0(o,E,R))),o.tag===3)return y;o=o.return}return[]}function xm(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function SR(o,u,p,y,E){for(var R=u._reactName,k=[];p!==null&&p!==y;){var Q=p,he=Q.alternate,Le=Q.stateNode;if(Q=Q.tag,he!==null&&he===y)break;Q!==5&&Q!==26&&Q!==27||Le===null||(he=Le,E?(Le=Pc(p,R),Le!=null&&k.unshift(Q0(p,Le,he))):E||(Le=Pc(p,R),Le!=null&&k.push(Q0(p,Le,he)))),p=p.return}k.length!==0&&o.push({event:u,listeners:k})}var VF=/\r\n?/g,kF=/\u0000|\uFFFD/g;function AR(o){return(typeof o=="string"?o:""+o).replace(VF,`
`).replace(kF,"")}function bR(o,u){return u=AR(u),AR(o)===u}function C1(){}function Ci(o,u,p,y,E,R){switch(p){case"children":typeof y=="string"?u==="body"||u==="textarea"&&y===""||ls(o,y):(typeof y=="number"||typeof y=="bigint")&&u!=="body"&&ls(o,""+y);break;case"className":Xe(o,"class",y);break;case"tabIndex":Xe(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Xe(o,p,y);break;case"style":gh(o,y,R);break;case"data":if(u!=="object"){Xe(o,"data",y);break}case"src":case"href":if(y===""&&(u!=="a"||p!=="href")){o.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(p);break}y=vh(""+y),o.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(p==="formAction"?(u!=="input"&&Ci(o,u,"name",E.name,E,null),Ci(o,u,"formEncType",E.formEncType,E,null),Ci(o,u,"formMethod",E.formMethod,E,null),Ci(o,u,"formTarget",E.formTarget,E,null)):(Ci(o,u,"encType",E.encType,E,null),Ci(o,u,"method",E.method,E,null),Ci(o,u,"target",E.target,E,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(p);break}y=vh(""+y),o.setAttribute(p,y);break;case"onClick":y!=null&&(o.onclick=C1);break;case"onScroll":y!=null&&Gn("scroll",o);break;case"onScrollEnd":y!=null&&Gn("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(E.children!=null)throw Error(n(60));o.innerHTML=p}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}p=vh(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(p,""+y):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":y===!0?o.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(p,y):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(p,y):o.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(p):o.setAttribute(p,y);break;case"popover":Gn("beforetoggle",o),Gn("toggle",o),Re(o,"popover",y);break;case"xlinkActuate":it(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":it(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":it(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":it(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":it(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":it(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":it(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":it(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":it(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Re(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Kg.get(p)||p,Re(o,p,y))}}function oM(o,u,p,y,E,R){switch(p){case"style":gh(o,y,R);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(E.children!=null)throw Error(n(60));o.innerHTML=p}}break;case"children":typeof y=="string"?ls(o,y):(typeof y=="number"||typeof y=="bigint")&&ls(o,""+y);break;case"onScroll":y!=null&&Gn("scroll",o);break;case"onScrollEnd":y!=null&&Gn("scrollend",o);break;case"onClick":y!=null&&(o.onclick=C1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lt.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),u=p.slice(2,E?p.length-7:void 0),R=o[Ht]||null,R=R!=null?R[p]:null,typeof R=="function"&&o.removeEventListener(u,R,E),typeof y=="function")){typeof R!="function"&&R!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(u,y,E);break e}p in o?o[p]=y:y===!0?o.setAttribute(p,""):Re(o,p,y)}}}function vs(o,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gn("error",o),Gn("load",o);var y=!1,E=!1,R;for(R in p)if(p.hasOwnProperty(R)){var k=p[R];if(k!=null)switch(R){case"src":y=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Ci(o,u,R,k,p,null)}}E&&Ci(o,u,"srcSet",p.srcSet,p,null),y&&Ci(o,u,"src",p.src,p,null);return;case"input":Gn("invalid",o);var Q=R=k=E=null,he=null,Le=null;for(y in p)if(p.hasOwnProperty(y)){var nt=p[y];if(nt!=null)switch(y){case"name":E=nt;break;case"type":k=nt;break;case"checked":he=nt;break;case"defaultChecked":Le=nt;break;case"value":R=nt;break;case"defaultValue":Q=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(n(137,u));break;default:Ci(o,u,y,nt,p,null)}}Mn(o,R,Q,he,Le,k,E,!1),di(o);return;case"select":Gn("invalid",o),y=k=R=null;for(E in p)if(p.hasOwnProperty(E)&&(Q=p[E],Q!=null))switch(E){case"value":R=Q;break;case"defaultValue":k=Q;break;case"multiple":y=Q;default:Ci(o,u,E,Q,p,null)}u=R,p=k,o.multiple=!!y,u!=null?kn(o,!!y,u,!1):p!=null&&kn(o,!!y,p,!0);return;case"textarea":Gn("invalid",o),R=E=y=null;for(k in p)if(p.hasOwnProperty(k)&&(Q=p[k],Q!=null))switch(k){case"value":y=Q;break;case"defaultValue":E=Q;break;case"children":R=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(91));break;default:Ci(o,u,k,Q,p,null)}Tr(o,y,E,R),di(o);return;case"option":for(he in p)if(p.hasOwnProperty(he)&&(y=p[he],y!=null))switch(he){case"selected":o.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Ci(o,u,he,y,p,null)}return;case"dialog":Gn("beforetoggle",o),Gn("toggle",o),Gn("cancel",o),Gn("close",o);break;case"iframe":case"object":Gn("load",o);break;case"video":case"audio":for(y=0;y<Z0.length;y++)Gn(Z0[y],o);break;case"image":Gn("error",o),Gn("load",o);break;case"details":Gn("toggle",o);break;case"embed":case"source":case"link":Gn("error",o),Gn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in p)if(p.hasOwnProperty(Le)&&(y=p[Le],y!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Ci(o,u,Le,y,p,null)}return;default:if(bp(u)){for(nt in p)p.hasOwnProperty(nt)&&(y=p[nt],y!==void 0&&oM(o,u,nt,y,p,void 0));return}}for(Q in p)p.hasOwnProperty(Q)&&(y=p[Q],y!=null&&Ci(o,u,Q,y,p,null))}function XF(o,u,p,y){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,R=null,k=null,Q=null,he=null,Le=null,nt=null;for(Ve in p){var ct=p[Ve];if(p.hasOwnProperty(Ve)&&ct!=null)switch(Ve){case"checked":break;case"value":break;case"defaultValue":he=ct;default:y.hasOwnProperty(Ve)||Ci(o,u,Ve,null,y,ct)}}for(var Ie in y){var Ve=y[Ie];if(ct=p[Ie],y.hasOwnProperty(Ie)&&(Ve!=null||ct!=null))switch(Ie){case"type":R=Ve;break;case"name":E=Ve;break;case"checked":Le=Ve;break;case"defaultChecked":nt=Ve;break;case"value":k=Ve;break;case"defaultValue":Q=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(n(137,u));break;default:Ve!==ct&&Ci(o,u,Ie,Ve,y,ct)}}Cn(o,k,Q,he,Le,nt,R,E);return;case"select":Ve=k=Q=Ie=null;for(R in p)if(he=p[R],p.hasOwnProperty(R)&&he!=null)switch(R){case"value":break;case"multiple":Ve=he;default:y.hasOwnProperty(R)||Ci(o,u,R,null,y,he)}for(E in y)if(R=y[E],he=p[E],y.hasOwnProperty(E)&&(R!=null||he!=null))switch(E){case"value":Ie=R;break;case"defaultValue":Q=R;break;case"multiple":k=R;default:R!==he&&Ci(o,u,E,R,y,he)}u=Q,p=k,y=Ve,Ie!=null?kn(o,!!p,Ie,!1):!!y!=!!p&&(u!=null?kn(o,!!p,u,!0):kn(o,!!p,p?[]:"",!1));return;case"textarea":Ve=Ie=null;for(Q in p)if(E=p[Q],p.hasOwnProperty(Q)&&E!=null&&!y.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Ci(o,u,Q,null,y,E)}for(k in y)if(E=y[k],R=p[k],y.hasOwnProperty(k)&&(E!=null||R!=null))switch(k){case"value":Ie=E;break;case"defaultValue":Ve=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==R&&Ci(o,u,k,E,y,R)}yi(o,Ie,Ve);return;case"option":for(var mn in p)if(Ie=p[mn],p.hasOwnProperty(mn)&&Ie!=null&&!y.hasOwnProperty(mn))switch(mn){case"selected":o.selected=!1;break;default:Ci(o,u,mn,null,y,Ie)}for(he in y)if(Ie=y[he],Ve=p[he],y.hasOwnProperty(he)&&Ie!==Ve&&(Ie!=null||Ve!=null))switch(he){case"selected":o.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:Ci(o,u,he,Ie,y,Ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var un in p)Ie=p[un],p.hasOwnProperty(un)&&Ie!=null&&!y.hasOwnProperty(un)&&Ci(o,u,un,null,y,Ie);for(Le in y)if(Ie=y[Le],Ve=p[Le],y.hasOwnProperty(Le)&&Ie!==Ve&&(Ie!=null||Ve!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,u));break;default:Ci(o,u,Le,Ie,y,Ve)}return;default:if(bp(u)){for(var wi in p)Ie=p[wi],p.hasOwnProperty(wi)&&Ie!==void 0&&!y.hasOwnProperty(wi)&&oM(o,u,wi,void 0,y,Ie);for(nt in y)Ie=y[nt],Ve=p[nt],!y.hasOwnProperty(nt)||Ie===Ve||Ie===void 0&&Ve===void 0||oM(o,u,nt,Ie,y,Ve);return}}for(var Ee in p)Ie=p[Ee],p.hasOwnProperty(Ee)&&Ie!=null&&!y.hasOwnProperty(Ee)&&Ci(o,u,Ee,null,y,Ie);for(ct in y)Ie=y[ct],Ve=p[ct],!y.hasOwnProperty(ct)||Ie===Ve||Ie==null&&Ve==null||Ci(o,u,ct,Ie,y,Ve)}var lM=null,uM=null;function w1(o){return o.nodeType===9?o:o.ownerDocument}function MR(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ER(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function cM(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var fM=null;function YF(){var o=window.event;return o&&o.type==="popstate"?o===fM?!1:(fM=o,!0):(fM=null,!1)}var TR=typeof setTimeout=="function"?setTimeout:void 0,jF=typeof clearTimeout=="function"?clearTimeout:void 0,CR=typeof Promise=="function"?Promise:void 0,qF=typeof queueMicrotask=="function"?queueMicrotask:typeof CR<"u"?function(o){return CR.resolve(null).then(o).catch(WF)}:TR;function WF(o){setTimeout(function(){throw o})}function Af(o){return o==="head"}function wR(o,u){var p=u,y=0,E=0;do{var R=p.nextSibling;if(o.removeChild(p),R&&R.nodeType===8)if(p=R.data,p==="/$"){if(0<y&&8>y){p=y;var k=o.ownerDocument;if(p&1&&$0(k.documentElement),p&2&&$0(k.body),p&4)for(p=k.head,$0(p),k=p.firstChild;k;){var Q=k.nextSibling,he=k.nodeName;k[ii]||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&k.rel.toLowerCase()==="stylesheet"||p.removeChild(k),k=Q}}if(E===0){o.removeChild(R),ov(u);return}E--}else p==="$"||p==="$?"||p==="$!"?E++:y=p.charCodeAt(0)-48;else y=0;p=R}while(p);ov(u)}function hM(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":hM(p),tn(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function KF(o,u,p,y){for(;o.nodeType===1;){var E=p;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[ii])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(R=o.getAttribute("rel"),R==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(R!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(R=o.getAttribute("src"),(R!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&R&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var R=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===R)return o}else return o;if(o=Cl(o.nextSibling),o===null)break}return null}function JF(o,u,p){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=Cl(o.nextSibling),o===null))return null;return o}function dM(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function ZF(o,u){var p=o.ownerDocument;if(o.data!=="$?"||p.readyState==="complete")u();else{var y=function(){u(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function Cl(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}var pM=null;function RR(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return o;u--}else p==="/$"&&u++}o=o.previousSibling}return null}function BR(o,u,p){switch(u=w1(p),o){case"html":if(o=u.documentElement,!o)throw Error(n(452));return o;case"head":if(o=u.head,!o)throw Error(n(453));return o;case"body":if(o=u.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function $0(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);tn(o)}var Fo=new Map,DR=new Set;function R1(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var cc=q.d;q.d={f:QF,r:$F,D:ez,C:tz,L:nz,m:iz,X:sz,S:rz,M:az};function QF(){var o=cc.f(),u=Po();return o||u}function $F(o){var u=J(o);u!==null&&u.tag===5&&u.type==="form"?l1(u):cc.r(o)}var Sm=typeof document>"u"?null:document;function OR(o,u,p){var y=Sm;if(y&&typeof u=="string"&&u){var E=rn(u);E='link[rel="'+o+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),DR.has(E)||(DR.add(E),o={rel:o,crossOrigin:p,href:u},y.querySelector(E)===null&&(u=y.createElement("link"),vs(u,"link",o),De(u),y.head.appendChild(u)))}}function ez(o){cc.D(o),OR("dns-prefetch",o,null)}function tz(o,u){cc.C(o,u),OR("preconnect",o,u)}function nz(o,u,p){cc.L(o,u,p);var y=Sm;if(y&&o&&u){var E='link[rel="preload"][as="'+rn(u)+'"]';u==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+rn(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+rn(p.imageSizes)+'"]')):E+='[href="'+rn(o)+'"]';var R=E;switch(u){case"style":R=Am(o);break;case"script":R=bm(o)}Fo.has(R)||(o=m({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:o,as:u},p),Fo.set(R,o),y.querySelector(E)!==null||u==="style"&&y.querySelector(ev(R))||u==="script"&&y.querySelector(tv(R))||(u=y.createElement("link"),vs(u,"link",o),De(u),y.head.appendChild(u)))}}function iz(o,u){cc.m(o,u);var p=Sm;if(p&&o){var y=u&&typeof u.as=="string"?u.as:"script",E='link[rel="modulepreload"][as="'+rn(y)+'"][href="'+rn(o)+'"]',R=E;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=bm(o)}if(!Fo.has(R)&&(o=m({rel:"modulepreload",href:o},u),Fo.set(R,o),p.querySelector(E)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(tv(R)))return}y=p.createElement("link"),vs(y,"link",o),De(y),p.head.appendChild(y)}}}function rz(o,u,p){cc.S(o,u,p);var y=Sm;if(y&&o){var E=be(y).hoistableStyles,R=Am(o);u=u||"default";var k=E.get(R);if(!k){var Q={loading:0,preload:null};if(k=y.querySelector(ev(R)))Q.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":u},p),(p=Fo.get(R))&&mM(o,p);var he=k=y.createElement("link");De(he),vs(he,"link",o),he._p=new Promise(function(Le,nt){he.onload=Le,he.onerror=nt}),he.addEventListener("load",function(){Q.loading|=1}),he.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,B1(k,u,y)}k={type:"stylesheet",instance:k,count:1,state:Q},E.set(R,k)}}}function sz(o,u){cc.X(o,u);var p=Sm;if(p&&o){var y=be(p).hoistableScripts,E=bm(o),R=y.get(E);R||(R=p.querySelector(tv(E)),R||(o=m({src:o,async:!0},u),(u=Fo.get(E))&&gM(o,u),R=p.createElement("script"),De(R),vs(R,"link",o),p.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},y.set(E,R))}}function az(o,u){cc.M(o,u);var p=Sm;if(p&&o){var y=be(p).hoistableScripts,E=bm(o),R=y.get(E);R||(R=p.querySelector(tv(E)),R||(o=m({src:o,async:!0,type:"module"},u),(u=Fo.get(E))&&gM(o,u),R=p.createElement("script"),De(R),vs(R,"link",o),p.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},y.set(E,R))}}function UR(o,u,p,y){var E=(E=we.current)?R1(E):null;if(!E)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=Am(p.href),p=be(E).hoistableStyles,y=p.get(u),y||(y={type:"style",instance:null,count:0,state:null},p.set(u,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=Am(p.href);var R=be(E).hoistableStyles,k=R.get(o);if(k||(E=E.ownerDocument||E,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(o,k),(R=E.querySelector(ev(o)))&&!R._p&&(k.instance=R,k.state.loading=5),Fo.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Fo.set(o,p),R||oz(E,o,p,k.state))),u&&y===null)throw Error(n(528,""));return k}if(u&&y!==null)throw Error(n(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=bm(p),p=be(E).hoistableScripts,y=p.get(u),y||(y={type:"script",instance:null,count:0,state:null},p.set(u,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Am(o){return'href="'+rn(o)+'"'}function ev(o){return'link[rel="stylesheet"]['+o+"]"}function LR(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function oz(o,u,p,y){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?y.loading=1:(u=o.createElement("link"),y.preload=u,u.addEventListener("load",function(){return y.loading|=1}),u.addEventListener("error",function(){return y.loading|=2}),vs(u,"link",p),De(u),o.head.appendChild(u))}function bm(o){return'[src="'+rn(o)+'"]'}function tv(o){return"script[async]"+o}function NR(o,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var y=o.querySelector('style[data-href~="'+rn(p.href)+'"]');if(y)return u.instance=y,De(y),y;var E=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),De(y),vs(y,"style",E),B1(y,p.precedence,o),u.instance=y;case"stylesheet":E=Am(p.href);var R=o.querySelector(ev(E));if(R)return u.state.loading|=4,u.instance=R,De(R),R;y=LR(p),(E=Fo.get(E))&&mM(y,E),R=(o.ownerDocument||o).createElement("link"),De(R);var k=R;return k._p=new Promise(function(Q,he){k.onload=Q,k.onerror=he}),vs(R,"link",y),u.state.loading|=4,B1(R,p.precedence,o),u.instance=R;case"script":return R=bm(p.src),(E=o.querySelector(tv(R)))?(u.instance=E,De(E),E):(y=p,(E=Fo.get(R))&&(y=m({},p),gM(y,E)),o=o.ownerDocument||o,E=o.createElement("script"),De(E),vs(E,"link",y),o.head.appendChild(E),u.instance=E);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(y=u.instance,u.state.loading|=4,B1(y,p.precedence,o));return u.instance}function B1(o,u,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=y.length?y[y.length-1]:null,R=E,k=0;k<y.length;k++){var Q=y[k];if(Q.dataset.precedence===u)R=Q;else if(R!==E)break}R?R.parentNode.insertBefore(o,R.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(o,u.firstChild))}function mM(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function gM(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var D1=null;function PR(o,u,p){if(D1===null){var y=new Map,E=D1=new Map;E.set(p,y)}else E=D1,y=E.get(p),y||(y=new Map,E.set(p,y));if(y.has(o))return y;for(y.set(o,null),p=p.getElementsByTagName(o),E=0;E<p.length;E++){var R=p[E];if(!(R[ii]||R[pt]||o==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var k=R.getAttribute(u)||"";k=o+k;var Q=y.get(k);Q?Q.push(R):y.set(k,[R])}}return y}function IR(o,u,p){o=o.ownerDocument||o,o.head.insertBefore(p,u==="title"?o.querySelector("head > title"):null)}function lz(o,u,p){if(p===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function FR(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var nv=null;function uz(){}function cz(o,u,p){if(nv===null)throw Error(n(475));var y=nv;if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var E=Am(p.href),R=o.querySelector(ev(E));if(R){o=R._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(y.count++,y=O1.bind(y),o.then(y,y)),u.state.loading|=4,u.instance=R,De(R);return}R=o.ownerDocument||o,p=LR(p),(E=Fo.get(E))&&mM(p,E),R=R.createElement("link"),De(R);var k=R;k._p=new Promise(function(Q,he){k.onload=Q,k.onerror=he}),vs(R,"link",p),u.instance=R}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(y.count++,u=O1.bind(y),o.addEventListener("load",u),o.addEventListener("error",u))}}function fz(){if(nv===null)throw Error(n(475));var o=nv;return o.stylesheets&&o.count===0&&vM(o,o.stylesheets),0<o.count?function(u){var p=setTimeout(function(){if(o.stylesheets&&vM(o,o.stylesheets),o.unsuspend){var y=o.unsuspend;o.unsuspend=null,y()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(p)}}:null}function O1(){if(this.count--,this.count===0){if(this.stylesheets)vM(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var U1=null;function vM(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,U1=new Map,u.forEach(hz,o),U1=null,O1.call(o))}function hz(o,u){if(!(u.state.loading&4)){var p=U1.get(o);if(p)var y=p.get(null);else{p=new Map,U1.set(o,p);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<E.length;R++){var k=E[R];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(p.set(k.dataset.precedence,k),y=k)}y&&p.set(null,y)}E=u.instance,k=E.getAttribute("data-precedence"),R=p.get(k)||y,R===y&&p.set(null,E),p.set(k,E),this.count++,y=O1.bind(this),E.addEventListener("load",y),E.addEventListener("error",y),R?R.parentNode.insertBefore(E,R.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),u.state.loading|=4}}var iv={$$typeof:w,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function dz(o,u,p,y,E,R,k,Q){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qe(0),this.hiddenUpdates=qe(null),this.identifierPrefix=y,this.onUncaughtError=E,this.onCaughtError=R,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function zR(o,u,p,y,E,R,k,Q,he,Le,nt,ct){return o=new dz(o,u,p,k,Q,he,Le,ct),u=1,R===!0&&(u|=24),R=Rs(3,null,null,u),o.current=R,R.stateNode=o,u=Xp(),u.refCount++,o.pooledCache=u,u.refCount++,R.memoizedState={element:y,isDehydrated:p,cache:u},C0(R),o}function HR(o){return o?(o=tu,o):tu}function GR(o,u,p,y,E,R){E=HR(E),y.context===null?y.context=E:y.pendingContext=E,y=Eo(u),y.payload={element:p},R=R===void 0?null:R,R!==null&&(y.callback=R),p=vl(o,y,u),p!==null&&(gs(p,o,u),ju(p,o,u))}function VR(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<u?p:u}}function yM(o,u){VR(o,u),(o=o.alternate)&&VR(o,u)}function kR(o){if(o.tag===13){var u=hl(o,67108864);u!==null&&gs(u,o,67108864),yM(o,67108864)}}var L1=!0;function pz(o,u,p,y){var E=G.T;G.T=null;var R=q.p;try{q.p=2,_M(o,u,p,y)}finally{q.p=R,G.T=E}}function mz(o,u,p,y){var E=G.T;G.T=null;var R=q.p;try{q.p=8,_M(o,u,p,y)}finally{q.p=R,G.T=E}}function _M(o,u,p,y){if(L1){var E=xM(y);if(E===null)aM(o,u,y,N1,p),YR(o,y);else if(vz(E,o,u,p,y))y.stopPropagation();else if(YR(o,y),u&4&&-1<gz.indexOf(o)){for(;E!==null;){var R=J(E);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var k=Bt(R.pendingLanes);if(k!==0){var Q=R;for(Q.pendingLanes|=2,Q.entangledLanes|=2;k;){var he=1<<31-mt(k);Q.entanglements[1]|=he,k&=~he}Eu(R),(li&6)===0&&($r=ce()+500,J0(0))}}break;case 13:Q=hl(R,2),Q!==null&&gs(Q,R,2),Po(),yM(R,2)}if(R=xM(y),R===null&&aM(o,u,y,N1,p),R===E)break;E=R}E!==null&&y.stopPropagation()}else aM(o,u,y,null,p)}}function xM(o){return o=Ep(o),SM(o)}var N1=null;function SM(o){if(N1=null,o=X(o),o!==null){var u=s(o);if(u===null)o=null;else{var p=u.tag;if(p===13){if(o=a(u),o!==null)return o;o=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return N1=o,null}function XR(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case Mt:return 2;case rt:return 8;case ht:case qt:return 32;case ne:return 268435456;default:return 32}default:return 32}}var AM=!1,bf=null,Mf=null,Ef=null,rv=new Map,sv=new Map,Tf=[],gz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function YR(o,u){switch(o){case"focusin":case"focusout":bf=null;break;case"dragenter":case"dragleave":Mf=null;break;case"mouseover":case"mouseout":Ef=null;break;case"pointerover":case"pointerout":rv.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":sv.delete(u.pointerId)}}function av(o,u,p,y,E,R){return o===null||o.nativeEvent!==R?(o={blockedOn:u,domEventName:p,eventSystemFlags:y,nativeEvent:R,targetContainers:[E]},u!==null&&(u=J(u),u!==null&&kR(u)),o):(o.eventSystemFlags|=y,u=o.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),o)}function vz(o,u,p,y,E){switch(u){case"focusin":return bf=av(bf,o,u,p,y,E),!0;case"dragenter":return Mf=av(Mf,o,u,p,y,E),!0;case"mouseover":return Ef=av(Ef,o,u,p,y,E),!0;case"pointerover":var R=E.pointerId;return rv.set(R,av(rv.get(R)||null,o,u,p,y,E)),!0;case"gotpointercapture":return R=E.pointerId,sv.set(R,av(sv.get(R)||null,o,u,p,y,E)),!0}return!1}function jR(o){var u=X(o.target);if(u!==null){var p=s(u);if(p!==null){if(u=p.tag,u===13){if(u=a(p),u!==null){o.blockedOn=u,It(o.priority,function(){if(p.tag===13){var y=ki();y=Pt(y);var E=hl(p,y);E!==null&&gs(E,p,y),yM(p,y)}});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function P1(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var p=xM(o.nativeEvent);if(p===null){p=o.nativeEvent;var y=new p.constructor(p.type,p);Mp=y,p.target.dispatchEvent(y),Mp=null}else return u=J(p),u!==null&&kR(u),o.blockedOn=p,!1;u.shift()}return!0}function qR(o,u,p){P1(o)&&p.delete(u)}function yz(){AM=!1,bf!==null&&P1(bf)&&(bf=null),Mf!==null&&P1(Mf)&&(Mf=null),Ef!==null&&P1(Ef)&&(Ef=null),rv.forEach(qR),sv.forEach(qR)}function I1(o,u){o.blockedOn===u&&(o.blockedOn=null,AM||(AM=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,yz)))}var F1=null;function WR(o){F1!==o&&(F1=o,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){F1===o&&(F1=null);for(var u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],E=o[u+2];if(typeof y!="function"){if(SM(y||p)===null)continue;break}var R=J(p);R!==null&&(o.splice(u,3),u-=3,k0(R,{pending:!0,data:E,method:p.method,action:y},y,E))}}))}function ov(o){function u(he){return I1(he,o)}bf!==null&&I1(bf,o),Mf!==null&&I1(Mf,o),Ef!==null&&I1(Ef,o),rv.forEach(u),sv.forEach(u);for(var p=0;p<Tf.length;p++){var y=Tf[p];y.blockedOn===o&&(y.blockedOn=null)}for(;0<Tf.length&&(p=Tf[0],p.blockedOn===null);)jR(p),p.blockedOn===null&&Tf.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var E=p[y],R=p[y+1],k=E[Ht]||null;if(typeof R=="function")k||WR(p);else if(k){var Q=null;if(R&&R.hasAttribute("formAction")){if(E=R,k=R[Ht]||null)Q=k.formAction;else if(SM(E)!==null)continue}else Q=k.action;typeof Q=="function"?p[y+1]=Q:(p.splice(y,3),y-=3),WR(p)}}}function bM(o){this._internalRoot=o}z1.prototype.render=bM.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(n(409));var p=u.current,y=ki();GR(p,y,o,u,null,null)},z1.prototype.unmount=bM.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;GR(o.current,2,null,o,null,null),Po(),u[Dt]=null}};function z1(o){this._internalRoot=o}z1.prototype.unstable_scheduleHydration=function(o){if(o){var u=Et();o={blockedOn:null,target:o,priority:u};for(var p=0;p<Tf.length&&u!==0&&u<Tf[p].priority;p++);Tf.splice(p,0,o),p===0&&jR(o)}};var KR=e.version;if(KR!=="19.1.0")throw Error(n(527,KR,"19.1.0"));q.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=c(u),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var _z={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var H1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!H1.isDisabled&&H1.supportsFiber)try{Ge=H1.inject(_z),ze=H1}catch{}}return uv.createRoot=function(o,u){if(!r(o))throw Error(n(299));var p=!1,y="",E=Qh,R=om,k=x1,Q=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Q=u.unstable_transitionCallbacks)),u=zR(o,1,!1,null,null,p,y,E,R,k,Q,null),o[Dt]=u.current,sM(o),new bM(u)},uv.hydrateRoot=function(o,u,p){if(!r(o))throw Error(n(299));var y=!1,E="",R=Qh,k=om,Q=x1,he=null,Le=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(R=p.onUncaughtError),p.onCaughtError!==void 0&&(k=p.onCaughtError),p.onRecoverableError!==void 0&&(Q=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(he=p.unstable_transitionCallbacks),p.formState!==void 0&&(Le=p.formState)),u=zR(o,1,!0,u,p??null,y,E,R,k,Q,he,Le),u.context=HR(null),p=u.current,y=ki(),y=Pt(y),E=Eo(y),E.callback=null,vl(p,E,y),p=y,u.current.lanes=p,gt(u,p),Eu(u),o[Dt]=u.current,sM(o),new z1(u)},uv.version="19.1.0",uv}var sB;function wz(){if(sB)return TM.exports;sB=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),TM.exports=Cz(),TM.exports}var Rz=wz(),jU={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aB=Fl.createContext&&Fl.createContext(jU),Bz=["attr","size","title"];function Dz(i,e){if(i==null)return{};var t=Oz(i,e),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);for(r=0;r<s.length;r++)n=s[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(t[n]=i[n])}return t}function Oz(i,e){if(i==null)return{};var t={};for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){if(e.indexOf(n)>=0)continue;t[n]=i[n]}return t}function PS(){return PS=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},PS.apply(this,arguments)}function oB(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function IS(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(t),!0).forEach(function(n){Uz(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):oB(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Uz(i,e,t){return e=Lz(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Lz(i){var e=Nz(i,"string");return typeof e=="symbol"?e:e+""}function Nz(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function qU(i){return i&&i.map((e,t)=>Fl.createElement(e.tag,IS({key:t},e.attr),qU(e.child)))}function kl(i){return e=>Fl.createElement(Pz,PS({attr:IS({},i.attr)},e),qU(i.child))}function Pz(i){var e=t=>{var{attr:n,size:r,title:s}=i,a=Dz(i,Bz),l=r||t.size||"1em",c;return t.className&&(c=t.className),i.className&&(c=(c?c+" ":"")+i.className),Fl.createElement("svg",PS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,a,{className:c,style:IS(IS({color:i.color||t.color},t.style),i.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Fl.createElement("title",null,s),i.children)};return aB!==void 0?Fl.createElement(aB.Consumer,null,t=>e(t)):e(jU)}function gS(i){return kl({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(i)}function Iz(i){return kl({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 53.2 242.84 0 242.84 0c21.5 84.5-75.6 110.1-110.7 162.6-23.9 35.9 11.7 74.4 60.2 118.2zm114.6-176.2c.1 0-175.2 43.8-91.5 140.2 24.7 28.4-6.5 54-6.5 54s62.7-32.4 33.9-72.9c-26.9-37.8-47.5-56.6 64.1-121.3zm-6.1 270.5a12.19 12.19 0 0 1-2 2.6c128.3-33.7 81.1-118.9 19.8-97.3a17.33 17.33 0 0 0-8.2 6.3 70.45 70.45 0 0 1 11-3c31-6.5 75.5 41.5-20.6 91.4zM348 437.4s14.5 11.9-15.9 21.2c-57.9 17.5-240.8 22.8-291.6.7-18.3-7.9 16-19 26.8-21.3 11.2-2.4 17.7-2 17.7-2-20.3-14.3-131.3 28.1-56.4 40.2C232.84 509.4 401 461.3 348 437.4zM124.44 396c-78.7 22 47.9 67.4 148.1 24.5a185.89 185.89 0 0 1-28.2-13.8c-44.7 8.5-65.4 9.1-106 4.5-33.5-3.8-13.9-15.2-13.9-15.2zm179.8 97.2c-78.7 14.8-175.8 13.1-233.3 3.6 0-.1 11.8 9.7 72.4 13.6 92.2 5.9 233.8-3.3 237.1-46.9 0 0-6.4 16.5-76.2 29.7zM260.64 353c-59.2 11.4-93.5 11.1-136.8 6.6-33.5-3.5-11.6-19.7-11.6-19.7-86.8 28.8 48.2 61.4 169.5 25.9a60.37 60.37 0 0 1-21.1-12.8z"},child:[]}]})(i)}function Fz(i){return kl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(i)}function zz(){return We.jsxs("footer",{children:[We.jsx("div",{className:"container-logo",children:We.jsx("img",{src:"/portfolio-2025//images/Logo.webp",alt:"logo"})}),We.jsx("div",{className:"container-contact",children:We.jsx("a",{href:"https://wa.me/5561986641977",target:"_blank",rel:"noopener noreferrer",children:We.jsx("button",{id:"btnContact",children:"Contato"})})}),We.jsxs("div",{className:"container-Msocial",children:[We.jsx("p",{children:"Redes Sociais"}),We.jsxs("div",{className:"social-icons",children:[We.jsx("a",{href:"https://github.com/404GabrielDev",target:"_blank",rel:"noopener noreferrer",children:We.jsx(gS,{size:30,color:"#fff"})}),We.jsx("a",{href:"https://www.linkedin.com/in/jo%C3%A3o-gabriel-s-b22407365/",target:"_blank",rel:"noopener noreferrer",children:We.jsx(Fz,{size:30,color:"#0A66C2"})})]})]}),We.jsx("p",{id:"footer-copyright",children:"© João Gabriel 2025 • Desenvolvedor Full Stack"})]})}var Xi={},V1={},k1={},X1={},BM,lB;function Hz(){if(lB)return BM;lB=1;var i="Expected a function",e=NaN,t="[object Symbol]",n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,c=typeof G1=="object"&&G1&&G1.Object===Object&&G1,h=typeof self=="object"&&self&&self.Object===Object&&self,m=c||h||Function("return this")(),g=Object.prototype,v=g.toString,_=Math.max,S=Math.min,M=function(){return m.Date.now()};function b(N,I,P){var U,O,H,V,W,K,ae=0,G=!1,q=!1,$=!0;if(typeof N!="function")throw new TypeError(i);I=L(I)||0,C(P)&&(G=!!P.leading,q="maxWait"in P,H=q?_(L(P.maxWait)||0,I):H,$="trailing"in P?!!P.trailing:$);function pe(Ue){var dt=U,At=O;return U=O=void 0,ae=Ue,V=N.apply(At,dt),V}function z(Ue){return ae=Ue,W=setTimeout(Ae,I),G?pe(Ue):V}function oe(Ue){var dt=Ue-K,At=Ue-ae,zt=I-dt;return q?S(zt,H-At):zt}function ve(Ue){var dt=Ue-K,At=Ue-ae;return K===void 0||dt>=I||dt<0||q&&At>=H}function Ae(){var Ue=M();if(ve(Ue))return se(Ue);W=setTimeout(Ae,oe(Ue))}function se(Ue){return W=void 0,$&&U?pe(Ue):(U=O=void 0,V)}function Te(){W!==void 0&&clearTimeout(W),ae=0,U=K=O=W=void 0}function we(){return W===void 0?V:se(M())}function Fe(){var Ue=M(),dt=ve(Ue);if(U=arguments,O=this,K=Ue,dt){if(W===void 0)return z(K);if(q)return W=setTimeout(Ae,I),pe(K)}return W===void 0&&(W=setTimeout(Ae,I)),V}return Fe.cancel=Te,Fe.flush=we,Fe}function A(N,I,P){var U=!0,O=!0;if(typeof N!="function")throw new TypeError(i);return C(P)&&(U="leading"in P?!!P.leading:U,O="trailing"in P?!!P.trailing:O),b(N,I,{leading:U,maxWait:I,trailing:O})}function C(N){var I=typeof N;return!!N&&(I=="object"||I=="function")}function w(N){return!!N&&typeof N=="object"}function B(N){return typeof N=="symbol"||w(N)&&v.call(N)==t}function L(N){if(typeof N=="number")return N;if(B(N))return e;if(C(N)){var I=typeof N.valueOf=="function"?N.valueOf():N;N=C(I)?I+"":I}if(typeof N!="string")return N===0?N:+N;N=N.replace(n,"");var P=s.test(N);return P||a.test(N)?l(N.slice(2),P?2:8):r.test(N)?e:+N}return BM=A,BM}var cv={},uB;function jC(){if(uB)return cv;uB=1,Object.defineProperty(cv,"__esModule",{value:!0}),cv.addPassiveEventListener=function(t,n,r){var s=r.name;s||(s=n,console.warn("Listener must be a named function.")),i.has(n)||i.set(n,new Set);var a=i.get(n);if(!a.has(s)){var l=function(){var c=!1;try{var h=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("test",null,h)}catch{}return c}();t.addEventListener(n,r,l?{passive:!0}:!1),a.add(s)}},cv.removePassiveEventListener=function(t,n,r){t.removeEventListener(n,r),i.get(n).delete(r.name||n)};var i=new Map;return cv}var cB;function qC(){if(cB)return X1;cB=1,Object.defineProperty(X1,"__esModule",{value:!0});var i=Hz(),e=n(i),t=jC();function n(a){return a&&a.__esModule?a:{default:a}}var r=function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,e.default)(l,c)},s={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(l,c){if(l){var h=r(function(m){s.scrollHandler(l)},c);return s.scrollSpyContainers.push(l),(0,t.addPassiveEventListener)(l,"scroll",h),function(){(0,t.removePassiveEventListener)(l,"scroll",h),s.scrollSpyContainers.splice(s.scrollSpyContainers.indexOf(l),1)}}return function(){}},isMounted:function(l){return s.scrollSpyContainers.indexOf(l)!==-1},currentPositionX:function(l){if(l===document){var c=window.scrollY!==void 0,h=(document.compatMode||"")==="CSS1Compat";return c?window.scrollX:h?document.documentElement.scrollLeft:document.body.scrollLeft}else return l.scrollLeft},currentPositionY:function(l){if(l===document){var c=window.scrollX!==void 0,h=(document.compatMode||"")==="CSS1Compat";return c?window.scrollY:h?document.documentElement.scrollTop:document.body.scrollTop}else return l.scrollTop},scrollHandler:function(l){var c=s.scrollSpyContainers[s.scrollSpyContainers.indexOf(l)].spyCallbacks||[];c.forEach(function(h){return h(s.currentPositionX(l),s.currentPositionY(l))})},addStateHandler:function(l){s.spySetState.push(l)},addSpyHandler:function(l,c){var h=s.scrollSpyContainers[s.scrollSpyContainers.indexOf(c)];h.spyCallbacks||(h.spyCallbacks=[]),h.spyCallbacks.push(l)},updateStates:function(){s.spySetState.forEach(function(l){return l()})},unmount:function(l,c){s.scrollSpyContainers.forEach(function(h){return h.spyCallbacks&&h.spyCallbacks.length&&h.spyCallbacks.indexOf(c)>-1&&h.spyCallbacks.splice(h.spyCallbacks.indexOf(c),1)}),s.spySetState&&s.spySetState.length&&s.spySetState.indexOf(l)>-1&&s.spySetState.splice(s.spySetState.indexOf(l),1),document.removeEventListener("scroll",s.scrollHandler)},update:function(){return s.scrollSpyContainers.forEach(function(l){return s.scrollHandler(l)})}};return X1.default=s,X1}var Y1={},j1={},fB;function KA(){if(fB)return j1;fB=1,Object.defineProperty(j1,"__esModule",{value:!0});var i=function(l,c){var h=l.indexOf("#")===0?l.substring(1):l,m=h?"#"+h:"",g=window&&window.location,v=m?g.pathname+g.search+m:g.pathname+g.search;c?history.pushState(history.state,"",v):history.replaceState(history.state,"",v)},e=function(){return window.location.hash.replace(/^#/,"")},t=function(l){return function(c){return l.contains?l!=c&&l.contains(c):!!(l.compareDocumentPosition(c)&16)}},n=function(l){return getComputedStyle(l).position!=="static"},r=function(l,c){for(var h=l.offsetTop,m=l.offsetParent;m&&!c(m);)h+=m.offsetTop,m=m.offsetParent;return{offsetTop:h,offsetParent:m}},s=function(l,c,h){if(h)return l===document?c.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(l).position!=="static"?c.offsetLeft:c.offsetLeft-l.offsetLeft;if(l===document)return c.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(n(l)){if(c.offsetParent!==l){var m=function(b){return b===l||b===document},g=r(c,m),v=g.offsetTop,_=g.offsetParent;if(_!==l)throw new Error("Seems containerElement is not an ancestor of the Element");return v}return c.offsetTop}if(c.offsetParent===l.offsetParent)return c.offsetTop-l.offsetTop;var S=function(b){return b===document};return r(c,S).offsetTop-r(l,S).offsetTop};return j1.default={updateHash:i,getHash:e,filterElementInContainer:t,scrollOffset:s},j1}var q1={},W1={},hB;function Gz(){return hB||(hB=1,Object.defineProperty(W1,"__esModule",{value:!0}),W1.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}),W1}var K1={},dB;function Vz(){if(dB)return K1;dB=1,Object.defineProperty(K1,"__esModule",{value:!0});var i=jC(),e=["mousedown","wheel","touchmove","keydown"];return K1.default={subscribe:function(n){return typeof document<"u"&&e.forEach(function(r){return(0,i.addPassiveEventListener)(document,r,n)})}},K1}var J1={},pB;function WC(){if(pB)return J1;pB=1,Object.defineProperty(J1,"__esModule",{value:!0});var i={registered:{},scrollEvent:{register:function(t,n){i.registered[t]=n},remove:function(t){i.registered[t]=null}}};return J1.default=i,J1}var mB;function WU(){if(mB)return q1;mB=1,Object.defineProperty(q1,"__esModule",{value:!0});var i=Object.assign||function(O){for(var H=1;H<arguments.length;H++){var V=arguments[H];for(var W in V)Object.prototype.hasOwnProperty.call(V,W)&&(O[W]=V[W])}return O},e=KA();c(e);var t=Gz(),n=c(t),r=Vz(),s=c(r),a=WC(),l=c(a);function c(O){return O&&O.__esModule?O:{default:O}}var h=function(H){return n.default[H.smooth]||n.default.defaultEasing},m=function(H){return typeof H=="function"?H:function(){return H}},g=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},v=function(){return g()||function(O,H,V){window.setTimeout(O,V||1e3/60,new Date().getTime())}}(),_=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},S=function(H){var V=H.data.containerElement;if(V&&V!==document&&V!==document.body)return V.scrollLeft;var W=window.pageXOffset!==void 0,K=(document.compatMode||"")==="CSS1Compat";return W?window.pageXOffset:K?document.documentElement.scrollLeft:document.body.scrollLeft},M=function(H){var V=H.data.containerElement;if(V&&V!==document&&V!==document.body)return V.scrollTop;var W=window.pageXOffset!==void 0,K=(document.compatMode||"")==="CSS1Compat";return W?window.pageYOffset:K?document.documentElement.scrollTop:document.body.scrollTop},b=function(H){var V=H.data.containerElement;if(V&&V!==document&&V!==document.body)return V.scrollWidth-V.offsetWidth;var W=document.body,K=document.documentElement;return Math.max(W.scrollWidth,W.offsetWidth,K.clientWidth,K.scrollWidth,K.offsetWidth)},A=function(H){var V=H.data.containerElement;if(V&&V!==document&&V!==document.body)return V.scrollHeight-V.offsetHeight;var W=document.body,K=document.documentElement;return Math.max(W.scrollHeight,W.offsetHeight,K.clientHeight,K.scrollHeight,K.offsetHeight)},C=function O(H,V,W){var K=V.data;if(!V.ignoreCancelEvents&&K.cancel){l.default.registered.end&&l.default.registered.end(K.to,K.target,K.currentPositionY);return}if(K.delta=Math.round(K.targetPosition-K.startPosition),K.start===null&&(K.start=W),K.progress=W-K.start,K.percent=K.progress>=K.duration?1:H(K.progress/K.duration),K.currentPosition=K.startPosition+Math.ceil(K.delta*K.percent),K.containerElement&&K.containerElement!==document&&K.containerElement!==document.body?V.horizontal?K.containerElement.scrollLeft=K.currentPosition:K.containerElement.scrollTop=K.currentPosition:V.horizontal?window.scrollTo(K.currentPosition,0):window.scrollTo(0,K.currentPosition),K.percent<1){var ae=O.bind(null,H,V);v.call(window,ae);return}l.default.registered.end&&l.default.registered.end(K.to,K.target,K.currentPosition)},w=function(H){H.data.containerElement=H?H.containerId?document.getElementById(H.containerId):H.container&&H.container.nodeType?H.container:document:null},B=function(H,V,W,K){V.data=V.data||_(),window.clearTimeout(V.data.delayTimeout);var ae=function(){V.data.cancel=!0};if(s.default.subscribe(ae),w(V),V.data.start=null,V.data.cancel=!1,V.data.startPosition=V.horizontal?S(V):M(V),V.data.targetPosition=V.absolute?H:H+V.data.startPosition,V.data.startPosition===V.data.targetPosition){l.default.registered.end&&l.default.registered.end(V.data.to,V.data.target,V.data.currentPosition);return}V.data.delta=Math.round(V.data.targetPosition-V.data.startPosition),V.data.duration=m(V.duration)(V.data.delta),V.data.duration=isNaN(parseFloat(V.data.duration))?1e3:parseFloat(V.data.duration),V.data.to=W,V.data.target=K;var G=h(V),q=C.bind(null,G,V);if(V&&V.delay>0){V.data.delayTimeout=window.setTimeout(function(){l.default.registered.begin&&l.default.registered.begin(V.data.to,V.data.target),v.call(window,q)},V.delay);return}l.default.registered.begin&&l.default.registered.begin(V.data.to,V.data.target),v.call(window,q)},L=function(H){return H=i({},H),H.data=H.data||_(),H.absolute=!0,H},N=function(H){B(0,L(H))},I=function(H,V){B(H,L(V))},P=function(H){H=L(H),w(H),B(H.horizontal?b(H):A(H),H)},U=function(H,V){V=L(V),w(V);var W=V.horizontal?S(V):M(V);B(H+W,V)};return q1.default={animateTopScroll:B,getAnimationType:h,scrollToTop:N,scrollToBottom:P,scrollTo:I,scrollMore:U},q1}var gB;function JA(){if(gB)return Y1;gB=1,Object.defineProperty(Y1,"__esModule",{value:!0});var i=Object.assign||function(m){for(var g=1;g<arguments.length;g++){var v=arguments[g];for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(m[_]=v[_])}return m},e=KA(),t=l(e),n=WU(),r=l(n),s=WC(),a=l(s);function l(m){return m&&m.__esModule?m:{default:m}}var c={},h=void 0;return Y1.default={unmount:function(){c={}},register:function(g,v){c[g]=v},unregister:function(g){delete c[g]},get:function(g){return c[g]||document.getElementById(g)||document.getElementsByName(g)[0]||document.getElementsByClassName(g)[0]},setActiveLink:function(g){return h=g},getActiveLink:function(){return h},scrollTo:function(g,v){var _=this.get(g);if(!_){console.warn("target Element not found");return}v=i({},v,{absolute:!1});var S=v.containerId,M=v.container,b=void 0;S?b=document.getElementById(S):M&&M.nodeType?b=M:b=document,v.absolute=!0;var A=v.horizontal,C=t.default.scrollOffset(b,_,A)+(v.offset||0);if(!v.smooth){a.default.registered.begin&&a.default.registered.begin(g,_),b===document?v.horizontal?window.scrollTo(C,0):window.scrollTo(0,C):b.scrollTop=C,a.default.registered.end&&a.default.registered.end(g,_);return}r.default.animateTopScroll(C,v,g,_)}},Y1}var DM={exports:{}},OM,vB;function kz(){if(vB)return OM;vB=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return OM=i,OM}var UM,yB;function Xz(){if(yB)return UM;yB=1;var i=kz();function e(){}function t(){}return t.resetWarningCache=e,UM=function(){function n(a,l,c,h,m,g){if(g!==i){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function r(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},UM}var _B;function ZA(){return _B||(_B=1,DM.exports=Xz()()),DM.exports}var Z1={},xB;function KU(){if(xB)return Z1;xB=1,Object.defineProperty(Z1,"__esModule",{value:!0}),jC();var i=KA(),e=t(i);function t(r){return r&&r.__esModule?r:{default:r}}var n={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(s){this.scroller=s,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(s,a){this.containers[s]=a},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var s=this,a=this.getHash();a?window.setTimeout(function(){s.scrollTo(a,!0),s.initialized=!0},10):this.initialized=!0},scrollTo:function(s,a){var l=this.scroller,c=l.get(s);if(c&&(a||s!==l.getActiveLink())){var h=this.containers[s]||document;l.scrollTo(s,{container:h})}},getHash:function(){return e.default.getHash()},changeHash:function(s,a){this.isInitialized()&&e.default.getHash()!==s&&e.default.updateHash(s,a)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};return Z1.default=n,Z1}var SB;function KC(){if(SB)return k1;SB=1,Object.defineProperty(k1,"__esModule",{value:!0});var i=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var w=arguments[C];for(var B in w)Object.prototype.hasOwnProperty.call(w,B)&&(A[B]=w[B])}return A},e=function(){function A(C,w){for(var B=0;B<w.length;B++){var L=w[B];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(C,L.key,L)}}return function(C,w,B){return w&&A(C.prototype,w),B&&A(C,B),C}}(),t=tl(),n=v(t),r=qC(),s=v(r),a=JA(),l=v(a),c=ZA(),h=v(c),m=KU(),g=v(m);function v(A){return A&&A.__esModule?A:{default:A}}function _(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function S(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function M(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var b={to:h.default.string.isRequired,containerId:h.default.string,container:h.default.object,activeClass:h.default.string,activeStyle:h.default.object,spy:h.default.bool,horizontal:h.default.bool,smooth:h.default.oneOfType([h.default.bool,h.default.string]),offset:h.default.number,delay:h.default.number,isDynamic:h.default.bool,onClick:h.default.func,duration:h.default.oneOfType([h.default.number,h.default.func]),absolute:h.default.bool,onSetActive:h.default.func,onSetInactive:h.default.func,ignoreCancelEvents:h.default.bool,hashSpy:h.default.bool,saveHashHistory:h.default.bool,spyThrottle:h.default.number};return k1.default=function(A,C){var w=C||l.default,B=function(N){M(I,N);function I(P){_(this,I);var U=S(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,P));return L.call(U),U.state={active:!1},U.beforeUnmountCallbacks=[],U}return e(I,[{key:"getScrollSpyContainer",value:function(){var U=this.props.containerId,O=this.props.container;return U&&!O?document.getElementById(U):O&&O.nodeType?O:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var U=this.getScrollSpyContainer();if(!s.default.isMounted(U)){var O=s.default.mount(U,this.props.spyThrottle);this.beforeUnmountCallbacks.push(O)}this.props.hashSpy&&(g.default.isMounted()||g.default.mount(w),g.default.mapContainer(this.props.to,U)),s.default.addSpyHandler(this.spyHandler,U),this.setState({container:U})}}},{key:"componentWillUnmount",value:function(){s.default.unmount(this.stateHandler,this.spyHandler),this.beforeUnmountCallbacks.forEach(function(U){return U()})}},{key:"render",value:function(){var U="";this.state&&this.state.active?U=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():U=this.props.className;var O={};this.state&&this.state.active?O=i({},this.props.style,this.props.activeStyle):O=i({},this.props.style);var H=i({},this.props);for(var V in b)H.hasOwnProperty(V)&&delete H[V];return H.className=U,H.style=O,H.onClick=this.handleClick,n.default.createElement(A,H)}}]),I}(n.default.PureComponent),L=function(){var I=this;this.scrollTo=function(P,U){w.scrollTo(P,i({},I.state,U))},this.handleClick=function(P){I.props.onClick&&I.props.onClick(P),P.stopPropagation&&P.stopPropagation(),P.preventDefault&&P.preventDefault(),I.scrollTo(I.props.to,I.props)},this.spyHandler=function(P,U){var O=I.getScrollSpyContainer();if(!(g.default.isMounted()&&!g.default.isInitialized())){var H=I.props.horizontal,V=I.props.to,W=null,K=void 0,ae=void 0;if(H){var G=0,q=0,$=0;if(O.getBoundingClientRect){var pe=O.getBoundingClientRect();$=pe.left}if(!W||I.props.isDynamic){if(W=w.get(V),!W)return;var z=W.getBoundingClientRect();G=z.left-$+P,q=G+z.width}var oe=P-I.props.offset;K=oe>=Math.floor(G)&&oe<Math.floor(q),ae=oe<Math.floor(G)||oe>=Math.floor(q)}else{var ve=0,Ae=0,se=0;if(O.getBoundingClientRect){var Te=O.getBoundingClientRect();se=Te.top}if(!W||I.props.isDynamic){if(W=w.get(V),!W)return;var we=W.getBoundingClientRect();ve=we.top-se+U,Ae=ve+we.height}var Fe=U-I.props.offset;K=Fe>=Math.floor(ve)&&Fe<Math.floor(Ae),ae=Fe<Math.floor(ve)||Fe>=Math.floor(Ae)}var Ue=w.getActiveLink();if(ae){if(V===Ue&&w.setActiveLink(void 0),I.props.hashSpy&&g.default.getHash()===V){var dt=I.props.saveHashHistory,At=dt===void 0?!1:dt;g.default.changeHash("",At)}I.props.spy&&I.state.active&&(I.setState({active:!1}),I.props.onSetInactive&&I.props.onSetInactive(V,W))}if(K&&(Ue!==V||I.state.active===!1)){w.setActiveLink(V);var zt=I.props.saveHashHistory,Lt=zt===void 0?!1:zt;I.props.hashSpy&&g.default.changeHash(V,Lt),I.props.spy&&(I.setState({active:!0}),I.props.onSetActive&&I.props.onSetActive(V,W))}}}};return B.propTypes=b,B.defaultProps={offset:0},B},k1}var AB;function Yz(){if(AB)return V1;AB=1,Object.defineProperty(V1,"__esModule",{value:!0});var i=tl(),e=r(i),t=KC(),n=r(t);function r(h){return h&&h.__esModule?h:{default:h}}function s(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function a(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function l(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var c=function(h){l(m,h);function m(){var g,v,_,S;s(this,m);for(var M=arguments.length,b=Array(M),A=0;A<M;A++)b[A]=arguments[A];return S=(v=(_=a(this,(g=m.__proto__||Object.getPrototypeOf(m)).call.apply(g,[this].concat(b))),_),_.render=function(){return e.default.createElement("a",_.props,_.props.children)},v),a(_,S)}return m}(e.default.Component);return V1.default=(0,n.default)(c),V1}var Q1={},bB;function jz(){if(bB)return Q1;bB=1,Object.defineProperty(Q1,"__esModule",{value:!0});var i=function(){function m(g,v){for(var _=0;_<v.length;_++){var S=v[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,v,_){return v&&m(g.prototype,v),_&&m(g,_),g}}(),e=tl(),t=s(e),n=KC(),r=s(n);function s(m){return m&&m.__esModule?m:{default:m}}function a(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function l(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function c(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var h=function(m){c(g,m);function g(){return a(this,g),l(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"render",value:function(){return t.default.createElement("button",this.props,this.props.children)}}]),g}(t.default.Component);return Q1.default=(0,r.default)(h),Q1}var $1={},ex={},MB;function JU(){if(MB)return ex;MB=1,Object.defineProperty(ex,"__esModule",{value:!0});var i=Object.assign||function(_){for(var S=1;S<arguments.length;S++){var M=arguments[S];for(var b in M)Object.prototype.hasOwnProperty.call(M,b)&&(_[b]=M[b])}return _},e=function(){function _(S,M){for(var b=0;b<M.length;b++){var A=M[b];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}return function(S,M,b){return M&&_(S.prototype,M),b&&_(S,b),S}}(),t=tl(),n=h(t),r=YC();h(r);var s=JA(),a=h(s),l=ZA(),c=h(l);function h(_){return _&&_.__esModule?_:{default:_}}function m(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function g(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function v(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}return ex.default=function(_){var S=function(M){v(b,M);function b(A){m(this,b);var C=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,A));return C.childBindings={domNode:null},C}return e(b,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(C){this.props.name!==C.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;a.default.unregister(this.props.name)}},{key:"registerElems",value:function(C){a.default.register(C,this.childBindings.domNode)}},{key:"render",value:function(){return n.default.createElement(_,i({},this.props,{parentBindings:this.childBindings}))}}]),b}(n.default.Component);return S.propTypes={name:c.default.string,id:c.default.string},S},ex}var EB;function qz(){if(EB)return $1;EB=1,Object.defineProperty($1,"__esModule",{value:!0});var i=Object.assign||function(_){for(var S=1;S<arguments.length;S++){var M=arguments[S];for(var b in M)Object.prototype.hasOwnProperty.call(M,b)&&(_[b]=M[b])}return _},e=function(){function _(S,M){for(var b=0;b<M.length;b++){var A=M[b];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}return function(S,M,b){return M&&_(S.prototype,M),b&&_(S,b),S}}(),t=tl(),n=c(t),r=JU(),s=c(r),a=ZA(),l=c(a);function c(_){return _&&_.__esModule?_:{default:_}}function h(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function m(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function g(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}var v=function(_){g(S,_);function S(){return h(this,S),m(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return e(S,[{key:"render",value:function(){var b=this,A=i({},this.props);return delete A.name,A.parentBindings&&delete A.parentBindings,n.default.createElement("div",i({},A,{ref:function(w){b.props.parentBindings.domNode=w}}),this.props.children)}}]),S}(n.default.Component);return v.propTypes={name:l.default.string,id:l.default.string},$1.default=(0,s.default)(v),$1}var LM,TB;function Wz(){if(TB)return LM;TB=1;var i=Object.assign||function(v){for(var _=1;_<arguments.length;_++){var S=arguments[_];for(var M in S)Object.prototype.hasOwnProperty.call(S,M)&&(v[M]=S[M])}return v},e=function(){function v(_,S){for(var M=0;M<S.length;M++){var b=S[M];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,S,M){return S&&v(_.prototype,S),M&&v(_,M),_}}();function t(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function n(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function r(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var s=tl();YC(),KA();var a=qC(),l=JA(),c=ZA(),h=KU(),m={to:c.string.isRequired,containerId:c.string,container:c.object,activeClass:c.string,spy:c.bool,smooth:c.oneOfType([c.bool,c.string]),offset:c.number,delay:c.number,isDynamic:c.bool,onClick:c.func,duration:c.oneOfType([c.number,c.func]),absolute:c.bool,onSetActive:c.func,onSetInactive:c.func,ignoreCancelEvents:c.bool,hashSpy:c.bool,spyThrottle:c.number},g={Scroll:function(_,S){console.warn("Helpers.Scroll is deprecated since v1.7.0");var M=S||l,b=function(C){r(w,C);function w(B){t(this,w);var L=n(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,B));return A.call(L),L.state={active:!1},L}return e(w,[{key:"getScrollSpyContainer",value:function(){var L=this.props.containerId,N=this.props.container;return L?document.getElementById(L):N&&N.nodeType?N:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var L=this.getScrollSpyContainer();a.isMounted(L)||a.mount(L,this.props.spyThrottle),this.props.hashSpy&&(h.isMounted()||h.mount(M),h.mapContainer(this.props.to,L)),this.props.spy&&a.addStateHandler(this.stateHandler),a.addSpyHandler(this.spyHandler,L),this.setState({container:L})}}},{key:"componentWillUnmount",value:function(){a.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var L="";this.state&&this.state.active?L=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():L=this.props.className;var N=i({},this.props);for(var I in m)N.hasOwnProperty(I)&&delete N[I];return N.className=L,N.onClick=this.handleClick,s.createElement(_,N)}}]),w}(s.Component),A=function(){var w=this;this.scrollTo=function(B,L){M.scrollTo(B,i({},w.state,L))},this.handleClick=function(B){w.props.onClick&&w.props.onClick(B),B.stopPropagation&&B.stopPropagation(),B.preventDefault&&B.preventDefault(),w.scrollTo(w.props.to,w.props)},this.stateHandler=function(){M.getActiveLink()!==w.props.to&&(w.state!==null&&w.state.active&&w.props.onSetInactive&&w.props.onSetInactive(),w.setState({active:!1}))},this.spyHandler=function(B){var L=w.getScrollSpyContainer();if(!(h.isMounted()&&!h.isInitialized())){var N=w.props.to,I=null,P=0,U=0,O=0;if(L.getBoundingClientRect){var H=L.getBoundingClientRect();O=H.top}if(!I||w.props.isDynamic){if(I=M.get(N),!I)return;var V=I.getBoundingClientRect();P=V.top-O+B,U=P+V.height}var W=B-w.props.offset,K=W>=Math.floor(P)&&W<Math.floor(U),ae=W<Math.floor(P)||W>=Math.floor(U),G=M.getActiveLink();if(ae)return N===G&&M.setActiveLink(void 0),w.props.hashSpy&&h.getHash()===N&&h.changeHash(),w.props.spy&&w.state.active&&(w.setState({active:!1}),w.props.onSetInactive&&w.props.onSetInactive()),a.updateStates();if(K&&G!==N)return M.setActiveLink(N),w.props.hashSpy&&h.changeHash(N),w.props.spy&&(w.setState({active:!0}),w.props.onSetActive&&w.props.onSetActive(N)),a.updateStates()}}};return b.propTypes=m,b.defaultProps={offset:0},b},Element:function(_){console.warn("Helpers.Element is deprecated since v1.7.0");var S=function(M){r(b,M);function b(A){t(this,b);var C=n(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,A));return C.childBindings={domNode:null},C}return e(b,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(C){this.props.name!==C.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;l.unregister(this.props.name)}},{key:"registerElems",value:function(C){l.register(C,this.childBindings.domNode)}},{key:"render",value:function(){return s.createElement(_,i({},this.props,{parentBindings:this.childBindings}))}}]),b}(s.Component);return S.propTypes={name:c.string,id:c.string},S}};return LM=g,LM}var CB;function Kz(){if(CB)return Xi;CB=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.Helpers=Xi.ScrollElement=Xi.ScrollLink=Xi.animateScroll=Xi.scrollSpy=Xi.Events=Xi.scroller=Xi.Element=Xi.Button=Xi.Link=void 0;var i=Yz(),e=B(i),t=jz(),n=B(t),r=qz(),s=B(r),a=JA(),l=B(a),c=WC(),h=B(c),m=qC(),g=B(m),v=WU(),_=B(v),S=KC(),M=B(S),b=JU(),A=B(b),C=Wz(),w=B(C);function B(L){return L&&L.__esModule?L:{default:L}}return Xi.Link=e.default,Xi.Button=n.default,Xi.Element=s.default,Xi.scroller=l.default,Xi.Events=h.default,Xi.scrollSpy=g.default,Xi.animateScroll=_.default,Xi.ScrollLink=M.default,Xi.ScrollElement=A.default,Xi.Helpers=w.default,Xi.default={Link:e.default,Button:n.default,Element:s.default,scroller:l.default,Events:h.default,scrollSpy:g.default,animateScroll:_.default,ScrollLink:M.default,ScrollElement:A.default,Helpers:w.default},Xi}var yg=Kz();const Jz=()=>We.jsxs("nav",{children:[We.jsx("p",{children:"João Gabriel"}),We.jsxs("div",{className:"nav-btns",children:[We.jsx(yg.Link,{to:"summary",smooth:!0,duration:800,children:We.jsx("button",{children:"Sobre mim"})}),We.jsx(yg.Link,{to:"formularioContact",smooth:!0,duration:1e3,children:We.jsx("button",{children:"Contato"})})]})]});/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const vp="177",Md={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ed={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},ZU=0,ET=1,QU=2,Zz=3,$U=0,QA=1,Vv=2,Ll=3,Gl=0,qr=1,Hs=2,xs=0,Xd=1,TT=2,CT=3,wT=4,eL=5,Gf=100,tL=101,nL=102,iL=103,rL=104,sL=200,aL=201,oL=202,lL=203,FS=204,zS=205,uL=206,cL=207,fL=208,hL=209,dL=210,pL=211,mL=212,gL=213,vL=214,HS=0,GS=1,VS=2,ip=3,kS=4,XS=5,YS=6,jS=7,jy=0,yL=1,_L=2,zl=0,xL=1,SL=2,AL=3,JC=4,bL=5,ML=6,EL=7,RT="attached",TL="detached",$f=300,Hu=301,eh=302,_g=303,vy=304,Gg=306,th=1e3,Ar=1001,xg=1002,fr=1003,$A=1004,Qz=1004,Ud=1005,$z=1005,Jn=1006,og=1007,eH=1007,Wo=1008,BT=1008,hr=1009,eb=1010,tb=1011,Sg=1012,qy=1013,Vl=1014,qi=1015,Wr=1016,nb=1017,ib=1018,rp=1020,ZC=35902,QC=1021,$C=1022,br=1023,Ag=1026,sp=1027,Wy=1028,Ky=1029,e2=1030,rb=1031,tH=1032,sb=1033,kv=33776,Xv=33777,Yv=33778,jv=33779,qS=35840,WS=35841,KS=35842,JS=35843,ZS=36196,QS=37492,$S=37496,eA=37808,tA=37809,nA=37810,iA=37811,rA=37812,sA=37813,aA=37814,oA=37815,lA=37816,uA=37817,cA=37818,fA=37819,hA=37820,dA=37821,qv=36492,pA=36494,mA=36495,t2=36283,gA=36284,vA=36285,yA=36286,CL=2200,wL=2201,RL=2202,bg=2300,Mg=2301,vS=2302,Ld=2400,Nd=2401,yy=2402,ab=2500,n2=2501,BL=0,i2=1,_A=2,lh=3200,DL=3201,nH=3202,iH=3203,uh=0,OL=1,Pl="",si="srgb",mo="srgb-linear",_y="linear",bi="srgb",rH=0,Td=7680,sH=7681,aH=7682,oH=7683,lH=34055,uH=34056,cH=5386,fH=512,hH=513,dH=514,pH=515,mH=516,gH=517,vH=518,DT=519,UL=512,LL=513,NL=514,r2=515,PL=516,IL=517,FL=518,zL=519,xy=35044,yH=35048,_H=35040,xH=35045,SH=35049,AH=35041,bH=35046,MH=35050,EH=35042,TH="100",OT="300 es",Ko=2e3,Sy=2001,CH={COMPUTE:"compute",RENDER:"render"},wH={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},RH={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let _o=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const r=n[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}};const Ls=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let wB=1234567;const Yd=Math.PI/180,Eg=180/Math.PI;function ho(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Ls[i&255]+Ls[i>>8&255]+Ls[i>>16&255]+Ls[i>>24&255]+"-"+Ls[e&255]+Ls[e>>8&255]+"-"+Ls[e>>16&15|64]+Ls[e>>24&255]+"-"+Ls[t&63|128]+Ls[t>>8&255]+"-"+Ls[t>>16&255]+Ls[t>>24&255]+Ls[n&255]+Ls[n>>8&255]+Ls[n>>16&255]+Ls[n>>24&255]).toLowerCase()}function bn(i,e,t){return Math.max(e,Math.min(t,i))}function s2(i,e){return(i%e+e)%e}function BH(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function DH(i,e,t){return i!==e?(t-i)/(e-i):0}function Wv(i,e,t){return(1-t)*i+t*e}function OH(i,e,t,n){return Wv(i,e,1-Math.exp(-t*n))}function UH(i,e=1){return e-Math.abs(s2(i,e*2)-e)}function LH(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function NH(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function PH(i,e){return i+Math.floor(Math.random()*(e-i+1))}function IH(i,e){return i+Math.random()*(e-i)}function FH(i){return i*(.5-Math.random())}function zH(i){i!==void 0&&(wB=i);let e=wB+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function HH(i){return i*Yd}function GH(i){return i*Eg}function VH(i){return(i&i-1)===0&&i!==0}function kH(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function XH(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function YH(i,e,t,n,r){const s=Math.cos,a=Math.sin,l=s(t/2),c=a(t/2),h=s((e+n)/2),m=a((e+n)/2),g=s((e-n)/2),v=a((e-n)/2),_=s((n-e)/2),S=a((n-e)/2);switch(r){case"XYX":i.set(l*m,c*g,c*v,l*h);break;case"YZY":i.set(c*v,l*m,c*g,l*h);break;case"ZXZ":i.set(c*g,c*v,l*m,l*h);break;case"XZX":i.set(l*m,c*S,c*_,l*h);break;case"YXY":i.set(c*_,l*m,c*S,l*h);break;case"ZYZ":i.set(c*S,c*_,l*m,l*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ga(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Rn(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const HL={DEG2RAD:Yd,RAD2DEG:Eg,generateUUID:ho,clamp:bn,euclideanModulo:s2,mapLinear:BH,inverseLerp:DH,lerp:Wv,damp:OH,pingpong:UH,smoothstep:LH,smootherstep:NH,randInt:PH,randFloat:IH,randFloatSpread:FH,seededRandom:zH,degToRad:HH,radToDeg:GH,isPowerOfTwo:VH,ceilPowerOfTwo:kH,floorPowerOfTwo:XH,setQuaternionFromProperEuler:YH,normalize:Rn,denormalize:ga};class Ye{constructor(e=0,t=0){Ye.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=bn(this.x,e.x,t.x),this.y=bn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=bn(this.x,e,t),this.y=bn(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(bn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(bn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*n-a*r+e.x,this.y=s*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ss{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,s,a,l){let c=n[r+0],h=n[r+1],m=n[r+2],g=n[r+3];const v=s[a+0],_=s[a+1],S=s[a+2],M=s[a+3];if(l===0){e[t+0]=c,e[t+1]=h,e[t+2]=m,e[t+3]=g;return}if(l===1){e[t+0]=v,e[t+1]=_,e[t+2]=S,e[t+3]=M;return}if(g!==M||c!==v||h!==_||m!==S){let b=1-l;const A=c*v+h*_+m*S+g*M,C=A>=0?1:-1,w=1-A*A;if(w>Number.EPSILON){const L=Math.sqrt(w),N=Math.atan2(L,A*C);b=Math.sin(b*N)/L,l=Math.sin(l*N)/L}const B=l*C;if(c=c*b+v*B,h=h*b+_*B,m=m*b+S*B,g=g*b+M*B,b===1-l){const L=1/Math.sqrt(c*c+h*h+m*m+g*g);c*=L,h*=L,m*=L,g*=L}}e[t]=c,e[t+1]=h,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,n,r,s,a){const l=n[r],c=n[r+1],h=n[r+2],m=n[r+3],g=s[a],v=s[a+1],_=s[a+2],S=s[a+3];return e[t]=l*S+m*g+c*_-h*v,e[t+1]=c*S+m*v+h*g-l*_,e[t+2]=h*S+m*_+l*v-c*g,e[t+3]=m*S-l*g-c*v-h*_,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,s=e._z,a=e._order,l=Math.cos,c=Math.sin,h=l(n/2),m=l(r/2),g=l(s/2),v=c(n/2),_=c(r/2),S=c(s/2);switch(a){case"XYZ":this._x=v*m*g+h*_*S,this._y=h*_*g-v*m*S,this._z=h*m*S+v*_*g,this._w=h*m*g-v*_*S;break;case"YXZ":this._x=v*m*g+h*_*S,this._y=h*_*g-v*m*S,this._z=h*m*S-v*_*g,this._w=h*m*g+v*_*S;break;case"ZXY":this._x=v*m*g-h*_*S,this._y=h*_*g+v*m*S,this._z=h*m*S+v*_*g,this._w=h*m*g-v*_*S;break;case"ZYX":this._x=v*m*g-h*_*S,this._y=h*_*g+v*m*S,this._z=h*m*S-v*_*g,this._w=h*m*g+v*_*S;break;case"YZX":this._x=v*m*g+h*_*S,this._y=h*_*g+v*m*S,this._z=h*m*S-v*_*g,this._w=h*m*g-v*_*S;break;case"XZY":this._x=v*m*g-h*_*S,this._y=h*_*g-v*m*S,this._z=h*m*S+v*_*g,this._w=h*m*g+v*_*S;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],s=t[8],a=t[1],l=t[5],c=t[9],h=t[2],m=t[6],g=t[10],v=n+l+g;if(v>0){const _=.5/Math.sqrt(v+1);this._w=.25/_,this._x=(m-c)*_,this._y=(s-h)*_,this._z=(a-r)*_}else if(n>l&&n>g){const _=2*Math.sqrt(1+n-l-g);this._w=(m-c)/_,this._x=.25*_,this._y=(r+a)/_,this._z=(s+h)/_}else if(l>g){const _=2*Math.sqrt(1+l-n-g);this._w=(s-h)/_,this._x=(r+a)/_,this._y=.25*_,this._z=(c+m)/_}else{const _=2*Math.sqrt(1+g-n-l);this._w=(a-r)/_,this._x=(s+h)/_,this._y=(c+m)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(bn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,s=e._z,a=e._w,l=t._x,c=t._y,h=t._z,m=t._w;return this._x=n*m+a*l+r*h-s*c,this._y=r*m+a*c+s*l-n*h,this._z=s*m+a*h+n*c-r*l,this._w=a*m-n*l-r*c-s*h,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,s=this._z,a=this._w;let l=a*e._w+n*e._x+r*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=n,this._y=r,this._z=s,this;const c=1-l*l;if(c<=Number.EPSILON){const _=1-t;return this._w=_*a+t*this._w,this._x=_*n+t*this._x,this._y=_*r+t*this._y,this._z=_*s+t*this._z,this.normalize(),this}const h=Math.sqrt(c),m=Math.atan2(h,l),g=Math.sin((1-t)*m)/h,v=Math.sin(t*m)/h;return this._w=a*g+this._w*v,this._x=n*g+this._x*v,this._y=r*g+this._y*v,this._z=s*g+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),s=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class te{constructor(e=0,t=0,n=0){te.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(RB.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(RB.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*r,this.y=s[1]*t+s[4]*n+s[7]*r,this.z=s[2]*t+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*n+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*n+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,s=e.x,a=e.y,l=e.z,c=e.w,h=2*(a*r-l*n),m=2*(l*t-s*r),g=2*(s*n-a*t);return this.x=t+c*h+a*g-l*m,this.y=n+c*m+l*h-s*g,this.z=r+c*g+s*m-a*h,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r,this.y=s[1]*t+s[5]*n+s[9]*r,this.z=s[2]*t+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=bn(this.x,e.x,t.x),this.y=bn(this.y,e.y,t.y),this.z=bn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=bn(this.x,e,t),this.y=bn(this.y,e,t),this.z=bn(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(bn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,s=e.z,a=t.x,l=t.y,c=t.z;return this.x=r*c-s*l,this.y=s*a-n*c,this.z=n*l-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return NM.copy(this).projectOnVector(e),this.sub(NM)}reflect(e){return this.sub(NM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(bn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const NM=new te,RB=new ss;class Tn{constructor(e,t,n,r,s,a,l,c,h){Tn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,a,l,c,h)}set(e,t,n,r,s,a,l,c,h){const m=this.elements;return m[0]=e,m[1]=r,m[2]=l,m[3]=t,m[4]=s,m[5]=c,m[6]=n,m[7]=a,m[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,a=n[0],l=n[3],c=n[6],h=n[1],m=n[4],g=n[7],v=n[2],_=n[5],S=n[8],M=r[0],b=r[3],A=r[6],C=r[1],w=r[4],B=r[7],L=r[2],N=r[5],I=r[8];return s[0]=a*M+l*C+c*L,s[3]=a*b+l*w+c*N,s[6]=a*A+l*B+c*I,s[1]=h*M+m*C+g*L,s[4]=h*b+m*w+g*N,s[7]=h*A+m*B+g*I,s[2]=v*M+_*C+S*L,s[5]=v*b+_*w+S*N,s[8]=v*A+_*B+S*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],l=e[5],c=e[6],h=e[7],m=e[8];return t*a*m-t*l*h-n*s*m+n*l*c+r*s*h-r*a*c}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],l=e[5],c=e[6],h=e[7],m=e[8],g=m*a-l*h,v=l*c-m*s,_=h*s-a*c,S=t*g+n*v+r*_;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const M=1/S;return e[0]=g*M,e[1]=(r*h-m*n)*M,e[2]=(l*n-r*a)*M,e[3]=v*M,e[4]=(m*t-r*c)*M,e[5]=(r*s-l*t)*M,e[6]=_*M,e[7]=(n*c-h*t)*M,e[8]=(a*t-n*s)*M,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,s,a,l){const c=Math.cos(s),h=Math.sin(s);return this.set(n*c,n*h,-n*(c*a+h*l)+a+e,-r*h,r*c,-r*(-h*a+c*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(PM.makeScale(e,t)),this}rotate(e){return this.premultiply(PM.makeRotation(-e)),this}translate(e,t){return this.premultiply(PM.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const PM=new Tn;function GL(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const jH={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Jm(i,e){return new jH[i](e)}function Ay(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function VL(){const i=Ay("canvas");return i.style.display="block",i}const BB={};function lg(i){i in BB||(BB[i]=!0,console.warn(i))}function qH(i,e,t){return new Promise(function(n,r){function s(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:r();break;case i.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:n()}}setTimeout(s,t)})}function WH(i){const e=i.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function KH(i){const e=i.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const DB=new Tn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),OB=new Tn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function JH(){const i={enabled:!0,workingColorSpace:mo,spaces:{},convert:function(r,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===bi&&(r.r=Cc(r.r),r.g=Cc(r.g),r.b=Cc(r.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===bi&&(r.r=ug(r.r),r.g=ug(r.g),r.b=ug(r.b))),r},workingToColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},colorSpaceToWorking:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Pl?_y:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,a){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,s){return lg("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),i.workingToColorSpace(r,s)},toWorkingColorSpace:function(r,s){return lg("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),i.colorSpaceToWorking(r,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[mo]:{primaries:e,whitePoint:n,transfer:_y,toXYZ:DB,fromXYZ:OB,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:si},outputColorSpaceConfig:{drawingBufferColorSpace:si}},[si]:{primaries:e,whitePoint:n,transfer:bi,toXYZ:DB,fromXYZ:OB,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:si}}}),i}const Wn=JH();function Cc(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function ug(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let Mm;class kL{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Mm===void 0&&(Mm=Ay("canvas")),Mm.width=e.width,Mm.height=e.height;const r=Mm.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Mm}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Ay("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=Cc(s[a]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Cc(t[n]/255)*255):t[n]=Cc(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let ZH=0;class Vf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:ZH++}),this.uuid=ho(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,l=r.length;a<l;a++)r[a].isDataTexture?s.push(IM(r[a].image)):s.push(IM(r[a]))}else s=IM(r);n.url=s}return t||(e.images[this.uuid]=n),n}}function IM(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?kL.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let QH=0;const FM=new te;class hi extends _o{constructor(e=hi.DEFAULT_IMAGE,t=hi.DEFAULT_MAPPING,n=Ar,r=Ar,s=Jn,a=Wo,l=br,c=hr,h=hi.DEFAULT_ANISOTROPY,m=Pl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:QH++}),this.uuid=ho(),this.name="",this.source=new Vf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=h,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Ye(0,0),this.repeat=new Ye(1,1),this.center=new Ye(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Tn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(FM).x}get height(){return this.source.getSize(FM).y}get depth(){return this.source.getSize(FM).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}r&&n&&r.isVector2&&n.isVector2||r&&n&&r.isVector3&&n.isVector3||r&&n&&r.isMatrix3&&n.isMatrix3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==$f)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case th:e.x=e.x-Math.floor(e.x);break;case Ar:e.x=e.x<0?0:1;break;case xg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case th:e.y=e.y-Math.floor(e.y);break;case Ar:e.y=e.y<0?0:1;break;case xg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}hi.DEFAULT_IMAGE=null;hi.DEFAULT_MAPPING=$f;hi.DEFAULT_ANISOTROPY=1;class Kn{constructor(e=0,t=0,n=0,r=1){Kn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,s;const c=e.elements,h=c[0],m=c[4],g=c[8],v=c[1],_=c[5],S=c[9],M=c[2],b=c[6],A=c[10];if(Math.abs(m-v)<.01&&Math.abs(g-M)<.01&&Math.abs(S-b)<.01){if(Math.abs(m+v)<.1&&Math.abs(g+M)<.1&&Math.abs(S+b)<.1&&Math.abs(h+_+A-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(h+1)/2,B=(_+1)/2,L=(A+1)/2,N=(m+v)/4,I=(g+M)/4,P=(S+b)/4;return w>B&&w>L?w<.01?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(w),r=N/n,s=I/n):B>L?B<.01?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(B),n=N/r,s=P/r):L<.01?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(L),n=I/s,r=P/s),this.set(n,r,s,t),this}let C=Math.sqrt((b-S)*(b-S)+(g-M)*(g-M)+(v-m)*(v-m));return Math.abs(C)<.001&&(C=1),this.x=(b-S)/C,this.y=(g-M)/C,this.z=(v-m)/C,this.w=Math.acos((h+_+A-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=bn(this.x,e.x,t.x),this.y=bn(this.y,e.y,t.y),this.z=bn(this.z,e.z,t.z),this.w=bn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=bn(this.x,e,t),this.y=bn(this.y,e,t),this.z=bn(this.z,e,t),this.w=bn(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(bn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class a2 extends _o{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Jn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new Kn(0,0,e,t),this.scissorTest=!1,this.viewport=new Kn(0,0,e,t);const r={width:e,height:t,depth:n.depth},s=new hi(r);this.textures=[];const a=n.count;for(let l=0;l<a;l++)this.textures[l]=s.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:Jn,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new Vf(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class dr extends a2{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class ob extends hi{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=fr,this.minFilter=fr,this.wrapR=Ar,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class $H extends dr{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new ob(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class lb extends hi{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=fr,this.minFilter=fr,this.wrapR=Ar,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class e5 extends dr{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new lb(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Ss{constructor(e=new te(1/0,1/0,1/0),t=new te(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(wl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(wl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=wl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const s=n.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,l=s.count;a<l;a++)e.isMesh===!0?e.getVertexPosition(a,wl):wl.fromBufferAttribute(s,a),wl.applyMatrix4(e.matrixWorld),this.expandByPoint(wl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),tx.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),tx.copy(n.boundingBox)),tx.applyMatrix4(e.matrixWorld),this.union(tx)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,wl),wl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(fv),nx.subVectors(this.max,fv),Em.subVectors(e.a,fv),Tm.subVectors(e.b,fv),Cm.subVectors(e.c,fv),wf.subVectors(Tm,Em),Rf.subVectors(Cm,Tm),ad.subVectors(Em,Cm);let t=[0,-wf.z,wf.y,0,-Rf.z,Rf.y,0,-ad.z,ad.y,wf.z,0,-wf.x,Rf.z,0,-Rf.x,ad.z,0,-ad.x,-wf.y,wf.x,0,-Rf.y,Rf.x,0,-ad.y,ad.x,0];return!zM(t,Em,Tm,Cm,nx)||(t=[1,0,0,0,1,0,0,0,1],!zM(t,Em,Tm,Cm,nx))?!1:(ix.crossVectors(wf,Rf),t=[ix.x,ix.y,ix.z],zM(t,Em,Tm,Cm,nx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,wl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(wl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(fc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),fc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),fc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),fc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),fc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),fc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),fc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),fc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(fc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const fc=[new te,new te,new te,new te,new te,new te,new te,new te],wl=new te,tx=new Ss,Em=new te,Tm=new te,Cm=new te,wf=new te,Rf=new te,ad=new te,fv=new te,nx=new te,ix=new te,od=new te;function zM(i,e,t,n,r){for(let s=0,a=i.length-3;s<=a;s+=3){od.fromArray(i,s);const l=r.x*Math.abs(od.x)+r.y*Math.abs(od.y)+r.z*Math.abs(od.z),c=e.dot(od),h=t.dot(od),m=n.dot(od);if(Math.max(-Math.max(c,h,m),Math.min(c,h,m))>l)return!1}return!0}const t5=new Ss,hv=new te,HM=new te;class as{constructor(e=new te,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):t5.setFromPoints(e).getCenter(n);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;hv.subVectors(e,this.center);const t=hv.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(hv,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(HM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(hv.copy(e.center).add(HM)),this.expandByPoint(hv.copy(e.center).sub(HM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const hc=new te,GM=new te,rx=new te,Bf=new te,VM=new te,sx=new te,kM=new te;class yp{constructor(e=new te,t=new te(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,hc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=hc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(hc.copy(this.origin).addScaledVector(this.direction,t),hc.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){GM.copy(e).add(t).multiplyScalar(.5),rx.copy(t).sub(e).normalize(),Bf.copy(this.origin).sub(GM);const s=e.distanceTo(t)*.5,a=-this.direction.dot(rx),l=Bf.dot(this.direction),c=-Bf.dot(rx),h=Bf.lengthSq(),m=Math.abs(1-a*a);let g,v,_,S;if(m>0)if(g=a*c-l,v=a*l-c,S=s*m,g>=0)if(v>=-S)if(v<=S){const M=1/m;g*=M,v*=M,_=g*(g+a*v+2*l)+v*(a*g+v+2*c)+h}else v=s,g=Math.max(0,-(a*v+l)),_=-g*g+v*(v+2*c)+h;else v=-s,g=Math.max(0,-(a*v+l)),_=-g*g+v*(v+2*c)+h;else v<=-S?(g=Math.max(0,-(-a*s+l)),v=g>0?-s:Math.min(Math.max(-s,-c),s),_=-g*g+v*(v+2*c)+h):v<=S?(g=0,v=Math.min(Math.max(-s,-c),s),_=v*(v+2*c)+h):(g=Math.max(0,-(a*s+l)),v=g>0?s:Math.min(Math.max(-s,-c),s),_=-g*g+v*(v+2*c)+h);else v=a>0?-s:s,g=Math.max(0,-(a*v+l)),_=-g*g+v*(v+2*c)+h;return n&&n.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(GM).addScaledVector(rx,v),_}intersectSphere(e,t){hc.subVectors(e.center,this.origin);const n=hc.dot(this.direction),r=hc.dot(hc)-n*n,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),l=n-a,c=n+a;return c<0?null:l<0?this.at(c,t):this.at(l,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,s,a,l,c;const h=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,v=this.origin;return h>=0?(n=(e.min.x-v.x)*h,r=(e.max.x-v.x)*h):(n=(e.max.x-v.x)*h,r=(e.min.x-v.x)*h),m>=0?(s=(e.min.y-v.y)*m,a=(e.max.y-v.y)*m):(s=(e.max.y-v.y)*m,a=(e.min.y-v.y)*m),n>a||s>r||((s>n||isNaN(n))&&(n=s),(a<r||isNaN(r))&&(r=a),g>=0?(l=(e.min.z-v.z)*g,c=(e.max.z-v.z)*g):(l=(e.max.z-v.z)*g,c=(e.min.z-v.z)*g),n>c||l>r)||((l>n||n!==n)&&(n=l),(c<r||r!==r)&&(r=c),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,hc)!==null}intersectTriangle(e,t,n,r,s){VM.subVectors(t,e),sx.subVectors(n,e),kM.crossVectors(VM,sx);let a=this.direction.dot(kM),l;if(a>0){if(r)return null;l=1}else if(a<0)l=-1,a=-a;else return null;Bf.subVectors(this.origin,e);const c=l*this.direction.dot(sx.crossVectors(Bf,sx));if(c<0)return null;const h=l*this.direction.dot(VM.cross(Bf));if(h<0||c+h>a)return null;const m=-l*Bf.dot(kM);return m<0?null:this.at(m/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class an{constructor(e,t,n,r,s,a,l,c,h,m,g,v,_,S,M,b){an.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,a,l,c,h,m,g,v,_,S,M,b)}set(e,t,n,r,s,a,l,c,h,m,g,v,_,S,M,b){const A=this.elements;return A[0]=e,A[4]=t,A[8]=n,A[12]=r,A[1]=s,A[5]=a,A[9]=l,A[13]=c,A[2]=h,A[6]=m,A[10]=g,A[14]=v,A[3]=_,A[7]=S,A[11]=M,A[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new an().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/wm.setFromMatrixColumn(e,0).length(),s=1/wm.setFromMatrixColumn(e,1).length(),a=1/wm.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,s=e.z,a=Math.cos(n),l=Math.sin(n),c=Math.cos(r),h=Math.sin(r),m=Math.cos(s),g=Math.sin(s);if(e.order==="XYZ"){const v=a*m,_=a*g,S=l*m,M=l*g;t[0]=c*m,t[4]=-c*g,t[8]=h,t[1]=_+S*h,t[5]=v-M*h,t[9]=-l*c,t[2]=M-v*h,t[6]=S+_*h,t[10]=a*c}else if(e.order==="YXZ"){const v=c*m,_=c*g,S=h*m,M=h*g;t[0]=v+M*l,t[4]=S*l-_,t[8]=a*h,t[1]=a*g,t[5]=a*m,t[9]=-l,t[2]=_*l-S,t[6]=M+v*l,t[10]=a*c}else if(e.order==="ZXY"){const v=c*m,_=c*g,S=h*m,M=h*g;t[0]=v-M*l,t[4]=-a*g,t[8]=S+_*l,t[1]=_+S*l,t[5]=a*m,t[9]=M-v*l,t[2]=-a*h,t[6]=l,t[10]=a*c}else if(e.order==="ZYX"){const v=a*m,_=a*g,S=l*m,M=l*g;t[0]=c*m,t[4]=S*h-_,t[8]=v*h+M,t[1]=c*g,t[5]=M*h+v,t[9]=_*h-S,t[2]=-h,t[6]=l*c,t[10]=a*c}else if(e.order==="YZX"){const v=a*c,_=a*h,S=l*c,M=l*h;t[0]=c*m,t[4]=M-v*g,t[8]=S*g+_,t[1]=g,t[5]=a*m,t[9]=-l*m,t[2]=-h*m,t[6]=_*g+S,t[10]=v-M*g}else if(e.order==="XZY"){const v=a*c,_=a*h,S=l*c,M=l*h;t[0]=c*m,t[4]=-g,t[8]=h*m,t[1]=v*g+M,t[5]=a*m,t[9]=_*g-S,t[2]=S*g-_,t[6]=l*m,t[10]=M*g+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(n5,e,i5)}lookAt(e,t,n){const r=this.elements;return io.subVectors(e,t),io.lengthSq()===0&&(io.z=1),io.normalize(),Df.crossVectors(n,io),Df.lengthSq()===0&&(Math.abs(n.z)===1?io.x+=1e-4:io.z+=1e-4,io.normalize(),Df.crossVectors(n,io)),Df.normalize(),ax.crossVectors(io,Df),r[0]=Df.x,r[4]=ax.x,r[8]=io.x,r[1]=Df.y,r[5]=ax.y,r[9]=io.y,r[2]=Df.z,r[6]=ax.z,r[10]=io.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,a=n[0],l=n[4],c=n[8],h=n[12],m=n[1],g=n[5],v=n[9],_=n[13],S=n[2],M=n[6],b=n[10],A=n[14],C=n[3],w=n[7],B=n[11],L=n[15],N=r[0],I=r[4],P=r[8],U=r[12],O=r[1],H=r[5],V=r[9],W=r[13],K=r[2],ae=r[6],G=r[10],q=r[14],$=r[3],pe=r[7],z=r[11],oe=r[15];return s[0]=a*N+l*O+c*K+h*$,s[4]=a*I+l*H+c*ae+h*pe,s[8]=a*P+l*V+c*G+h*z,s[12]=a*U+l*W+c*q+h*oe,s[1]=m*N+g*O+v*K+_*$,s[5]=m*I+g*H+v*ae+_*pe,s[9]=m*P+g*V+v*G+_*z,s[13]=m*U+g*W+v*q+_*oe,s[2]=S*N+M*O+b*K+A*$,s[6]=S*I+M*H+b*ae+A*pe,s[10]=S*P+M*V+b*G+A*z,s[14]=S*U+M*W+b*q+A*oe,s[3]=C*N+w*O+B*K+L*$,s[7]=C*I+w*H+B*ae+L*pe,s[11]=C*P+w*V+B*G+L*z,s[15]=C*U+w*W+B*q+L*oe,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],a=e[1],l=e[5],c=e[9],h=e[13],m=e[2],g=e[6],v=e[10],_=e[14],S=e[3],M=e[7],b=e[11],A=e[15];return S*(+s*c*g-r*h*g-s*l*v+n*h*v+r*l*_-n*c*_)+M*(+t*c*_-t*h*v+s*a*v-r*a*_+r*h*m-s*c*m)+b*(+t*h*g-t*l*_-s*a*g+n*a*_+s*l*m-n*h*m)+A*(-r*l*m-t*c*g+t*l*v+r*a*g-n*a*v+n*c*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],l=e[5],c=e[6],h=e[7],m=e[8],g=e[9],v=e[10],_=e[11],S=e[12],M=e[13],b=e[14],A=e[15],C=g*b*h-M*v*h+M*c*_-l*b*_-g*c*A+l*v*A,w=S*v*h-m*b*h-S*c*_+a*b*_+m*c*A-a*v*A,B=m*M*h-S*g*h+S*l*_-a*M*_-m*l*A+a*g*A,L=S*g*c-m*M*c-S*l*v+a*M*v+m*l*b-a*g*b,N=t*C+n*w+r*B+s*L;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/N;return e[0]=C*I,e[1]=(M*v*s-g*b*s-M*r*_+n*b*_+g*r*A-n*v*A)*I,e[2]=(l*b*s-M*c*s+M*r*h-n*b*h-l*r*A+n*c*A)*I,e[3]=(g*c*s-l*v*s-g*r*h+n*v*h+l*r*_-n*c*_)*I,e[4]=w*I,e[5]=(m*b*s-S*v*s+S*r*_-t*b*_-m*r*A+t*v*A)*I,e[6]=(S*c*s-a*b*s-S*r*h+t*b*h+a*r*A-t*c*A)*I,e[7]=(a*v*s-m*c*s+m*r*h-t*v*h-a*r*_+t*c*_)*I,e[8]=B*I,e[9]=(S*g*s-m*M*s-S*n*_+t*M*_+m*n*A-t*g*A)*I,e[10]=(a*M*s-S*l*s+S*n*h-t*M*h-a*n*A+t*l*A)*I,e[11]=(m*l*s-a*g*s-m*n*h+t*g*h+a*n*_-t*l*_)*I,e[12]=L*I,e[13]=(m*M*r-S*g*r+S*n*v-t*M*v-m*n*b+t*g*b)*I,e[14]=(S*l*r-a*M*r-S*n*c+t*M*c+a*n*b-t*l*b)*I,e[15]=(a*g*r-m*l*r+m*n*c-t*g*c-a*n*v+t*l*v)*I,this}scale(e){const t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),s=1-n,a=e.x,l=e.y,c=e.z,h=s*a,m=s*l;return this.set(h*a+n,h*l-r*c,h*c+r*l,0,h*l+r*c,m*l+n,m*c-r*a,0,h*c-r*l,m*c+r*a,s*c*c+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,s,a){return this.set(1,n,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,s=t._x,a=t._y,l=t._z,c=t._w,h=s+s,m=a+a,g=l+l,v=s*h,_=s*m,S=s*g,M=a*m,b=a*g,A=l*g,C=c*h,w=c*m,B=c*g,L=n.x,N=n.y,I=n.z;return r[0]=(1-(M+A))*L,r[1]=(_+B)*L,r[2]=(S-w)*L,r[3]=0,r[4]=(_-B)*N,r[5]=(1-(v+A))*N,r[6]=(b+C)*N,r[7]=0,r[8]=(S+w)*I,r[9]=(b-C)*I,r[10]=(1-(v+M))*I,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let s=wm.set(r[0],r[1],r[2]).length();const a=wm.set(r[4],r[5],r[6]).length(),l=wm.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Rl.copy(this);const h=1/s,m=1/a,g=1/l;return Rl.elements[0]*=h,Rl.elements[1]*=h,Rl.elements[2]*=h,Rl.elements[4]*=m,Rl.elements[5]*=m,Rl.elements[6]*=m,Rl.elements[8]*=g,Rl.elements[9]*=g,Rl.elements[10]*=g,t.setFromRotationMatrix(Rl),n.x=s,n.y=a,n.z=l,this}makePerspective(e,t,n,r,s,a,l=Ko){const c=this.elements,h=2*s/(t-e),m=2*s/(n-r),g=(t+e)/(t-e),v=(n+r)/(n-r);let _,S;if(l===Ko)_=-(a+s)/(a-s),S=-2*a*s/(a-s);else if(l===Sy)_=-a/(a-s),S=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return c[0]=h,c[4]=0,c[8]=g,c[12]=0,c[1]=0,c[5]=m,c[9]=v,c[13]=0,c[2]=0,c[6]=0,c[10]=_,c[14]=S,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,n,r,s,a,l=Ko){const c=this.elements,h=1/(t-e),m=1/(n-r),g=1/(a-s),v=(t+e)*h,_=(n+r)*m;let S,M;if(l===Ko)S=(a+s)*g,M=-2*g;else if(l===Sy)S=s*g,M=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return c[0]=2*h,c[4]=0,c[8]=0,c[12]=-v,c[1]=0,c[5]=2*m,c[9]=0,c[13]=-_,c[2]=0,c[6]=0,c[10]=M,c[14]=-S,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const wm=new te,Rl=new an,n5=new te(0,0,0),i5=new te(1,1,1),Df=new te,ax=new te,io=new te,UB=new an,LB=new ss;class go{constructor(e=0,t=0,n=0,r=go.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,s=r[0],a=r[4],l=r[8],c=r[1],h=r[5],m=r[9],g=r[2],v=r[6],_=r[10];switch(t){case"XYZ":this._y=Math.asin(bn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-m,_),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(v,h),this._z=0);break;case"YXZ":this._x=Math.asin(-bn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(l,_),this._z=Math.atan2(c,h)):(this._y=Math.atan2(-g,s),this._z=0);break;case"ZXY":this._x=Math.asin(bn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,_),this._z=Math.atan2(-a,h)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-bn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,_),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,h));break;case"YZX":this._z=Math.asin(bn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,h),this._y=Math.atan2(-g,s)):(this._x=0,this._y=Math.atan2(l,_));break;case"XZY":this._z=Math.asin(-bn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(v,h),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-m,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return UB.makeRotationFromQuaternion(e),this.setFromRotationMatrix(UB,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return LB.setFromEuler(this),this.setFromQuaternion(LB,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}go.DEFAULT_ORDER="XYZ";class Tg{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let r5=0;const NB=new te,Rm=new ss,dc=new an,ox=new te,dv=new te,s5=new te,a5=new ss,PB=new te(1,0,0),IB=new te(0,1,0),FB=new te(0,0,1),zB={type:"added"},o5={type:"removed"},Bm={type:"childadded",child:null},XM={type:"childremoved",child:null};class Qn extends _o{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:r5++}),this.uuid=ho(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Qn.DEFAULT_UP.clone();const e=new te,t=new go,n=new ss,r=new te(1,1,1);function s(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new an},normalMatrix:{value:new Tn}}),this.matrix=new an,this.matrixWorld=new an,this.matrixAutoUpdate=Qn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Qn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Tg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Rm.setFromAxisAngle(e,t),this.quaternion.multiply(Rm),this}rotateOnWorldAxis(e,t){return Rm.setFromAxisAngle(e,t),this.quaternion.premultiply(Rm),this}rotateX(e){return this.rotateOnAxis(PB,e)}rotateY(e){return this.rotateOnAxis(IB,e)}rotateZ(e){return this.rotateOnAxis(FB,e)}translateOnAxis(e,t){return NB.copy(e).applyQuaternion(this.quaternion),this.position.add(NB.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(PB,e)}translateY(e){return this.translateOnAxis(IB,e)}translateZ(e){return this.translateOnAxis(FB,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(dc.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?ox.copy(e):ox.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),dv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?dc.lookAt(dv,ox,this.up):dc.lookAt(ox,dv,this.up),this.quaternion.setFromRotationMatrix(dc),r&&(dc.extractRotation(r.matrixWorld),Rm.setFromRotationMatrix(dc),this.quaternion.premultiply(Rm.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(zB),Bm.child=e,this.dispatchEvent(Bm),Bm.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(o5),XM.child=e,this.dispatchEvent(XM),XM.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),dc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),dc.multiply(e.parent.matrixWorld)),e.applyMatrix4(dc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(zB),Bm.child=e,this.dispatchEvent(Bm),Bm.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const a=this.children[n].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dv,e,s5),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dv,a5,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(l=>({...l})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function s(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let h=0,m=c.length;h<m;h++){const g=c[h];s(e.shapes,g)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,h=this.material.length;c<h;c++)l.push(s(e.materials,this.material[c]));r.material=l}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];r.animations.push(s(e.animations,c))}}if(t){const l=a(e.geometries),c=a(e.materials),h=a(e.textures),m=a(e.images),g=a(e.shapes),v=a(e.skeletons),_=a(e.animations),S=a(e.nodes);l.length>0&&(n.geometries=l),c.length>0&&(n.materials=c),h.length>0&&(n.textures=h),m.length>0&&(n.images=m),g.length>0&&(n.shapes=g),v.length>0&&(n.skeletons=v),_.length>0&&(n.animations=_),S.length>0&&(n.nodes=S)}return n.object=r,n;function a(l){const c=[];for(const h in l){const m=l[h];delete m.metadata,c.push(m)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}Qn.DEFAULT_UP=new te(0,1,0);Qn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Qn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Bl=new te,pc=new te,YM=new te,mc=new te,Dm=new te,Om=new te,HB=new te,jM=new te,qM=new te,WM=new te,KM=new Kn,JM=new Kn,ZM=new Kn;class Pa{constructor(e=new te,t=new te,n=new te){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Bl.subVectors(e,t),r.cross(Bl);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,n,r,s){Bl.subVectors(r,t),pc.subVectors(n,t),YM.subVectors(e,t);const a=Bl.dot(Bl),l=Bl.dot(pc),c=Bl.dot(YM),h=pc.dot(pc),m=pc.dot(YM),g=a*h-l*l;if(g===0)return s.set(0,0,0),null;const v=1/g,_=(h*c-l*m)*v,S=(a*m-l*c)*v;return s.set(1-_-S,S,_)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,mc)===null?!1:mc.x>=0&&mc.y>=0&&mc.x+mc.y<=1}static getInterpolation(e,t,n,r,s,a,l,c){return this.getBarycoord(e,t,n,r,mc)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(s,mc.x),c.addScaledVector(a,mc.y),c.addScaledVector(l,mc.z),c)}static getInterpolatedAttribute(e,t,n,r,s,a){return KM.setScalar(0),JM.setScalar(0),ZM.setScalar(0),KM.fromBufferAttribute(e,t),JM.fromBufferAttribute(e,n),ZM.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(KM,s.x),a.addScaledVector(JM,s.y),a.addScaledVector(ZM,s.z),a}static isFrontFacing(e,t,n,r){return Bl.subVectors(n,t),pc.subVectors(e,t),Bl.cross(pc).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Bl.subVectors(this.c,this.b),pc.subVectors(this.a,this.b),Bl.cross(pc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Pa.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Pa.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,s){return Pa.getInterpolation(e,this.a,this.b,this.c,t,n,r,s)}containsPoint(e){return Pa.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Pa.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,s=this.c;let a,l;Dm.subVectors(r,n),Om.subVectors(s,n),jM.subVectors(e,n);const c=Dm.dot(jM),h=Om.dot(jM);if(c<=0&&h<=0)return t.copy(n);qM.subVectors(e,r);const m=Dm.dot(qM),g=Om.dot(qM);if(m>=0&&g<=m)return t.copy(r);const v=c*g-m*h;if(v<=0&&c>=0&&m<=0)return a=c/(c-m),t.copy(n).addScaledVector(Dm,a);WM.subVectors(e,s);const _=Dm.dot(WM),S=Om.dot(WM);if(S>=0&&_<=S)return t.copy(s);const M=_*h-c*S;if(M<=0&&h>=0&&S<=0)return l=h/(h-S),t.copy(n).addScaledVector(Om,l);const b=m*S-_*g;if(b<=0&&g-m>=0&&_-S>=0)return HB.subVectors(s,r),l=(g-m)/(g-m+(_-S)),t.copy(r).addScaledVector(HB,l);const A=1/(b+M+v);return a=M*A,l=v*A,t.copy(n).addScaledVector(Dm,a).addScaledVector(Om,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const XL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Of={h:0,s:0,l:0},lx={h:0,s:0,l:0};function QM(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class wt{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=si){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Wn.colorSpaceToWorking(this,t),this}setRGB(e,t,n,r=Wn.workingColorSpace){return this.r=e,this.g=t,this.b=n,Wn.colorSpaceToWorking(this,r),this}setHSL(e,t,n,r=Wn.workingColorSpace){if(e=s2(e,1),t=bn(t,0,1),n=bn(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,a=2*n-s;this.r=QM(a,s,e+1/3),this.g=QM(a,s,e),this.b=QM(a,s,e-1/3)}return Wn.colorSpaceToWorking(this,r),this}setStyle(e,t=si){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],l=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=si){const n=XL[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Cc(e.r),this.g=Cc(e.g),this.b=Cc(e.b),this}copyLinearToSRGB(e){return this.r=ug(e.r),this.g=ug(e.g),this.b=ug(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=si){return Wn.workingToColorSpace(Ns.copy(this),e),Math.round(bn(Ns.r*255,0,255))*65536+Math.round(bn(Ns.g*255,0,255))*256+Math.round(bn(Ns.b*255,0,255))}getHexString(e=si){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Wn.workingColorSpace){Wn.workingToColorSpace(Ns.copy(this),t);const n=Ns.r,r=Ns.g,s=Ns.b,a=Math.max(n,r,s),l=Math.min(n,r,s);let c,h;const m=(l+a)/2;if(l===a)c=0,h=0;else{const g=a-l;switch(h=m<=.5?g/(a+l):g/(2-a-l),a){case n:c=(r-s)/g+(r<s?6:0);break;case r:c=(s-n)/g+2;break;case s:c=(n-r)/g+4;break}c/=6}return e.h=c,e.s=h,e.l=m,e}getRGB(e,t=Wn.workingColorSpace){return Wn.workingToColorSpace(Ns.copy(this),t),e.r=Ns.r,e.g=Ns.g,e.b=Ns.b,e}getStyle(e=si){Wn.workingToColorSpace(Ns.copy(this),e);const t=Ns.r,n=Ns.g,r=Ns.b;return e!==si?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(Of),this.setHSL(Of.h+e,Of.s+t,Of.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Of),e.getHSL(lx);const n=Wv(Of.h,lx.h,t),r=Wv(Of.s,lx.s,t),s=Wv(Of.l,lx.l,t);return this.setHSL(n,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*n+s[6]*r,this.g=s[1]*t+s[4]*n+s[7]*r,this.b=s[2]*t+s[5]*n+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ns=new wt;wt.NAMES=XL;let l5=0;class Er extends _o{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:l5++}),this.uuid=ho(),this.name="",this.type="Material",this.blending=Xd,this.side=Gl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=FS,this.blendDst=zS,this.blendEquation=Gf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new wt(0,0,0),this.blendAlpha=0,this.depthFunc=ip,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=DT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Td,this.stencilZFail=Td,this.stencilZPass=Td,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Xd&&(n.blending=this.blending),this.side!==Gl&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==FS&&(n.blendSrc=this.blendSrc),this.blendDst!==zS&&(n.blendDst=this.blendDst),this.blendEquation!==Gf&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==ip&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==DT&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Td&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Td&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Td&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(s){const a=[];for(const l in s){const c=s[l];delete c.metadata,a.push(c)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(n.textures=s),a.length>0&&(n.images=a)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ia extends Er{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new wt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new go,this.combine=jy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ac=u5();function u5(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let c=0;c<256;++c){const h=c-127;h<-27?(n[c]=0,n[c|256]=32768,r[c]=24,r[c|256]=24):h<-14?(n[c]=1024>>-h-14,n[c|256]=1024>>-h-14|32768,r[c]=-h-1,r[c|256]=-h-1):h<=15?(n[c]=h+15<<10,n[c|256]=h+15<<10|32768,r[c]=13,r[c|256]=13):h<128?(n[c]=31744,n[c|256]=64512,r[c]=24,r[c|256]=24):(n[c]=31744,n[c|256]=64512,r[c]=13,r[c|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),l=new Uint32Array(64);for(let c=1;c<1024;++c){let h=c<<13,m=0;for(;(h&8388608)===0;)h<<=1,m-=8388608;h&=-8388609,m+=947912704,s[c]=h|m}for(let c=1024;c<2048;++c)s[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)a[c]=c<<23;a[31]=1199570944,a[32]=2147483648;for(let c=33;c<63;++c)a[c]=2147483648+(c-32<<23);a[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(l[c]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:l}}function La(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=bn(i,-65504,65504),Ac.floatView[0]=i;const e=Ac.uint32View[0],t=e>>23&511;return Ac.baseTable[t]+((e&8388607)>>Ac.shiftTable[t])}function Dv(i){const e=i>>10;return Ac.uint32View[0]=Ac.mantissaTable[Ac.offsetTable[e]+(i&1023)]+Ac.exponentTable[e],Ac.floatView[0]}class Pd{static toHalfFloat(e){return La(e)}static fromHalfFloat(e){return Dv(e)}}const Or=new te,ux=new Ye;let c5=0;class $n{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:c5++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=xy,this.updateRanges=[],this.gpuType=qi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)ux.fromBufferAttribute(this,t),ux.applyMatrix3(e),this.setXY(t,ux.x,ux.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Or.fromBufferAttribute(this,t),Or.applyMatrix3(e),this.setXYZ(t,Or.x,Or.y,Or.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Or.fromBufferAttribute(this,t),Or.applyMatrix4(e),this.setXYZ(t,Or.x,Or.y,Or.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Or.fromBufferAttribute(this,t),Or.applyNormalMatrix(e),this.setXYZ(t,Or.x,Or.y,Or.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Or.fromBufferAttribute(this,t),Or.transformDirection(e),this.setXYZ(t,Or.x,Or.y,Or.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=ga(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Rn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ga(t,this.array)),t}setX(e,t){return this.normalized&&(t=Rn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ga(t,this.array)),t}setY(e,t){return this.normalized&&(t=Rn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ga(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Rn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ga(t,this.array)),t}setW(e,t){return this.normalized&&(t=Rn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array),r=Rn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array),r=Rn(r,this.array),s=Rn(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==xy&&(e.usage=this.usage),e}}class f5 extends $n{constructor(e,t,n){super(new Int8Array(e),t,n)}}class h5 extends $n{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class d5 extends $n{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class p5 extends $n{constructor(e,t,n){super(new Int16Array(e),t,n)}}class o2 extends $n{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class m5 extends $n{constructor(e,t,n){super(new Int32Array(e),t,n)}}class l2 extends $n{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class g5 extends $n{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Dv(this.array[e*this.itemSize]);return this.normalized&&(t=ga(t,this.array)),t}setX(e,t){return this.normalized&&(t=Rn(t,this.array)),this.array[e*this.itemSize]=La(t),this}getY(e){let t=Dv(this.array[e*this.itemSize+1]);return this.normalized&&(t=ga(t,this.array)),t}setY(e,t){return this.normalized&&(t=Rn(t,this.array)),this.array[e*this.itemSize+1]=La(t),this}getZ(e){let t=Dv(this.array[e*this.itemSize+2]);return this.normalized&&(t=ga(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Rn(t,this.array)),this.array[e*this.itemSize+2]=La(t),this}getW(e){let t=Dv(this.array[e*this.itemSize+3]);return this.normalized&&(t=ga(t,this.array)),t}setW(e,t){return this.normalized&&(t=Rn(t,this.array)),this.array[e*this.itemSize+3]=La(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array)),this.array[e+0]=La(t),this.array[e+1]=La(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array),r=Rn(r,this.array)),this.array[e+0]=La(t),this.array[e+1]=La(n),this.array[e+2]=La(r),this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array),r=Rn(r,this.array),s=Rn(s,this.array)),this.array[e+0]=La(t),this.array[e+1]=La(n),this.array[e+2]=La(r),this.array[e+3]=La(s),this}}class jt extends $n{constructor(e,t,n){super(new Float32Array(e),t,n)}}let v5=0;const zo=new an,$M=new Qn,Um=new te,ro=new Ss,pv=new Ss,ns=new te;class xn extends _o{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:v5++}),this.uuid=ho(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(GL(e)?l2:o2)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new Tn().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return zo.makeRotationFromQuaternion(e),this.applyMatrix4(zo),this}rotateX(e){return zo.makeRotationX(e),this.applyMatrix4(zo),this}rotateY(e){return zo.makeRotationY(e),this.applyMatrix4(zo),this}rotateZ(e){return zo.makeRotationZ(e),this.applyMatrix4(zo),this}translate(e,t,n){return zo.makeTranslation(e,t,n),this.applyMatrix4(zo),this}scale(e,t,n){return zo.makeScale(e,t,n),this.applyMatrix4(zo),this}lookAt(e){return $M.lookAt(e),$M.updateMatrix(),this.applyMatrix4($M.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Um).negate(),this.translate(Um.x,Um.y,Um.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];n.push(a.x,a.y,a.z||0)}this.setAttribute("position",new jt(n,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ss);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new te(-1/0,-1/0,-1/0),new te(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const s=t[n];ro.setFromBufferAttribute(s),this.morphTargetsRelative?(ns.addVectors(this.boundingBox.min,ro.min),this.boundingBox.expandByPoint(ns),ns.addVectors(this.boundingBox.max,ro.max),this.boundingBox.expandByPoint(ns)):(this.boundingBox.expandByPoint(ro.min),this.boundingBox.expandByPoint(ro.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new as);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new te,1/0);return}if(e){const n=this.boundingSphere.center;if(ro.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const l=t[s];pv.setFromBufferAttribute(l),this.morphTargetsRelative?(ns.addVectors(ro.min,pv.min),ro.expandByPoint(ns),ns.addVectors(ro.max,pv.max),ro.expandByPoint(ns)):(ro.expandByPoint(pv.min),ro.expandByPoint(pv.max))}ro.getCenter(n);let r=0;for(let s=0,a=e.count;s<a;s++)ns.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(ns));if(t)for(let s=0,a=t.length;s<a;s++){const l=t[s],c=this.morphTargetsRelative;for(let h=0,m=l.count;h<m;h++)ns.fromBufferAttribute(l,h),c&&(Um.fromBufferAttribute(e,h),ns.add(Um)),r=Math.max(r,n.distanceToSquared(ns))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new $n(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),l=[],c=[];for(let P=0;P<n.count;P++)l[P]=new te,c[P]=new te;const h=new te,m=new te,g=new te,v=new Ye,_=new Ye,S=new Ye,M=new te,b=new te;function A(P,U,O){h.fromBufferAttribute(n,P),m.fromBufferAttribute(n,U),g.fromBufferAttribute(n,O),v.fromBufferAttribute(s,P),_.fromBufferAttribute(s,U),S.fromBufferAttribute(s,O),m.sub(h),g.sub(h),_.sub(v),S.sub(v);const H=1/(_.x*S.y-S.x*_.y);isFinite(H)&&(M.copy(m).multiplyScalar(S.y).addScaledVector(g,-_.y).multiplyScalar(H),b.copy(g).multiplyScalar(_.x).addScaledVector(m,-S.x).multiplyScalar(H),l[P].add(M),l[U].add(M),l[O].add(M),c[P].add(b),c[U].add(b),c[O].add(b))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let P=0,U=C.length;P<U;++P){const O=C[P],H=O.start,V=O.count;for(let W=H,K=H+V;W<K;W+=3)A(e.getX(W+0),e.getX(W+1),e.getX(W+2))}const w=new te,B=new te,L=new te,N=new te;function I(P){L.fromBufferAttribute(r,P),N.copy(L);const U=l[P];w.copy(U),w.sub(L.multiplyScalar(L.dot(U))).normalize(),B.crossVectors(N,U);const H=B.dot(c[P])<0?-1:1;a.setXYZW(P,w.x,w.y,w.z,H)}for(let P=0,U=C.length;P<U;++P){const O=C[P],H=O.start,V=O.count;for(let W=H,K=H+V;W<K;W+=3)I(e.getX(W+0)),I(e.getX(W+1)),I(e.getX(W+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new $n(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let v=0,_=n.count;v<_;v++)n.setXYZ(v,0,0,0);const r=new te,s=new te,a=new te,l=new te,c=new te,h=new te,m=new te,g=new te;if(e)for(let v=0,_=e.count;v<_;v+=3){const S=e.getX(v+0),M=e.getX(v+1),b=e.getX(v+2);r.fromBufferAttribute(t,S),s.fromBufferAttribute(t,M),a.fromBufferAttribute(t,b),m.subVectors(a,s),g.subVectors(r,s),m.cross(g),l.fromBufferAttribute(n,S),c.fromBufferAttribute(n,M),h.fromBufferAttribute(n,b),l.add(m),c.add(m),h.add(m),n.setXYZ(S,l.x,l.y,l.z),n.setXYZ(M,c.x,c.y,c.z),n.setXYZ(b,h.x,h.y,h.z)}else for(let v=0,_=t.count;v<_;v+=3)r.fromBufferAttribute(t,v+0),s.fromBufferAttribute(t,v+1),a.fromBufferAttribute(t,v+2),m.subVectors(a,s),g.subVectors(r,s),m.cross(g),n.setXYZ(v+0,m.x,m.y,m.z),n.setXYZ(v+1,m.x,m.y,m.z),n.setXYZ(v+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)ns.fromBufferAttribute(e,t),ns.normalize(),e.setXYZ(t,ns.x,ns.y,ns.z)}toNonIndexed(){function e(l,c){const h=l.array,m=l.itemSize,g=l.normalized,v=new h.constructor(c.length*m);let _=0,S=0;for(let M=0,b=c.length;M<b;M++){l.isInterleavedBufferAttribute?_=c[M]*l.data.stride+l.offset:_=c[M]*m;for(let A=0;A<m;A++)v[S++]=h[_++]}return new $n(v,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new xn,n=this.index.array,r=this.attributes;for(const l in r){const c=r[l],h=e(c,n);t.setAttribute(l,h)}const s=this.morphAttributes;for(const l in s){const c=[],h=s[l];for(let m=0,g=h.length;m<g;m++){const v=h[m],_=e(v,n);c.push(_)}t.morphAttributes[l]=c}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,c=a.length;l<c;l++){const h=a[l];t.addGroup(h.start,h.count,h.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const h in c)c[h]!==void 0&&(e[h]=c[h]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const c in n){const h=n[c];e.data.attributes[c]=h.toJSON(e.data)}const r={};let s=!1;for(const c in this.morphAttributes){const h=this.morphAttributes[c],m=[];for(let g=0,v=h.length;g<v;g++){const _=h[g];m.push(_.toJSON(e.data))}m.length>0&&(r[c]=m,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const r=e.attributes;for(const h in r){const m=r[h];this.setAttribute(h,m.clone(t))}const s=e.morphAttributes;for(const h in s){const m=[],g=s[h];for(let v=0,_=g.length;v<_;v++)m.push(g[v].clone(t));this.morphAttributes[h]=m}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let h=0,m=a.length;h<m;h++){const g=a[h];this.addGroup(g.start,g.count,g.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const GB=new an,ld=new yp,cx=new as,VB=new te,fx=new te,hx=new te,dx=new te,eE=new te,px=new te,kB=new te,mx=new te;class zi extends Qn{constructor(e=new xn,t=new Ia){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,s=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(s&&l){px.set(0,0,0);for(let c=0,h=s.length;c<h;c++){const m=l[c],g=s[c];m!==0&&(eE.fromBufferAttribute(g,e),a?px.addScaledVector(eE,m):px.addScaledVector(eE.sub(t),m))}t.add(px)}return t}raycast(e,t){const n=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),cx.copy(n.boundingSphere),cx.applyMatrix4(s),ld.copy(e.ray).recast(e.near),!(cx.containsPoint(ld.origin)===!1&&(ld.intersectSphere(cx,VB)===null||ld.origin.distanceToSquared(VB)>(e.far-e.near)**2))&&(GB.copy(s).invert(),ld.copy(e.ray).applyMatrix4(GB),!(n.boundingBox!==null&&ld.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,ld)))}_computeIntersections(e,t,n){let r;const s=this.geometry,a=this.material,l=s.index,c=s.attributes.position,h=s.attributes.uv,m=s.attributes.uv1,g=s.attributes.normal,v=s.groups,_=s.drawRange;if(l!==null)if(Array.isArray(a))for(let S=0,M=v.length;S<M;S++){const b=v[S],A=a[b.materialIndex],C=Math.max(b.start,_.start),w=Math.min(l.count,Math.min(b.start+b.count,_.start+_.count));for(let B=C,L=w;B<L;B+=3){const N=l.getX(B),I=l.getX(B+1),P=l.getX(B+2);r=gx(this,A,e,n,h,m,g,N,I,P),r&&(r.faceIndex=Math.floor(B/3),r.face.materialIndex=b.materialIndex,t.push(r))}}else{const S=Math.max(0,_.start),M=Math.min(l.count,_.start+_.count);for(let b=S,A=M;b<A;b+=3){const C=l.getX(b),w=l.getX(b+1),B=l.getX(b+2);r=gx(this,a,e,n,h,m,g,C,w,B),r&&(r.faceIndex=Math.floor(b/3),t.push(r))}}else if(c!==void 0)if(Array.isArray(a))for(let S=0,M=v.length;S<M;S++){const b=v[S],A=a[b.materialIndex],C=Math.max(b.start,_.start),w=Math.min(c.count,Math.min(b.start+b.count,_.start+_.count));for(let B=C,L=w;B<L;B+=3){const N=B,I=B+1,P=B+2;r=gx(this,A,e,n,h,m,g,N,I,P),r&&(r.faceIndex=Math.floor(B/3),r.face.materialIndex=b.materialIndex,t.push(r))}}else{const S=Math.max(0,_.start),M=Math.min(c.count,_.start+_.count);for(let b=S,A=M;b<A;b+=3){const C=b,w=b+1,B=b+2;r=gx(this,a,e,n,h,m,g,C,w,B),r&&(r.faceIndex=Math.floor(b/3),t.push(r))}}}}function y5(i,e,t,n,r,s,a,l){let c;if(e.side===qr?c=n.intersectTriangle(a,s,r,!0,l):c=n.intersectTriangle(r,s,a,e.side===Gl,l),c===null)return null;mx.copy(l),mx.applyMatrix4(i.matrixWorld);const h=t.ray.origin.distanceTo(mx);return h<t.near||h>t.far?null:{distance:h,point:mx.clone(),object:i}}function gx(i,e,t,n,r,s,a,l,c,h){i.getVertexPosition(l,fx),i.getVertexPosition(c,hx),i.getVertexPosition(h,dx);const m=y5(i,e,t,n,fx,hx,dx,kB);if(m){const g=new te;Pa.getBarycoord(kB,fx,hx,dx,g),r&&(m.uv=Pa.getInterpolatedAttribute(r,l,c,h,g,new Ye)),s&&(m.uv1=Pa.getInterpolatedAttribute(s,l,c,h,g,new Ye)),a&&(m.normal=Pa.getInterpolatedAttribute(a,l,c,h,g,new te),m.normal.dot(n.direction)>0&&m.normal.multiplyScalar(-1));const v={a:l,b:c,c:h,normal:new te,materialIndex:0};Pa.getNormal(fx,hx,dx,v.normal),m.face=v,m.barycoord=g}return m}class _p extends xn{constructor(e=1,t=1,n=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:s,depthSegments:a};const l=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const c=[],h=[],m=[],g=[];let v=0,_=0;S("z","y","x",-1,-1,n,t,e,a,s,0),S("z","y","x",1,-1,n,t,-e,a,s,1),S("x","z","y",1,1,e,n,t,r,a,2),S("x","z","y",1,-1,e,n,-t,r,a,3),S("x","y","z",1,-1,e,t,n,r,s,4),S("x","y","z",-1,-1,e,t,-n,r,s,5),this.setIndex(c),this.setAttribute("position",new jt(h,3)),this.setAttribute("normal",new jt(m,3)),this.setAttribute("uv",new jt(g,2));function S(M,b,A,C,w,B,L,N,I,P,U){const O=B/I,H=L/P,V=B/2,W=L/2,K=N/2,ae=I+1,G=P+1;let q=0,$=0;const pe=new te;for(let z=0;z<G;z++){const oe=z*H-W;for(let ve=0;ve<ae;ve++){const Ae=ve*O-V;pe[M]=Ae*C,pe[b]=oe*w,pe[A]=K,h.push(pe.x,pe.y,pe.z),pe[M]=0,pe[b]=0,pe[A]=N>0?1:-1,m.push(pe.x,pe.y,pe.z),g.push(ve/I),g.push(1-z/P),q+=1}}for(let z=0;z<P;z++)for(let oe=0;oe<I;oe++){const ve=v+oe+ae*z,Ae=v+oe+ae*(z+1),se=v+(oe+1)+ae*(z+1),Te=v+(oe+1)+ae*z;c.push(ve,Ae,Te),c.push(Ae,se,Te),$+=6}l.addGroup(_,$,U),_+=$,v+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _p(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Cg(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function fa(i){const e={};for(let t=0;t<i.length;t++){const n=Cg(i[t]);for(const r in n)e[r]=n[r]}return e}function _5(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function YL(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Wn.workingColorSpace}const jL={clone:Cg,merge:fa};var x5=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,S5=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class pr extends Er{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=x5,this.fragmentShader=S5,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Cg(e.uniforms),this.uniformsGroups=_5(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Jy extends Qn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new an,this.projectionMatrix=new an,this.projectionMatrixInverse=new an,this.coordinateSystem=Ko}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Uf=new te,XB=new Ye,YB=new Ye;class er extends Jy{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Eg*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Yd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Eg*2*Math.atan(Math.tan(Yd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Uf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Uf.x,Uf.y).multiplyScalar(-e/Uf.z),Uf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Uf.x,Uf.y).multiplyScalar(-e/Uf.z)}getViewSize(e,t){return this.getViewBounds(e,XB,YB),t.subVectors(YB,XB)}setViewOffset(e,t,n,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Yd*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const c=a.fullWidth,h=a.fullHeight;s+=a.offsetX*r/c,t-=a.offsetY*n/h,r*=a.width/c,n*=a.height/h}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Lm=-90,Nm=1;class qL extends Qn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new er(Lm,Nm,e,t);r.layers=this.layers,this.add(r);const s=new er(Lm,Nm,e,t);s.layers=this.layers,this.add(s);const a=new er(Lm,Nm,e,t);a.layers=this.layers,this.add(a);const l=new er(Lm,Nm,e,t);l.layers=this.layers,this.add(l);const c=new er(Lm,Nm,e,t);c.layers=this.layers,this.add(c);const h=new er(Lm,Nm,e,t);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,s,a,l,c]=t;for(const h of t)this.remove(h);if(e===Ko)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===Sy)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const h of t)this.add(h),h.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,l,c,h,m]=this.children,g=e.getRenderTarget(),v=e.getActiveCubeFace(),_=e.getActiveMipmapLevel(),S=e.xr.enabled;e.xr.enabled=!1;const M=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,s),e.setRenderTarget(n,1,r),e.render(t,a),e.setRenderTarget(n,2,r),e.render(t,l),e.setRenderTarget(n,3,r),e.render(t,c),e.setRenderTarget(n,4,r),e.render(t,h),n.texture.generateMipmaps=M,e.setRenderTarget(n,5,r),e.render(t,m),e.setRenderTarget(g,v,_),e.xr.enabled=S,n.texture.needsPMREMUpdate=!0}}class Zy extends hi{constructor(e=[],t=Hu,n,r,s,a,l,c,h,m){super(e,t,n,r,s,a,l,c,h,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class u2 extends dr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new Zy(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new _p(5,5,5),s=new pr({name:"CubemapFromEquirect",uniforms:Cg(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:qr,blending:xs});s.uniforms.tEquirect.value=t;const a=new zi(r,s),l=t.minFilter;return t.minFilter===Wo&&(t.minFilter=Jn),new qL(1,10,this).update(e,a),t.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,n=!0,r=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(s)}}class Mc extends Qn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const A5={type:"move"};class yS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Mc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Mc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new te,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new te),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Mc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new te,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new te),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,s=null,a=null;const l=this._targetRay,c=this._grip,h=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(h&&e.hand){a=!0;for(const M of e.hand.values()){const b=t.getJointPose(M,n),A=this._getHandJoint(h,M);b!==null&&(A.matrix.fromArray(b.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,A.jointRadius=b.radius),A.visible=b!==null}const m=h.joints["index-finger-tip"],g=h.joints["thumb-tip"],v=m.position.distanceTo(g.position),_=.02,S=.005;h.inputState.pinching&&v>_+S?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&v<=_-S&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&s!==null&&(r=s),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(A5)))}return l!==null&&(l.visible=r!==null),c!==null&&(c.visible=s!==null),h!==null&&(h.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Mc;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class ub{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new wt(e),this.density=t}clone(){return new ub(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class cb{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new wt(e),this.near=t,this.far=n}clone(){return new cb(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class ap extends Qn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new go,this.environmentIntensity=1,this.environmentRotation=new go,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Qy{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=xy,this.updateRanges=[],this.version=0,this.uuid=ho()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ho()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ho()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const la=new te;class nh{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)la.fromBufferAttribute(this,t),la.applyMatrix4(e),this.setXYZ(t,la.x,la.y,la.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)la.fromBufferAttribute(this,t),la.applyNormalMatrix(e),this.setXYZ(t,la.x,la.y,la.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)la.fromBufferAttribute(this,t),la.transformDirection(e),this.setXYZ(t,la.x,la.y,la.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=ga(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Rn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Rn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ga(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ga(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ga(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ga(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array),r=Rn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Rn(t,this.array),n=Rn(n,this.array),r=Rn(r,this.array),s=Rn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new $n(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new nh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class c2 extends Er{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new wt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Pm;const mv=new te,Im=new te,Fm=new te,zm=new Ye,gv=new Ye,WL=new an,vx=new te,vv=new te,yx=new te,jB=new Ye,tE=new Ye,qB=new Ye;class KL extends Qn{constructor(e=new c2){if(super(),this.isSprite=!0,this.type="Sprite",Pm===void 0){Pm=new xn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Qy(t,5);Pm.setIndex([0,1,2,0,2,3]),Pm.setAttribute("position",new nh(n,3,0,!1)),Pm.setAttribute("uv",new nh(n,2,3,!1))}this.geometry=Pm,this.material=e,this.center=new Ye(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Im.setFromMatrixScale(this.matrixWorld),WL.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Fm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Im.multiplyScalar(-Fm.z);const n=this.material.rotation;let r,s;n!==0&&(s=Math.cos(n),r=Math.sin(n));const a=this.center;_x(vx.set(-.5,-.5,0),Fm,a,Im,r,s),_x(vv.set(.5,-.5,0),Fm,a,Im,r,s),_x(yx.set(.5,.5,0),Fm,a,Im,r,s),jB.set(0,0),tE.set(1,0),qB.set(1,1);let l=e.ray.intersectTriangle(vx,vv,yx,!1,mv);if(l===null&&(_x(vv.set(-.5,.5,0),Fm,a,Im,r,s),tE.set(0,1),l=e.ray.intersectTriangle(vx,yx,vv,!1,mv),l===null))return;const c=e.ray.origin.distanceTo(mv);c<e.near||c>e.far||t.push({distance:c,point:mv.clone(),uv:Pa.getInterpolation(mv,vx,vv,yx,jB,tE,qB,new Ye),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function _x(i,e,t,n,r,s){zm.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(gv.x=s*zm.x-r*zm.y,gv.y=r*zm.x+s*zm.y):gv.copy(zm),i.copy(e),i.x+=gv.x,i.y+=gv.y,i.applyMatrix4(WL)}const xx=new te,WB=new te;class JL extends Qn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const s=t[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const r=t.splice(n,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let s=t[n].distance;if(t[n].object.visible&&(s-=s*t[n].hysteresis),e<s)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){xx.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(xx);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){xx.setFromMatrixPosition(e.matrixWorld),WB.setFromMatrixPosition(this.matrixWorld);const n=xx.distanceTo(WB)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),n>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,s=n.length;r<s;r++){const a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const KB=new te,JB=new Kn,ZB=new Kn,b5=new te,QB=new an,Sx=new te,nE=new as,$B=new an,iE=new yp;class f2 extends zi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=RT,this.bindMatrix=new an,this.bindMatrixInverse=new an,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ss),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Sx),this.boundingBox.expandByPoint(Sx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new as),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Sx),this.boundingSphere.expandByPoint(Sx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),nE.copy(this.boundingSphere),nE.applyMatrix4(r),e.ray.intersectsSphere(nE)!==!1&&($B.copy(r).invert(),iE.copy(e.ray).applyMatrix4($B),!(this.boundingBox!==null&&iE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,iE)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Kn,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===RT?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===TL?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;JB.fromBufferAttribute(r.attributes.skinIndex,e),ZB.fromBufferAttribute(r.attributes.skinWeight,e),KB.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=ZB.getComponent(s);if(a!==0){const l=JB.getComponent(s);QB.multiplyMatrices(n.bones[l].matrixWorld,n.boneInverses[l]),t.addScaledVector(b5.copy(KB).applyMatrix4(QB),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class fb extends Qn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Hl extends hi{constructor(e=null,t=1,n=1,r,s,a,l,c,h=fr,m=fr,g,v){super(null,a,l,c,h,m,r,s,g,v),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const eD=new an,M5=new an;class $y{constructor(e=[],t=[]){this.uuid=ho(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new an)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new an;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const l=e[s]?e[s].matrixWorld:M5;eD.multiplyMatrices(l,t[s]),eD.toArray(n,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new $y(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Hl(t,e,e,br,qi);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const s=e.bones[n];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new fb),this.bones.push(a),this.boneInverses.push(new an().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const l=n[r];e.boneInverses.push(l.toArray())}return e}}class op extends $n{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Hm=new an,tD=new an,Ax=[],nD=new Ss,E5=new an,yv=new zi,_v=new as;class h2 extends zi{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new op(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,E5)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ss),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Hm),nD.copy(e.boundingBox).applyMatrix4(Hm),this.boundingBox.union(nD)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new as),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Hm),_v.copy(e.boundingSphere).applyMatrix4(Hm),this.boundingSphere.union(_v)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=n.length+1,a=e*s+1;for(let l=0;l<n.length;l++)n[l]=r[a+l]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(yv.geometry=this.geometry,yv.material=this.material,yv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_v.copy(this.boundingSphere),_v.applyMatrix4(n),e.ray.intersectsSphere(_v)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Hm),tD.multiplyMatrices(n,Hm),yv.matrixWorld=tD,yv.raycast(e,Ax);for(let a=0,l=Ax.length;a<l;a++){const c=Ax[a];c.instanceId=s,c.object=this,t.push(c)}Ax.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new op(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;this.morphTexture===null&&(this.morphTexture=new Hl(new Float32Array(r*this.count),r,this.count,Wy,qi));const s=this.morphTexture.source.data.data;let a=0;for(let h=0;h<n.length;h++)a+=n[h];const l=this.geometry.morphTargetsRelative?1:1-a,c=r*e;s[c]=l,s.set(n,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const rE=new te,T5=new te,C5=new Tn;class xc{constructor(e=new te(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=rE.subVectors(n,t).cross(T5.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(rE),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(n,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||C5.getNormalMatrix(e),r=this.coplanarPoint(rE).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ud=new as,bx=new te;class Vg{constructor(e=new xc,t=new xc,n=new xc,r=new xc,s=new xc,a=new xc){this.planes=[e,t,n,r,s,a]}set(e,t,n,r,s,a){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(n),l[3].copy(r),l[4].copy(s),l[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Ko){const n=this.planes,r=e.elements,s=r[0],a=r[1],l=r[2],c=r[3],h=r[4],m=r[5],g=r[6],v=r[7],_=r[8],S=r[9],M=r[10],b=r[11],A=r[12],C=r[13],w=r[14],B=r[15];if(n[0].setComponents(c-s,v-h,b-_,B-A).normalize(),n[1].setComponents(c+s,v+h,b+_,B+A).normalize(),n[2].setComponents(c+a,v+m,b+S,B+C).normalize(),n[3].setComponents(c-a,v-m,b-S,B-C).normalize(),n[4].setComponents(c-l,v-g,b-M,B-w).normalize(),t===Ko)n[5].setComponents(c+l,v+g,b+M,B+w).normalize();else if(t===Sy)n[5].setComponents(l,g,M,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ud.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),ud.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ud)}intersectsSprite(e){return ud.center.set(0,0,0),ud.radius=.7071067811865476,ud.applyMatrix4(e.matrixWorld),this.intersectsSphere(ud)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(bx.x=r.normal.x>0?e.max.x:e.min.x,bx.y=r.normal.y>0?e.max.y:e.min.y,bx.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(bx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Tu=new an,Cu=new Vg;class hb{constructor(){this.coordinateSystem=Ko}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Tu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Cu.setFromProjectionMatrix(Tu,this.coordinateSystem),Cu.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Tu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Cu.setFromProjectionMatrix(Tu,this.coordinateSystem),Cu.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Tu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Cu.setFromProjectionMatrix(Tu,this.coordinateSystem),Cu.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Tu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Cu.setFromProjectionMatrix(Tu,this.coordinateSystem),Cu.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Tu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Cu.setFromProjectionMatrix(Tu,this.coordinateSystem),Cu.containsPoint(e))return!0}return!1}clone(){return new hb}}function sE(i,e){return i-e}function w5(i,e){return i.z-e.z}function R5(i,e){return e.z-i.z}class B5{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,r){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const l=s[this.index];a.push(l),this.index++,l.start=e,l.count=t,l.z=n,l.index=r}reset(){this.list.length=0,this.index=0}}const Ua=new an,D5=new wt(1,1,1),iD=new Vg,O5=new hb,Mx=new Ss,cd=new as,xv=new te,rD=new te,U5=new te,aE=new B5,Ps=new zi,Ex=[];function L5(i,e,t=0){const n=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const r=i.count;for(let s=0;s<r;s++)for(let a=0;a<n;a++)e.setComponent(s+t,a,i.getComponent(s,a))}else e.array.set(i.array,t*n);e.needsUpdate=!0}function fd(i,e){if(i.constructor!==e.constructor){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++)e[n]=i[n]}else{const t=Math.min(i.length,e.length);e.set(new i.constructor(i.buffer,0,t))}}class ZL extends zi{constructor(e,t,n=t*2,r){super(new xn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new Hl(t,e,e,br,qi);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new Hl(t,e,e,Ky,Vl);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new Hl(t,e,e,br,qi);n.colorSpace=Wn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:l,itemSize:c,normalized:h}=a,m=new l.constructor(n*c),g=new $n(m,c,h);t.setAttribute(s,g)}if(e.getIndex()!==null){const s=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new $n(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),s=t.getAttribute(n);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ss);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const s=t[n].geometryIndex;this.getMatrixAt(n,Ua),this.getBoundingBoxAt(s,Mx).applyMatrix4(Ua),e.union(Mx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new as);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const s=t[n].geometryIndex;this.getMatrixAt(n,Ua),this.getBoundingSphereAt(s,cd).applyMatrix4(Ua),e.union(cd)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(sE),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=n):(r=this._instanceInfo.length,this._instanceInfo.push(n));const s=this._matricesTexture;Ua.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(D5.toArray(a.image.data,r*4),a.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=n===-1?a.count:n),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(sE),c=this._availableGeometryIds.shift(),s[c]=r):(c=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(c,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,c}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=n.getIndex()!==null,s=n.getIndex(),a=t.getIndex(),l=this._geometryInfo[e];if(r&&a.count>l.reservedIndexCount||t.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const c=l.vertexStart,h=l.reservedVertexCount;l.vertexCount=t.getAttribute("position").count;for(const m in n.attributes){const g=t.getAttribute(m),v=n.getAttribute(m);L5(g,v,c);const _=g.itemSize;for(let S=g.count,M=h;S<M;S++){const b=c+S;for(let A=0;A<_;A++)v.setComponent(b,A,0)}v.needsUpdate=!0,v.addUpdateRange(c*_,h*_)}if(r){const m=l.indexStart,g=l.reservedIndexCount;l.indexCount=t.getIndex().count;for(let v=0;v<a.count;v++)s.setX(m+v,c+a.getX(v));for(let v=a.count,_=g;v<_;v++)s.setX(m+v,c);s.needsUpdate=!0,s.addUpdateRange(m,l.reservedIndexCount)}return l.start=r?l.indexStart:l.vertexStart,l.count=r?l.indexCount:l.vertexCount,l.boundingBox=null,t.boundingBox!==null&&(l.boundingBox=t.boundingBox.clone()),l.boundingSphere=null,t.boundingSphere!==null&&(l.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let r=0,s=n.length;r<s;r++)n[r].active&&n[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,r=n.map((a,l)=>l).sort((a,l)=>n[a].vertexStart-n[l].vertexStart),s=this.geometry;for(let a=0,l=n.length;a<l;a++){const c=r[a],h=n[c];if(h.active!==!1){if(s.index!==null){if(h.indexStart!==t){const{indexStart:m,vertexStart:g,reservedIndexCount:v}=h,_=s.index,S=_.array,M=e-g;for(let b=m;b<m+v;b++)S[b]=S[b]+M;_.array.copyWithin(t,m,m+v),_.addUpdateRange(t,v),h.indexStart=t}t+=h.reservedIndexCount}if(h.vertexStart!==e){const{vertexStart:m,reservedVertexCount:g}=h,v=s.attributes;for(const _ in v){const S=v[_],{array:M,itemSize:b}=S;M.copyWithin(e*b,m*b,(m+g)*b),S.addUpdateRange(e*b,g*b)}h.vertexStart=e}e+=h.reservedVertexCount,h.start=s.index?h.indexStart:h.vertexStart,this._nextIndexStart=s.index?h.indexStart+h.reservedIndexCount:0,this._nextVertexStart=h.vertexStart+h.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new Ss,a=n.index,l=n.attributes.position;for(let c=r.start,h=r.start+r.count;c<h;c++){let m=c;a&&(m=a.getX(m)),s.expandByPoint(xv.fromBufferAttribute(l,m))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new as;this.getBoundingBoxAt(e,Mx),Mx.getCenter(s.center);const a=n.index,l=n.attributes.position;let c=0;for(let h=r.start,m=r.start+r.count;h<m;h++){let g=h;a&&(g=a.getX(g)),xv.fromBufferAttribute(l,g),c=Math.max(c,s.center.distanceToSquared(xv))}s.radius=Math.sqrt(c),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(sE);t[t.length-1]===n.length;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);fd(this._multiDrawCounts,r),fd(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,l=this._matricesTexture,c=this._colorsTexture;a.dispose(),this._initIndirectTexture(),fd(a.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),fd(l.image.data,this._matricesTexture.image.data),c&&(c.dispose(),this._initColorsTexture(),fd(c.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...n.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(c=>c.indexStart+c.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new xn,this._initializeGeometry(s));const a=this.geometry;s.index&&fd(s.index.array,a.index.array);for(const l in s.attributes)fd(s.attributes[l].array,a.attributes[l].array)}raycast(e,t){const n=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,a=this.geometry;Ps.material=this.material,Ps.geometry.index=a.index,Ps.geometry.attributes=a.attributes,Ps.geometry.boundingBox===null&&(Ps.geometry.boundingBox=new Ss),Ps.geometry.boundingSphere===null&&(Ps.geometry.boundingSphere=new as);for(let l=0,c=n.length;l<c;l++){if(!n[l].visible||!n[l].active)continue;const h=n[l].geometryIndex,m=r[h];Ps.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(l,Ps.matrixWorld).premultiply(s),this.getBoundingBoxAt(h,Ps.geometry.boundingBox),this.getBoundingSphereAt(h,Ps.geometry.boundingSphere),Ps.raycast(e,Ex);for(let g=0,v=Ex.length;g<v;g++){const _=Ex[g];_.object=this,_.batchId=l,t.push(_)}Ex.length=0}Ps.material=null,Ps.geometry.index=null,Ps.geometry.attributes={},Ps.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),l=a===null?1:a.array.BYTES_PER_ELEMENT,c=this._instanceInfo,h=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,v=this.perObjectFrustumCulled,_=this._indirectTexture,S=_.image.data,M=n.isArrayCamera?O5:iD;v&&!n.isArrayCamera&&(Ua.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),iD.setFromProjectionMatrix(Ua,e.coordinateSystem));let b=0;if(this.sortObjects){Ua.copy(this.matrixWorld).invert(),xv.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Ua),rD.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Ua);for(let w=0,B=c.length;w<B;w++)if(c[w].visible&&c[w].active){const L=c[w].geometryIndex;this.getMatrixAt(w,Ua),this.getBoundingSphereAt(L,cd).applyMatrix4(Ua);let N=!1;if(v&&(N=!M.intersectsSphere(cd,n)),!N){const I=g[L],P=U5.subVectors(cd.center,xv).dot(rD);aE.push(I.start,I.count,P,w)}}const A=aE.list,C=this.customSort;C===null?A.sort(s.transparent?R5:w5):C.call(this,A,n);for(let w=0,B=A.length;w<B;w++){const L=A[w];h[b]=L.start*l,m[b]=L.count,S[b]=L.index,b++}aE.reset()}else for(let A=0,C=c.length;A<C;A++)if(c[A].visible&&c[A].active){const w=c[A].geometryIndex;let B=!1;if(v&&(this.getMatrixAt(A,Ua),this.getBoundingSphereAt(w,cd).applyMatrix4(Ua),B=!M.intersectsSphere(cd,n)),!B){const L=g[w];h[b]=L.start*l,m[b]=L.count,S[b]=A,b++}}_.needsUpdate=!0,this._multiDrawCount=b,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,s,a){this.onBeforeRender(e,null,r,s,a)}}class js extends Er{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new wt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const xA=new te,SA=new te,sD=new an,Sv=new yp,Tx=new as,oE=new te,aD=new te;class Bc extends Qn{constructor(e=new xn,t=new js){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,s=t.count;r<s;r++)xA.fromBufferAttribute(t,r-1),SA.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=xA.distanceTo(SA);e.setAttribute("lineDistance",new jt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Tx.copy(n.boundingSphere),Tx.applyMatrix4(r),Tx.radius+=s,e.ray.intersectsSphere(Tx)===!1)return;sD.copy(r).invert(),Sv.copy(e.ray).applyMatrix4(sD);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,h=this.isLineSegments?2:1,m=n.index,v=n.attributes.position;if(m!==null){const _=Math.max(0,a.start),S=Math.min(m.count,a.start+a.count);for(let M=_,b=S-1;M<b;M+=h){const A=m.getX(M),C=m.getX(M+1),w=Cx(this,e,Sv,c,A,C,M);w&&t.push(w)}if(this.isLineLoop){const M=m.getX(S-1),b=m.getX(_),A=Cx(this,e,Sv,c,M,b,S-1);A&&t.push(A)}}else{const _=Math.max(0,a.start),S=Math.min(v.count,a.start+a.count);for(let M=_,b=S-1;M<b;M+=h){const A=Cx(this,e,Sv,c,M,M+1,M);A&&t.push(A)}if(this.isLineLoop){const M=Cx(this,e,Sv,c,S-1,_,S-1);M&&t.push(M)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function Cx(i,e,t,n,r,s,a){const l=i.geometry.attributes.position;if(xA.fromBufferAttribute(l,r),SA.fromBufferAttribute(l,s),t.distanceSqToSegment(xA,SA,oE,aD)>n)return;oE.applyMatrix4(i.matrixWorld);const h=e.ray.origin.distanceTo(oE);if(!(h<e.near||h>e.far))return{distance:h,point:aD.clone().applyMatrix4(i.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:i}}const oD=new te,lD=new te;class Xl extends Bc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,s=t.count;r<s;r+=2)oD.fromBufferAttribute(t,r),lD.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+oD.distanceTo(lD);e.setAttribute("lineDistance",new jt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class d2 extends Bc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class db extends Er{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new wt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const uD=new an,UT=new yp,wx=new as,Rx=new te;class p2 extends Qn{constructor(e=new xn,t=new db){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),wx.copy(n.boundingSphere),wx.applyMatrix4(r),wx.radius+=s,e.ray.intersectsSphere(wx)===!1)return;uD.copy(r).invert(),UT.copy(e.ray).applyMatrix4(uD);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,h=n.index,g=n.attributes.position;if(h!==null){const v=Math.max(0,a.start),_=Math.min(h.count,a.start+a.count);for(let S=v,M=_;S<M;S++){const b=h.getX(S);Rx.fromBufferAttribute(g,b),cD(Rx,b,c,r,e,t,this)}}else{const v=Math.max(0,a.start),_=Math.min(g.count,a.start+a.count);for(let S=v,M=_;S<M;S++)Rx.fromBufferAttribute(g,S),cD(Rx,S,c,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function cD(i,e,t,n,r,s,a){const l=UT.distanceSqToPoint(i);if(l<t){const c=new te;UT.closestPointToPoint(i,c),c.applyMatrix4(n);const h=r.ray.origin.distanceTo(c);if(h<r.near||h>r.far)return;s.push({distance:h,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class QL extends hi{constructor(e,t,n,r,s=Jn,a=Jn,l,c,h){super(e,t,n,r,s,a,l,c,h),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function g(){m.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class N5 extends QL{constructor(e,t,n,r,s,a,l,c){super({},e,t,n,r,s,a,l,c),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class P5 extends hi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=fr,this.minFilter=fr,this.generateMipmaps=!1,this.needsUpdate=!0}}class pb extends hi{constructor(e,t,n,r,s,a,l,c,h,m,g,v){super(null,a,l,c,h,m,r,s,g,v),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class I5 extends pb{constructor(e,t,n,r,s,a){super(e,t,n,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Ar,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class F5 extends pb{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Hu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class z5 extends hi{constructor(e,t,n,r,s,a,l,c,h){super(e,t,n,r,s,a,l,c,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class mb extends hi{constructor(e,t,n=Vl,r,s,a,l=fr,c=fr,h,m=Ag,g=1){if(m!==Ag&&m!==sp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const v={width:e,height:t,depth:g};super(v,r,s,a,l,c,m,n,h),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Vf(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class gb extends xn{constructor(e=1,t=1,n=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r,heightSegments:s},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const a=[],l=[],c=[],h=[],m=t/2,g=Math.PI/2*e,v=t,_=2*g+v,S=n*2+s,M=r+1,b=new te,A=new te;for(let C=0;C<=S;C++){let w=0,B=0,L=0,N=0;if(C<=n){const U=C/n,O=U*Math.PI/2;B=-m-e*Math.cos(O),L=e*Math.sin(O),N=-e*Math.cos(O),w=U*g}else if(C<=n+s){const U=(C-n)/s;B=-m+U*t,L=e,N=0,w=g+U*v}else{const U=(C-n-s)/n,O=U*Math.PI/2;B=m+e*Math.sin(O),L=e*Math.cos(O),N=e*Math.sin(O),w=g+v+U*g}const I=Math.max(0,Math.min(1,w/_));let P=0;C===0?P=.5/r:C===S&&(P=-.5/r);for(let U=0;U<=r;U++){const O=U/r,H=O*Math.PI*2,V=Math.sin(H),W=Math.cos(H);A.x=-L*W,A.y=B,A.z=L*V,l.push(A.x,A.y,A.z),b.set(-L*W,N,L*V),b.normalize(),c.push(b.x,b.y,b.z),h.push(O+P,I)}if(C>0){const U=(C-1)*M;for(let O=0;O<r;O++){const H=U+O,V=U+O+1,W=C*M+O,K=C*M+O+1;a.push(H,V,W),a.push(V,K,W)}}}this.setIndex(a),this.setAttribute("position",new jt(l,3)),this.setAttribute("normal",new jt(c,3)),this.setAttribute("uv",new jt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gb(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class vb extends xn{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const s=[],a=[],l=[],c=[],h=new te,m=new Ye;a.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(let g=0,v=3;g<=t;g++,v+=3){const _=n+g/t*r;h.x=e*Math.cos(_),h.y=e*Math.sin(_),a.push(h.x,h.y,h.z),l.push(0,0,1),m.x=(a[v]/e+1)/2,m.y=(a[v+1]/e+1)/2,c.push(m.x,m.y)}for(let g=1;g<=t;g++)s.push(g,g+1,0);this.setIndex(s),this.setAttribute("position",new jt(a,3)),this.setAttribute("normal",new jt(l,3)),this.setAttribute("uv",new jt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vb(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class e_ extends xn{constructor(e=1,t=1,n=1,r=32,s=1,a=!1,l=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:l,thetaLength:c};const h=this;r=Math.floor(r),s=Math.floor(s);const m=[],g=[],v=[],_=[];let S=0;const M=[],b=n/2;let A=0;C(),a===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(m),this.setAttribute("position",new jt(g,3)),this.setAttribute("normal",new jt(v,3)),this.setAttribute("uv",new jt(_,2));function C(){const B=new te,L=new te;let N=0;const I=(t-e)/n;for(let P=0;P<=s;P++){const U=[],O=P/s,H=O*(t-e)+e;for(let V=0;V<=r;V++){const W=V/r,K=W*c+l,ae=Math.sin(K),G=Math.cos(K);L.x=H*ae,L.y=-O*n+b,L.z=H*G,g.push(L.x,L.y,L.z),B.set(ae,I,G).normalize(),v.push(B.x,B.y,B.z),_.push(W,1-O),U.push(S++)}M.push(U)}for(let P=0;P<r;P++)for(let U=0;U<s;U++){const O=M[U][P],H=M[U+1][P],V=M[U+1][P+1],W=M[U][P+1];(e>0||U!==0)&&(m.push(O,H,W),N+=3),(t>0||U!==s-1)&&(m.push(H,V,W),N+=3)}h.addGroup(A,N,0),A+=N}function w(B){const L=S,N=new Ye,I=new te;let P=0;const U=B===!0?e:t,O=B===!0?1:-1;for(let V=1;V<=r;V++)g.push(0,b*O,0),v.push(0,O,0),_.push(.5,.5),S++;const H=S;for(let V=0;V<=r;V++){const K=V/r*c+l,ae=Math.cos(K),G=Math.sin(K);I.x=U*G,I.y=b*O,I.z=U*ae,g.push(I.x,I.y,I.z),v.push(0,O,0),N.x=ae*.5+.5,N.y=G*.5*O+.5,_.push(N.x,N.y),S++}for(let V=0;V<r;V++){const W=L+V,K=H+V;B===!0?m.push(K,K+1,W):m.push(K+1,K,W),P+=3}h.addGroup(A,P,B===!0?1:2),A+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new e_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class t_ extends e_{constructor(e=1,t=1,n=32,r=1,s=!1,a=0,l=Math.PI*2){super(0,e,t,n,r,s,a,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:l}}static fromJSON(e){return new t_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ch extends xn{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const s=[],a=[];l(r),h(n),m(),this.setAttribute("position",new jt(s,3)),this.setAttribute("normal",new jt(s.slice(),3)),this.setAttribute("uv",new jt(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(C){const w=new te,B=new te,L=new te;for(let N=0;N<t.length;N+=3)_(t[N+0],w),_(t[N+1],B),_(t[N+2],L),c(w,B,L,C)}function c(C,w,B,L){const N=L+1,I=[];for(let P=0;P<=N;P++){I[P]=[];const U=C.clone().lerp(B,P/N),O=w.clone().lerp(B,P/N),H=N-P;for(let V=0;V<=H;V++)V===0&&P===N?I[P][V]=U:I[P][V]=U.clone().lerp(O,V/H)}for(let P=0;P<N;P++)for(let U=0;U<2*(N-P)-1;U++){const O=Math.floor(U/2);U%2===0?(v(I[P][O+1]),v(I[P+1][O]),v(I[P][O])):(v(I[P][O+1]),v(I[P+1][O+1]),v(I[P+1][O]))}}function h(C){const w=new te;for(let B=0;B<s.length;B+=3)w.x=s[B+0],w.y=s[B+1],w.z=s[B+2],w.normalize().multiplyScalar(C),s[B+0]=w.x,s[B+1]=w.y,s[B+2]=w.z}function m(){const C=new te;for(let w=0;w<s.length;w+=3){C.x=s[w+0],C.y=s[w+1],C.z=s[w+2];const B=b(C)/2/Math.PI+.5,L=A(C)/Math.PI+.5;a.push(B,1-L)}S(),g()}function g(){for(let C=0;C<a.length;C+=6){const w=a[C+0],B=a[C+2],L=a[C+4],N=Math.max(w,B,L),I=Math.min(w,B,L);N>.9&&I<.1&&(w<.2&&(a[C+0]+=1),B<.2&&(a[C+2]+=1),L<.2&&(a[C+4]+=1))}}function v(C){s.push(C.x,C.y,C.z)}function _(C,w){const B=C*3;w.x=e[B+0],w.y=e[B+1],w.z=e[B+2]}function S(){const C=new te,w=new te,B=new te,L=new te,N=new Ye,I=new Ye,P=new Ye;for(let U=0,O=0;U<s.length;U+=9,O+=6){C.set(s[U+0],s[U+1],s[U+2]),w.set(s[U+3],s[U+4],s[U+5]),B.set(s[U+6],s[U+7],s[U+8]),N.set(a[O+0],a[O+1]),I.set(a[O+2],a[O+3]),P.set(a[O+4],a[O+5]),L.copy(C).add(w).add(B).divideScalar(3);const H=b(L);M(N,O+0,C,H),M(I,O+2,w,H),M(P,O+4,B,H)}}function M(C,w,B,L){L<0&&C.x===1&&(a[w]=C.x-1),B.x===0&&B.z===0&&(a[w]=L/2/Math.PI+.5)}function b(C){return Math.atan2(C.z,-C.x)}function A(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ch(e.vertices,e.indices,e.radius,e.details)}}class yb extends ch{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new yb(e.radius,e.detail)}}const Bx=new te,Dx=new te,lE=new te,Ox=new Pa;class $L extends xn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Yd*t),a=e.getIndex(),l=e.getAttribute("position"),c=a?a.count:l.count,h=[0,0,0],m=["a","b","c"],g=new Array(3),v={},_=[];for(let S=0;S<c;S+=3){a?(h[0]=a.getX(S),h[1]=a.getX(S+1),h[2]=a.getX(S+2)):(h[0]=S,h[1]=S+1,h[2]=S+2);const{a:M,b,c:A}=Ox;if(M.fromBufferAttribute(l,h[0]),b.fromBufferAttribute(l,h[1]),A.fromBufferAttribute(l,h[2]),Ox.getNormal(lE),g[0]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,g[1]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,g[2]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let C=0;C<3;C++){const w=(C+1)%3,B=g[C],L=g[w],N=Ox[m[C]],I=Ox[m[w]],P=`${B}_${L}`,U=`${L}_${B}`;U in v&&v[U]?(lE.dot(v[U].normal)<=s&&(_.push(N.x,N.y,N.z),_.push(I.x,I.y,I.z)),v[U]=null):P in v||(v[P]={index0:h[C],index1:h[w],normal:lE.clone()})}}for(const S in v)if(v[S]){const{index0:M,index1:b}=v[S];Bx.fromBufferAttribute(l,M),Dx.fromBufferAttribute(l,b),_.push(Bx.x,Bx.y,Bx.z),_.push(Dx.x,Dx.y,Dx.z)}this.setAttribute("position",new jt(_,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Yl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),s+=n.distanceTo(r),t.push(s),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let r=0;const s=n.length;let a;t?a=t:a=e*n[s-1];let l=0,c=s-1,h;for(;l<=c;)if(r=Math.floor(l+(c-l)/2),h=n[r]-a,h<0)l=r+1;else if(h>0)c=r-1;else{c=r;break}if(r=c,n[r]===a)return r/(s-1);const m=n[r],v=n[r+1]-m,_=(a-m)/v;return(r+_)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),l=this.getPoint(s),c=t||(a.isVector2?new Ye:new te);return c.copy(l).sub(a).normalize(),c}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new te,r=[],s=[],a=[],l=new te,c=new an;for(let _=0;_<=e;_++){const S=_/e;r[_]=this.getTangentAt(S,new te)}s[0]=new te,a[0]=new te;let h=Number.MAX_VALUE;const m=Math.abs(r[0].x),g=Math.abs(r[0].y),v=Math.abs(r[0].z);m<=h&&(h=m,n.set(1,0,0)),g<=h&&(h=g,n.set(0,1,0)),v<=h&&n.set(0,0,1),l.crossVectors(r[0],n).normalize(),s[0].crossVectors(r[0],l),a[0].crossVectors(r[0],s[0]);for(let _=1;_<=e;_++){if(s[_]=s[_-1].clone(),a[_]=a[_-1].clone(),l.crossVectors(r[_-1],r[_]),l.length()>Number.EPSILON){l.normalize();const S=Math.acos(bn(r[_-1].dot(r[_]),-1,1));s[_].applyMatrix4(c.makeRotationAxis(l,S))}a[_].crossVectors(r[_],s[_])}if(t===!0){let _=Math.acos(bn(s[0].dot(s[e]),-1,1));_/=e,r[0].dot(l.crossVectors(s[0],s[e]))>0&&(_=-_);for(let S=1;S<=e;S++)s[S].applyMatrix4(c.makeRotationAxis(r[S],_*S)),a[S].crossVectors(r[S],s[S])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class _b extends Yl{constructor(e=0,t=0,n=1,r=1,s=0,a=Math.PI*2,l=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=l,this.aRotation=c}getPoint(e,t=new Ye){const n=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const l=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(l),h=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=c-this.aX,_=h-this.aY;c=v*m-_*g+this.aX,h=v*g+_*m+this.aY}return n.set(c,h)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class eN extends _b{constructor(e,t,n,r,s,a){super(e,t,n,n,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function m2(){let i=0,e=0,t=0,n=0;function r(s,a,l,c){i=s,e=l,t=-3*s+3*a-2*l-c,n=2*s-2*a+l+c}return{initCatmullRom:function(s,a,l,c,h){r(a,l,h*(l-s),h*(c-a))},initNonuniformCatmullRom:function(s,a,l,c,h,m,g){let v=(a-s)/h-(l-s)/(h+m)+(l-a)/m,_=(l-a)/m-(c-a)/(m+g)+(c-l)/g;v*=m,_*=m,r(a,l,v,_)},calc:function(s){const a=s*s,l=a*s;return i+e*s+t*a+n*l}}}const Ux=new te,uE=new m2,cE=new m2,fE=new m2;class tN extends Yl{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new te){const n=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let l=Math.floor(a),c=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:c===0&&l===s-1&&(l=s-2,c=1);let h,m;this.closed||l>0?h=r[(l-1)%s]:(Ux.subVectors(r[0],r[1]).add(r[0]),h=Ux);const g=r[l%s],v=r[(l+1)%s];if(this.closed||l+2<s?m=r[(l+2)%s]:(Ux.subVectors(r[s-1],r[s-2]).add(r[s-1]),m=Ux),this.curveType==="centripetal"||this.curveType==="chordal"){const _=this.curveType==="chordal"?.5:.25;let S=Math.pow(h.distanceToSquared(g),_),M=Math.pow(g.distanceToSquared(v),_),b=Math.pow(v.distanceToSquared(m),_);M<1e-4&&(M=1),S<1e-4&&(S=M),b<1e-4&&(b=M),uE.initNonuniformCatmullRom(h.x,g.x,v.x,m.x,S,M,b),cE.initNonuniformCatmullRom(h.y,g.y,v.y,m.y,S,M,b),fE.initNonuniformCatmullRom(h.z,g.z,v.z,m.z,S,M,b)}else this.curveType==="catmullrom"&&(uE.initCatmullRom(h.x,g.x,v.x,m.x,this.tension),cE.initCatmullRom(h.y,g.y,v.y,m.y,this.tension),fE.initCatmullRom(h.z,g.z,v.z,m.z,this.tension));return n.set(uE.calc(c),cE.calc(c),fE.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new te().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function fD(i,e,t,n,r){const s=(n-e)*.5,a=(r-t)*.5,l=i*i,c=i*l;return(2*t-2*n+s+a)*c+(-3*t+3*n-2*s-a)*l+s*i+t}function H5(i,e){const t=1-i;return t*t*e}function G5(i,e){return 2*(1-i)*i*e}function V5(i,e){return i*i*e}function Kv(i,e,t,n){return H5(i,e)+G5(i,t)+V5(i,n)}function k5(i,e){const t=1-i;return t*t*t*e}function X5(i,e){const t=1-i;return 3*t*t*i*e}function Y5(i,e){return 3*(1-i)*i*i*e}function j5(i,e){return i*i*i*e}function Jv(i,e,t,n,r){return k5(i,e)+X5(i,t)+Y5(i,n)+j5(i,r)}class g2 extends Yl{constructor(e=new Ye,t=new Ye,n=new Ye,r=new Ye){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Ye){const n=t,r=this.v0,s=this.v1,a=this.v2,l=this.v3;return n.set(Jv(e,r.x,s.x,a.x,l.x),Jv(e,r.y,s.y,a.y,l.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class nN extends Yl{constructor(e=new te,t=new te,n=new te,r=new te){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new te){const n=t,r=this.v0,s=this.v1,a=this.v2,l=this.v3;return n.set(Jv(e,r.x,s.x,a.x,l.x),Jv(e,r.y,s.y,a.y,l.y),Jv(e,r.z,s.z,a.z,l.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class v2 extends Yl{constructor(e=new Ye,t=new Ye){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ye){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ye){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iN extends Yl{constructor(e=new te,t=new te){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new te){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new te){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class y2 extends Yl{constructor(e=new Ye,t=new Ye,n=new Ye){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ye){const n=t,r=this.v0,s=this.v1,a=this.v2;return n.set(Kv(e,r.x,s.x,a.x),Kv(e,r.y,s.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _2 extends Yl{constructor(e=new te,t=new te,n=new te){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new te){const n=t,r=this.v0,s=this.v1,a=this.v2;return n.set(Kv(e,r.x,s.x,a.x),Kv(e,r.y,s.y,a.y),Kv(e,r.z,s.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class x2 extends Yl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ye){const n=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),l=s-a,c=r[a===0?a:a-1],h=r[a],m=r[a>r.length-2?r.length-1:a+1],g=r[a>r.length-3?r.length-1:a+2];return n.set(fD(l,c.x,h.x,m.x,g.x),fD(l,c.y,h.y,m.y,g.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new Ye().fromArray(r))}return this}}var AA=Object.freeze({__proto__:null,ArcCurve:eN,CatmullRomCurve3:tN,CubicBezierCurve:g2,CubicBezierCurve3:nN,EllipseCurve:_b,LineCurve:v2,LineCurve3:iN,QuadraticBezierCurve:y2,QuadraticBezierCurve3:_2,SplineCurve:x2});class rN extends Yl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new AA[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=n){const a=r[s]-n,l=this.curves[s],c=l.getLength(),h=c===0?0:1-a/c;return l.getPointAt(h,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],l=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,c=a.getPoints(l);for(let h=0;h<c.length;h++){const m=c[h];n&&n.equals(m)||(t.push(m),n=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new AA[r.type]().fromJSON(r))}return this}}class bA extends rN{constructor(e){super(),this.type="Path",this.currentPoint=new Ye,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new v2(this.currentPoint.clone(),new Ye(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const s=new y2(this.currentPoint.clone(),new Ye(e,t),new Ye(n,r));return this.curves.push(s),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,s,a){const l=new g2(this.currentPoint.clone(),new Ye(e,t),new Ye(n,r),new Ye(s,a));return this.curves.push(l),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new x2(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,s,a){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,t+c,n,r,s,a),this}absarc(e,t,n,r,s,a){return this.absellipse(e,t,n,n,r,s,a),this}ellipse(e,t,n,r,s,a,l,c){const h=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+h,t+m,n,r,s,a,l,c),this}absellipse(e,t,n,r,s,a,l,c){const h=new _b(e,t,n,r,s,a,l,c);if(this.curves.length>0){const g=h.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(h);const m=h.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class jd extends bA{constructor(e){super(e),this.uuid=ho(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new bA().fromJSON(r))}return this}}function q5(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let s=sN(i,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let l,c,h;if(n&&(s=Q5(i,e,s,t)),i.length>80*t){l=1/0,c=1/0;let m=-1/0,g=-1/0;for(let v=t;v<r;v+=t){const _=i[v],S=i[v+1];_<l&&(l=_),S<c&&(c=S),_>m&&(m=_),S>g&&(g=S)}h=Math.max(m-l,g-c),h=h!==0?32767/h:0}return by(s,a,t,l,c,h,0),a}function sN(i,e,t,n,r){let s;if(r===u8(i,e,t,n)>0)for(let a=e;a<t;a+=n)s=hD(a/n|0,i[a],i[a+1],s);else for(let a=t-n;a>=e;a-=n)s=hD(a/n|0,i[a],i[a+1],s);return s&&wg(s,s.next)&&(Ey(s),s=s.next),s}function lp(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(wg(t,t.next)||tr(t.prev,t,t.next)===0)){if(Ey(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function by(i,e,t,n,r,s,a){if(!i)return;!a&&s&&i8(i,n,r,s);let l=i;for(;i.prev!==i.next;){const c=i.prev,h=i.next;if(s?K5(i,n,r,s):W5(i)){e.push(c.i,i.i,h.i),Ey(i),i=h.next,l=h.next;continue}if(i=h,i===l){a?a===1?(i=J5(lp(i),e),by(i,e,t,n,r,s,2)):a===2&&Z5(i,e,t,n,r,s):by(lp(i),e,t,n,r,s,1);break}}}function W5(i){const e=i.prev,t=i,n=i.next;if(tr(e,t,n)>=0)return!1;const r=e.x,s=t.x,a=n.x,l=e.y,c=t.y,h=n.y,m=Math.min(r,s,a),g=Math.min(l,c,h),v=Math.max(r,s,a),_=Math.max(l,c,h);let S=n.next;for(;S!==e;){if(S.x>=m&&S.x<=v&&S.y>=g&&S.y<=_&&Ov(r,l,s,c,a,h,S.x,S.y)&&tr(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function K5(i,e,t,n){const r=i.prev,s=i,a=i.next;if(tr(r,s,a)>=0)return!1;const l=r.x,c=s.x,h=a.x,m=r.y,g=s.y,v=a.y,_=Math.min(l,c,h),S=Math.min(m,g,v),M=Math.max(l,c,h),b=Math.max(m,g,v),A=LT(_,S,e,t,n),C=LT(M,b,e,t,n);let w=i.prevZ,B=i.nextZ;for(;w&&w.z>=A&&B&&B.z<=C;){if(w.x>=_&&w.x<=M&&w.y>=S&&w.y<=b&&w!==r&&w!==a&&Ov(l,m,c,g,h,v,w.x,w.y)&&tr(w.prev,w,w.next)>=0||(w=w.prevZ,B.x>=_&&B.x<=M&&B.y>=S&&B.y<=b&&B!==r&&B!==a&&Ov(l,m,c,g,h,v,B.x,B.y)&&tr(B.prev,B,B.next)>=0))return!1;B=B.nextZ}for(;w&&w.z>=A;){if(w.x>=_&&w.x<=M&&w.y>=S&&w.y<=b&&w!==r&&w!==a&&Ov(l,m,c,g,h,v,w.x,w.y)&&tr(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;B&&B.z<=C;){if(B.x>=_&&B.x<=M&&B.y>=S&&B.y<=b&&B!==r&&B!==a&&Ov(l,m,c,g,h,v,B.x,B.y)&&tr(B.prev,B,B.next)>=0)return!1;B=B.nextZ}return!0}function J5(i,e){let t=i;do{const n=t.prev,r=t.next.next;!wg(n,r)&&oN(n,t,t.next,r)&&My(n,r)&&My(r,n)&&(e.push(n.i,t.i,r.i),Ey(t),Ey(t.next),t=i=r),t=t.next}while(t!==i);return lp(t)}function Z5(i,e,t,n,r,s){let a=i;do{let l=a.next.next;for(;l!==a.prev;){if(a.i!==l.i&&a8(a,l)){let c=lN(a,l);a=lp(a,a.next),c=lp(c,c.next),by(a,e,t,n,r,s,0),by(c,e,t,n,r,s,0);return}l=l.next}a=a.next}while(a!==i)}function Q5(i,e,t,n){const r=[];for(let s=0,a=e.length;s<a;s++){const l=e[s]*n,c=s<a-1?e[s+1]*n:i.length,h=sN(i,l,c,n,!1);h===h.next&&(h.steiner=!0),r.push(s8(h))}r.sort($5);for(let s=0;s<r.length;s++)t=e8(r[s],t);return t}function $5(i,e){let t=i.x-e.x;if(t===0&&(t=i.y-e.y,t===0)){const n=(i.next.y-i.y)/(i.next.x-i.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=n-r}return t}function e8(i,e){const t=t8(i,e);if(!t)return e;const n=lN(t,i);return lp(n,n.next),lp(t,t.next)}function t8(i,e){let t=e;const n=i.x,r=i.y;let s=-1/0,a;if(wg(i,t))return t;do{if(wg(i,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const g=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=n&&g>s&&(s=g,a=t.x<t.next.x?t:t.next,g===n))return a}t=t.next}while(t!==e);if(!a)return null;const l=a,c=a.x,h=a.y;let m=1/0;t=a;do{if(n>=t.x&&t.x>=c&&n!==t.x&&aN(r<h?n:s,r,c,h,r<h?s:n,r,t.x,t.y)){const g=Math.abs(r-t.y)/(n-t.x);My(t,i)&&(g<m||g===m&&(t.x>a.x||t.x===a.x&&n8(a,t)))&&(a=t,m=g)}t=t.next}while(t!==l);return a}function n8(i,e){return tr(i.prev,i,e.prev)<0&&tr(e.next,i,i.next)<0}function i8(i,e,t,n){let r=i;do r.z===0&&(r.z=LT(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,r8(r)}function r8(i){let e,t=1;do{let n=i,r;i=null;let s=null;for(e=0;n;){e++;let a=n,l=0;for(let h=0;h<t&&(l++,a=a.nextZ,!!a);h++);let c=t;for(;l>0||c>0&&a;)l!==0&&(c===0||!a||n.z<=a.z)?(r=n,n=n.nextZ,l--):(r=a,a=a.nextZ,c--),s?s.nextZ=r:i=r,r.prevZ=s,s=r;n=a}s.nextZ=null,t*=2}while(e>1);return i}function LT(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function s8(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function aN(i,e,t,n,r,s,a,l){return(r-a)*(e-l)>=(i-a)*(s-l)&&(i-a)*(n-l)>=(t-a)*(e-l)&&(t-a)*(s-l)>=(r-a)*(n-l)}function Ov(i,e,t,n,r,s,a,l){return!(i===a&&e===l)&&aN(i,e,t,n,r,s,a,l)}function a8(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!o8(i,e)&&(My(i,e)&&My(e,i)&&l8(i,e)&&(tr(i.prev,i,e.prev)||tr(i,e.prev,e))||wg(i,e)&&tr(i.prev,i,i.next)>0&&tr(e.prev,e,e.next)>0)}function tr(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function wg(i,e){return i.x===e.x&&i.y===e.y}function oN(i,e,t,n){const r=Nx(tr(i,e,t)),s=Nx(tr(i,e,n)),a=Nx(tr(t,n,i)),l=Nx(tr(t,n,e));return!!(r!==s&&a!==l||r===0&&Lx(i,t,e)||s===0&&Lx(i,n,e)||a===0&&Lx(t,i,n)||l===0&&Lx(t,e,n))}function Lx(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function Nx(i){return i>0?1:i<0?-1:0}function o8(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&oN(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function My(i,e){return tr(i.prev,i,i.next)<0?tr(i,e,i.next)>=0&&tr(i,i.prev,e)>=0:tr(i,e,i.prev)<0||tr(i,i.next,e)<0}function l8(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,s=(i.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function lN(i,e){const t=NT(i.i,i.x,i.y),n=NT(e.i,e.x,e.y),r=i.next,s=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function hD(i,e,t,n){const r=NT(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function Ey(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function NT(i,e,t){return{i,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function u8(i,e,t,n){let r=0;for(let s=e,a=t-n;s<t;s+=n)r+=(i[a]-i[s])*(i[s+1]+i[a+1]),a=s;return r}class c8{static triangulate(e,t,n=2){return q5(e,t,n)}}class Il{static area(e){const t=e.length;let n=0;for(let r=t-1,s=0;s<t;r=s++)n+=e[r].x*e[s].y-e[s].x*e[r].y;return n*.5}static isClockWise(e){return Il.area(e)<0}static triangulateShape(e,t){const n=[],r=[],s=[];dD(e),pD(n,e);let a=e.length;t.forEach(dD);for(let c=0;c<t.length;c++)r.push(a),a+=t[c].length,pD(n,t[c]);const l=c8.triangulate(n,r);for(let c=0;c<l.length;c+=3)s.push(l.slice(c,c+3));return s}}function dD(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function pD(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class xb extends xn{constructor(e=new jd([new Ye(.5,.5),new Ye(-.5,.5),new Ye(-.5,-.5),new Ye(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],s=[];for(let l=0,c=e.length;l<c;l++){const h=e[l];a(h)}this.setAttribute("position",new jt(r,3)),this.setAttribute("uv",new jt(s,2)),this.computeVertexNormals();function a(l){const c=[],h=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,_=t.bevelThickness!==void 0?t.bevelThickness:.2,S=t.bevelSize!==void 0?t.bevelSize:_-.1,M=t.bevelOffset!==void 0?t.bevelOffset:0,b=t.bevelSegments!==void 0?t.bevelSegments:3;const A=t.extrudePath,C=t.UVGenerator!==void 0?t.UVGenerator:f8;let w,B=!1,L,N,I,P;A&&(w=A.getSpacedPoints(m),B=!0,v=!1,L=A.computeFrenetFrames(m,!1),N=new te,I=new te,P=new te),v||(b=0,_=0,S=0,M=0);const U=l.extractPoints(h);let O=U.shape;const H=U.holes;if(!Il.isClockWise(O)){O=O.reverse();for(let Z=0,et=H.length;Z<et;Z++){const Ke=H[Z];Il.isClockWise(Ke)&&(H[Z]=Ke.reverse())}}function W(Z){const Ke=10000000000000001e-36;let ce=Z[0];for(let je=1;je<=Z.length;je++){const Mt=je%Z.length,rt=Z[Mt],ht=rt.x-ce.x,qt=rt.y-ce.y,ne=ht*ht+qt*qt,j=Math.max(Math.abs(rt.x),Math.abs(rt.y),Math.abs(ce.x),Math.abs(ce.y)),xe=Ke*j*j;if(ne<=xe){Z.splice(Mt,1),je--;continue}ce=rt}}W(O),H.forEach(W);const K=H.length,ae=O;for(let Z=0;Z<K;Z++){const et=H[Z];O=O.concat(et)}function G(Z,et,Ke){return et||console.error("THREE.ExtrudeGeometry: vec does not exist"),Z.clone().addScaledVector(et,Ke)}const q=O.length;function $(Z,et,Ke){let ce,je,Mt;const rt=Z.x-et.x,ht=Z.y-et.y,qt=Ke.x-Z.x,ne=Ke.y-Z.y,j=rt*rt+ht*ht,xe=rt*ne-ht*qt;if(Math.abs(xe)>Number.EPSILON){const Ge=Math.sqrt(j),ze=Math.sqrt(qt*qt+ne*ne),Pe=et.x-ht/Ge,mt=et.y+rt/Ge,vt=Ke.x-ne/ze,Rt=Ke.y+qt/ze,St=((vt-Pe)*ne-(Rt-mt)*qt)/(rt*ne-ht*qt);ce=Pe+rt*St-Z.x,je=mt+ht*St-Z.y;const Je=ce*ce+je*je;if(Je<=2)return new Ye(ce,je);Mt=Math.sqrt(Je/2)}else{let Ge=!1;rt>Number.EPSILON?qt>Number.EPSILON&&(Ge=!0):rt<-Number.EPSILON?qt<-Number.EPSILON&&(Ge=!0):Math.sign(ht)===Math.sign(ne)&&(Ge=!0),Ge?(ce=-ht,je=rt,Mt=Math.sqrt(j)):(ce=rt,je=ht,Mt=Math.sqrt(j/2))}return new Ye(ce/Mt,je/Mt)}const pe=[];for(let Z=0,et=ae.length,Ke=et-1,ce=Z+1;Z<et;Z++,Ke++,ce++)Ke===et&&(Ke=0),ce===et&&(ce=0),pe[Z]=$(ae[Z],ae[Ke],ae[ce]);const z=[];let oe,ve=pe.concat();for(let Z=0,et=K;Z<et;Z++){const Ke=H[Z];oe=[];for(let ce=0,je=Ke.length,Mt=je-1,rt=ce+1;ce<je;ce++,Mt++,rt++)Mt===je&&(Mt=0),rt===je&&(rt=0),oe[ce]=$(Ke[ce],Ke[Mt],Ke[rt]);z.push(oe),ve=ve.concat(oe)}let Ae;if(b===0)Ae=Il.triangulateShape(ae,H);else{const Z=[],et=[];for(let Ke=0;Ke<b;Ke++){const ce=Ke/b,je=_*Math.cos(ce*Math.PI/2),Mt=S*Math.sin(ce*Math.PI/2)+M;for(let rt=0,ht=ae.length;rt<ht;rt++){const qt=G(ae[rt],pe[rt],Mt);dt(qt.x,qt.y,-je),ce===0&&Z.push(qt)}for(let rt=0,ht=K;rt<ht;rt++){const qt=H[rt];oe=z[rt];const ne=[];for(let j=0,xe=qt.length;j<xe;j++){const Ge=G(qt[j],oe[j],Mt);dt(Ge.x,Ge.y,-je),ce===0&&ne.push(Ge)}ce===0&&et.push(ne)}}Ae=Il.triangulateShape(Z,et)}const se=Ae.length,Te=S+M;for(let Z=0;Z<q;Z++){const et=v?G(O[Z],ve[Z],Te):O[Z];B?(I.copy(L.normals[0]).multiplyScalar(et.x),N.copy(L.binormals[0]).multiplyScalar(et.y),P.copy(w[0]).add(I).add(N),dt(P.x,P.y,P.z)):dt(et.x,et.y,0)}for(let Z=1;Z<=m;Z++)for(let et=0;et<q;et++){const Ke=v?G(O[et],ve[et],Te):O[et];B?(I.copy(L.normals[Z]).multiplyScalar(Ke.x),N.copy(L.binormals[Z]).multiplyScalar(Ke.y),P.copy(w[Z]).add(I).add(N),dt(P.x,P.y,P.z)):dt(Ke.x,Ke.y,g/m*Z)}for(let Z=b-1;Z>=0;Z--){const et=Z/b,Ke=_*Math.cos(et*Math.PI/2),ce=S*Math.sin(et*Math.PI/2)+M;for(let je=0,Mt=ae.length;je<Mt;je++){const rt=G(ae[je],pe[je],ce);dt(rt.x,rt.y,g+Ke)}for(let je=0,Mt=H.length;je<Mt;je++){const rt=H[je];oe=z[je];for(let ht=0,qt=rt.length;ht<qt;ht++){const ne=G(rt[ht],oe[ht],ce);B?dt(ne.x,ne.y+w[m-1].y,w[m-1].x+Ke):dt(ne.x,ne.y,g+Ke)}}}we(),Fe();function we(){const Z=r.length/3;if(v){let et=0,Ke=q*et;for(let ce=0;ce<se;ce++){const je=Ae[ce];At(je[2]+Ke,je[1]+Ke,je[0]+Ke)}et=m+b*2,Ke=q*et;for(let ce=0;ce<se;ce++){const je=Ae[ce];At(je[0]+Ke,je[1]+Ke,je[2]+Ke)}}else{for(let et=0;et<se;et++){const Ke=Ae[et];At(Ke[2],Ke[1],Ke[0])}for(let et=0;et<se;et++){const Ke=Ae[et];At(Ke[0]+q*m,Ke[1]+q*m,Ke[2]+q*m)}}n.addGroup(Z,r.length/3-Z,0)}function Fe(){const Z=r.length/3;let et=0;Ue(ae,et),et+=ae.length;for(let Ke=0,ce=H.length;Ke<ce;Ke++){const je=H[Ke];Ue(je,et),et+=je.length}n.addGroup(Z,r.length/3-Z,1)}function Ue(Z,et){let Ke=Z.length;for(;--Ke>=0;){const ce=Ke;let je=Ke-1;je<0&&(je=Z.length-1);for(let Mt=0,rt=m+b*2;Mt<rt;Mt++){const ht=q*Mt,qt=q*(Mt+1),ne=et+ce+ht,j=et+je+ht,xe=et+je+qt,Ge=et+ce+qt;zt(ne,j,xe,Ge)}}}function dt(Z,et,Ke){c.push(Z),c.push(et),c.push(Ke)}function At(Z,et,Ke){Lt(Z),Lt(et),Lt(Ke);const ce=r.length/3,je=C.generateTopUV(n,r,ce-3,ce-2,ce-1);ot(je[0]),ot(je[1]),ot(je[2])}function zt(Z,et,Ke,ce){Lt(Z),Lt(et),Lt(ce),Lt(et),Lt(Ke),Lt(ce);const je=r.length/3,Mt=C.generateSideWallUV(n,r,je-6,je-3,je-2,je-1);ot(Mt[0]),ot(Mt[1]),ot(Mt[3]),ot(Mt[1]),ot(Mt[2]),ot(Mt[3])}function Lt(Z){r.push(c[Z*3+0]),r.push(c[Z*3+1]),r.push(c[Z*3+2])}function ot(Z){s.push(Z.x),s.push(Z.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return h8(t,n,e)}static fromJSON(e,t){const n=[];for(let s=0,a=e.shapes.length;s<a;s++){const l=t[e.shapes[s]];n.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new AA[r.type]().fromJSON(r)),new xb(n,e.options)}}const f8={generateTopUV:function(i,e,t,n,r){const s=e[t*3],a=e[t*3+1],l=e[n*3],c=e[n*3+1],h=e[r*3],m=e[r*3+1];return[new Ye(s,a),new Ye(l,c),new Ye(h,m)]},generateSideWallUV:function(i,e,t,n,r,s){const a=e[t*3],l=e[t*3+1],c=e[t*3+2],h=e[n*3],m=e[n*3+1],g=e[n*3+2],v=e[r*3],_=e[r*3+1],S=e[r*3+2],M=e[s*3],b=e[s*3+1],A=e[s*3+2];return Math.abs(l-m)<Math.abs(a-h)?[new Ye(a,1-c),new Ye(h,1-g),new Ye(v,1-S),new Ye(M,1-A)]:[new Ye(l,1-c),new Ye(m,1-g),new Ye(_,1-S),new Ye(b,1-A)]}};function h8(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const s=i[n];t.shapes.push(s.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class n_ extends ch{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new n_(e.radius,e.detail)}}class Sb extends xn{constructor(e=[new Ye(0,-.5),new Ye(.5,0),new Ye(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=bn(r,0,Math.PI*2);const s=[],a=[],l=[],c=[],h=[],m=1/t,g=new te,v=new Ye,_=new te,S=new te,M=new te;let b=0,A=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:b=e[C+1].x-e[C].x,A=e[C+1].y-e[C].y,_.x=A*1,_.y=-b,_.z=A*0,M.copy(_),_.normalize(),c.push(_.x,_.y,_.z);break;case e.length-1:c.push(M.x,M.y,M.z);break;default:b=e[C+1].x-e[C].x,A=e[C+1].y-e[C].y,_.x=A*1,_.y=-b,_.z=A*0,S.copy(_),_.x+=M.x,_.y+=M.y,_.z+=M.z,_.normalize(),c.push(_.x,_.y,_.z),M.copy(S)}for(let C=0;C<=t;C++){const w=n+C*m*r,B=Math.sin(w),L=Math.cos(w);for(let N=0;N<=e.length-1;N++){g.x=e[N].x*B,g.y=e[N].y,g.z=e[N].x*L,a.push(g.x,g.y,g.z),v.x=C/t,v.y=N/(e.length-1),l.push(v.x,v.y);const I=c[3*N+0]*B,P=c[3*N+1],U=c[3*N+0]*L;h.push(I,P,U)}}for(let C=0;C<t;C++)for(let w=0;w<e.length-1;w++){const B=w+C*e.length,L=B,N=B+e.length,I=B+e.length+1,P=B+1;s.push(L,N,P),s.push(I,P,N)}this.setIndex(s),this.setAttribute("position",new jt(a,3)),this.setAttribute("uv",new jt(l,2)),this.setAttribute("normal",new jt(h,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sb(e.points,e.segments,e.phiStart,e.phiLength)}}class i_ extends ch{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new i_(e.radius,e.detail)}}class fh extends xn{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const s=e/2,a=t/2,l=Math.floor(n),c=Math.floor(r),h=l+1,m=c+1,g=e/l,v=t/c,_=[],S=[],M=[],b=[];for(let A=0;A<m;A++){const C=A*v-a;for(let w=0;w<h;w++){const B=w*g-s;S.push(B,-C,0),M.push(0,0,1),b.push(w/l),b.push(1-A/c)}}for(let A=0;A<c;A++)for(let C=0;C<l;C++){const w=C+h*A,B=C+h*(A+1),L=C+1+h*(A+1),N=C+1+h*A;_.push(w,B,N),_.push(B,L,N)}this.setIndex(_),this.setAttribute("position",new jt(S,3)),this.setAttribute("normal",new jt(M,3)),this.setAttribute("uv",new jt(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fh(e.width,e.height,e.widthSegments,e.heightSegments)}}class Ab extends xn{constructor(e=.5,t=1,n=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:s,thetaLength:a},n=Math.max(3,n),r=Math.max(1,r);const l=[],c=[],h=[],m=[];let g=e;const v=(t-e)/r,_=new te,S=new Ye;for(let M=0;M<=r;M++){for(let b=0;b<=n;b++){const A=s+b/n*a;_.x=g*Math.cos(A),_.y=g*Math.sin(A),c.push(_.x,_.y,_.z),h.push(0,0,1),S.x=(_.x/t+1)/2,S.y=(_.y/t+1)/2,m.push(S.x,S.y)}g+=v}for(let M=0;M<r;M++){const b=M*(n+1);for(let A=0;A<n;A++){const C=A+b,w=C,B=C+n+1,L=C+n+2,N=C+1;l.push(w,B,N),l.push(B,L,N)}}this.setIndex(l),this.setAttribute("position",new jt(c,3)),this.setAttribute("normal",new jt(h,3)),this.setAttribute("uv",new jt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ab(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class bb extends xn{constructor(e=new jd([new Ye(0,.5),new Ye(-.5,-.5),new Ye(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],s=[],a=[];let l=0,c=0;if(Array.isArray(e)===!1)h(e);else for(let m=0;m<e.length;m++)h(e[m]),this.addGroup(l,c,m),l+=c,c=0;this.setIndex(n),this.setAttribute("position",new jt(r,3)),this.setAttribute("normal",new jt(s,3)),this.setAttribute("uv",new jt(a,2));function h(m){const g=r.length/3,v=m.extractPoints(t);let _=v.shape;const S=v.holes;Il.isClockWise(_)===!1&&(_=_.reverse());for(let b=0,A=S.length;b<A;b++){const C=S[b];Il.isClockWise(C)===!0&&(S[b]=C.reverse())}const M=Il.triangulateShape(_,S);for(let b=0,A=S.length;b<A;b++){const C=S[b];_=_.concat(C)}for(let b=0,A=_.length;b<A;b++){const C=_[b];r.push(C.x,C.y,0),s.push(0,0,1),a.push(C.x,C.y)}for(let b=0,A=M.length;b<A;b++){const C=M[b],w=C[0]+g,B=C[1]+g,L=C[2]+g;n.push(w,B,L),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return d8(t,e)}static fromJSON(e,t){const n=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];n.push(a)}return new bb(n,e.curveSegments)}}function d8(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}class r_ extends xn{constructor(e=1,t=32,n=16,r=0,s=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:s,thetaStart:a,thetaLength:l},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const c=Math.min(a+l,Math.PI);let h=0;const m=[],g=new te,v=new te,_=[],S=[],M=[],b=[];for(let A=0;A<=n;A++){const C=[],w=A/n;let B=0;A===0&&a===0?B=.5/t:A===n&&c===Math.PI&&(B=-.5/t);for(let L=0;L<=t;L++){const N=L/t;g.x=-e*Math.cos(r+N*s)*Math.sin(a+w*l),g.y=e*Math.cos(a+w*l),g.z=e*Math.sin(r+N*s)*Math.sin(a+w*l),S.push(g.x,g.y,g.z),v.copy(g).normalize(),M.push(v.x,v.y,v.z),b.push(N+B,1-w),C.push(h++)}m.push(C)}for(let A=0;A<n;A++)for(let C=0;C<t;C++){const w=m[A][C+1],B=m[A][C],L=m[A+1][C],N=m[A+1][C+1];(A!==0||a>0)&&_.push(w,B,N),(A!==n-1||c<Math.PI)&&_.push(B,L,N)}this.setIndex(_),this.setAttribute("position",new jt(S,3)),this.setAttribute("normal",new jt(M,3)),this.setAttribute("uv",new jt(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new r_(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Mb extends ch{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Mb(e.radius,e.detail)}}class Eb extends xn{constructor(e=1,t=.4,n=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:s},n=Math.floor(n),r=Math.floor(r);const a=[],l=[],c=[],h=[],m=new te,g=new te,v=new te;for(let _=0;_<=n;_++)for(let S=0;S<=r;S++){const M=S/r*s,b=_/n*Math.PI*2;g.x=(e+t*Math.cos(b))*Math.cos(M),g.y=(e+t*Math.cos(b))*Math.sin(M),g.z=t*Math.sin(b),l.push(g.x,g.y,g.z),m.x=e*Math.cos(M),m.y=e*Math.sin(M),v.subVectors(g,m).normalize(),c.push(v.x,v.y,v.z),h.push(S/r),h.push(_/n)}for(let _=1;_<=n;_++)for(let S=1;S<=r;S++){const M=(r+1)*_+S-1,b=(r+1)*(_-1)+S-1,A=(r+1)*(_-1)+S,C=(r+1)*_+S;a.push(M,b,C),a.push(b,A,C)}this.setIndex(a),this.setAttribute("position",new jt(l,3)),this.setAttribute("normal",new jt(c,3)),this.setAttribute("uv",new jt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Eb(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Tb extends xn{constructor(e=1,t=.4,n=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:s,q:a},n=Math.floor(n),r=Math.floor(r);const l=[],c=[],h=[],m=[],g=new te,v=new te,_=new te,S=new te,M=new te,b=new te,A=new te;for(let w=0;w<=n;++w){const B=w/n*s*Math.PI*2;C(B,s,a,e,_),C(B+.01,s,a,e,S),b.subVectors(S,_),A.addVectors(S,_),M.crossVectors(b,A),A.crossVectors(M,b),M.normalize(),A.normalize();for(let L=0;L<=r;++L){const N=L/r*Math.PI*2,I=-t*Math.cos(N),P=t*Math.sin(N);g.x=_.x+(I*A.x+P*M.x),g.y=_.y+(I*A.y+P*M.y),g.z=_.z+(I*A.z+P*M.z),c.push(g.x,g.y,g.z),v.subVectors(g,_).normalize(),h.push(v.x,v.y,v.z),m.push(w/n),m.push(L/r)}}for(let w=1;w<=n;w++)for(let B=1;B<=r;B++){const L=(r+1)*(w-1)+(B-1),N=(r+1)*w+(B-1),I=(r+1)*w+B,P=(r+1)*(w-1)+B;l.push(L,N,P),l.push(N,I,P)}this.setIndex(l),this.setAttribute("position",new jt(c,3)),this.setAttribute("normal",new jt(h,3)),this.setAttribute("uv",new jt(m,2));function C(w,B,L,N,I){const P=Math.cos(w),U=Math.sin(w),O=L/B*w,H=Math.cos(O);I.x=N*(2+H)*.5*P,I.y=N*(2+H)*U*.5,I.z=N*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tb(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Cb extends xn{constructor(e=new _2(new te(-1,-1,0),new te(-1,1,0),new te(1,1,0)),t=64,n=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const l=new te,c=new te,h=new Ye;let m=new te;const g=[],v=[],_=[],S=[];M(),this.setIndex(S),this.setAttribute("position",new jt(g,3)),this.setAttribute("normal",new jt(v,3)),this.setAttribute("uv",new jt(_,2));function M(){for(let w=0;w<t;w++)b(w);b(s===!1?t:0),C(),A()}function b(w){m=e.getPointAt(w/t,m);const B=a.normals[w],L=a.binormals[w];for(let N=0;N<=r;N++){const I=N/r*Math.PI*2,P=Math.sin(I),U=-Math.cos(I);c.x=U*B.x+P*L.x,c.y=U*B.y+P*L.y,c.z=U*B.z+P*L.z,c.normalize(),v.push(c.x,c.y,c.z),l.x=m.x+n*c.x,l.y=m.y+n*c.y,l.z=m.z+n*c.z,g.push(l.x,l.y,l.z)}}function A(){for(let w=1;w<=t;w++)for(let B=1;B<=r;B++){const L=(r+1)*(w-1)+(B-1),N=(r+1)*w+(B-1),I=(r+1)*w+B,P=(r+1)*(w-1)+B;S.push(L,N,P),S.push(N,I,P)}}function C(){for(let w=0;w<=t;w++)for(let B=0;B<=r;B++)h.x=w/t,h.y=B/r,_.push(h.x,h.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Cb(new AA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class uN extends xn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new te,s=new te;if(e.index!==null){const a=e.attributes.position,l=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:l.count,materialIndex:0}]);for(let h=0,m=c.length;h<m;++h){const g=c[h],v=g.start,_=g.count;for(let S=v,M=v+_;S<M;S+=3)for(let b=0;b<3;b++){const A=l.getX(S+b),C=l.getX(S+(b+1)%3);r.fromBufferAttribute(a,A),s.fromBufferAttribute(a,C),mD(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let l=0,c=a.count/3;l<c;l++)for(let h=0;h<3;h++){const m=3*l+h,g=3*l+(h+1)%3;r.fromBufferAttribute(a,m),s.fromBufferAttribute(a,g),mD(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new jt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function mD(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var gD=Object.freeze({__proto__:null,BoxGeometry:_p,CapsuleGeometry:gb,CircleGeometry:vb,ConeGeometry:t_,CylinderGeometry:e_,DodecahedronGeometry:yb,EdgesGeometry:$L,ExtrudeGeometry:xb,IcosahedronGeometry:n_,LatheGeometry:Sb,OctahedronGeometry:i_,PlaneGeometry:fh,PolyhedronGeometry:ch,RingGeometry:Ab,ShapeGeometry:bb,SphereGeometry:r_,TetrahedronGeometry:Mb,TorusGeometry:Eb,TorusKnotGeometry:Tb,TubeGeometry:Cb,WireframeGeometry:uN});class cN extends Er{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new wt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class fN extends pr{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class s_ extends Er{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new wt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new go,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nl extends s_{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ye(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return bn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new wt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new wt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new wt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class hN extends Er{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new wt(16777215),this.specular=new wt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new go,this.combine=jy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dN extends Er{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new wt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class S2 extends Er{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class pN extends Er{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new wt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new go,this.combine=jy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class A2 extends Er{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=lh,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class b2 extends Er{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class mN extends Er{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new wt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uh,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gN extends js{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Id(i,e){return!i||i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function vN(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function yN(i){function e(r,s){return i[r]-i[s]}const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function PT(i,e,t){const n=i.length,r=new i.constructor(n);for(let s=0,a=0;a!==n;++s){const l=t[s]*e;for(let c=0;c!==e;++c)r[a++]=i[l+c]}return r}function M2(i,e,t,n){let r=1,s=i[0];for(;s!==void 0&&s[n]===void 0;)s=i[r++];if(s===void 0)return;let a=s[n];if(a!==void 0)if(Array.isArray(a))do a=s[n],a!==void 0&&(e.push(s.time),t.push(...a)),s=i[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[n],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=i[r++];while(s!==void 0);else do a=s[n],a!==void 0&&(e.push(s.time),t.push(a)),s=i[r++];while(s!==void 0)}function p8(i,e,t,n,r=30){const s=i.clone();s.name=e;const a=[];for(let c=0;c<s.tracks.length;++c){const h=s.tracks[c],m=h.getValueSize(),g=[],v=[];for(let _=0;_<h.times.length;++_){const S=h.times[_]*r;if(!(S<t||S>=n)){g.push(h.times[_]);for(let M=0;M<m;++M)v.push(h.values[_*m+M])}}g.length!==0&&(h.times=Id(g,h.times.constructor),h.values=Id(v,h.values.constructor),a.push(h))}s.tracks=a;let l=1/0;for(let c=0;c<s.tracks.length;++c)l>s.tracks[c].times[0]&&(l=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*l);return s.resetDuration(),s}function m8(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,s=e/n;for(let a=0;a<r;++a){const l=t.tracks[a],c=l.ValueTypeName;if(c==="bool"||c==="string")continue;const h=i.tracks.find(function(A){return A.name===l.name&&A.ValueTypeName===c});if(h===void 0)continue;let m=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let v=0;const _=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=_/3);const S=l.times.length-1;let M;if(s<=l.times[0]){const A=m,C=g-m;M=l.values.slice(A,C)}else if(s>=l.times[S]){const A=S*g+m,C=A+g-m;M=l.values.slice(A,C)}else{const A=l.createInterpolant(),C=m,w=g-m;A.evaluate(s),M=A.resultBuffer.slice(C,w)}c==="quaternion"&&new ss().fromArray(M).normalize().conjugate().toArray(M);const b=h.times.length;for(let A=0;A<b;++A){const C=A*_+v;if(c==="quaternion")ss.multiplyQuaternionsFlat(h.values,C,M,0,h.values,C);else{const w=_-v*2;for(let B=0;B<w;++B)h.values[C+B]-=M[B]}}}return i.blendMode=n2,i}class g8{static convertArray(e,t){return Id(e,t)}static isTypedArray(e){return vN(e)}static getKeyframeOrder(e){return yN(e)}static sortedArray(e,t,n){return PT(e,t,n)}static flattenJSON(e,t,n,r){M2(e,t,n,r)}static subclip(e,t,n,r,s=30){return p8(e,t,n,r,s)}static makeClipAdditive(e,t=0,n=e,r=30){return m8(e,t,n,r)}}class kg{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],s=t[n-1];e:{t:{let a;n:{i:if(!(e<r)){for(let l=n+2;;){if(r===void 0){if(e<s)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===l)break;if(s=r,r=t[++n],e<r)break t}a=t.length;break n}if(!(e>=s)){const l=t[1];e<l&&(n=2,s=l);for(let c=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===c)break;if(r=s,s=t[--n-1],e>=s)break t}a=n,n=0;break n}break e}for(;n<a;){const l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],s=t[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,r)}return this.interpolate_(n,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=n[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class _N extends kg{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ld,endingEnd:Ld}}intervalChanged_(e,t,n){const r=this.parameterPositions;let s=e-2,a=e+1,l=r[s],c=r[a];if(l===void 0)switch(this.getSettings_().endingStart){case Nd:s=e,l=2*t-n;break;case yy:s=r.length-2,l=t+r[s]-r[s+1];break;default:s=e,l=n}if(c===void 0)switch(this.getSettings_().endingEnd){case Nd:a=e,c=2*n-t;break;case yy:a=1,c=n+r[1]-r[0];break;default:a=e-1,c=t}const h=(n-t)*.5,m=this.valueSize;this._weightPrev=h/(t-l),this._weightNext=h/(c-n),this._offsetPrev=s*m,this._offsetNext=a*m}interpolate_(e,t,n,r){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=e*l,h=c-l,m=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,_=this._weightNext,S=(n-t)/(r-t),M=S*S,b=M*S,A=-v*b+2*v*M-v*S,C=(1+v)*b+(-1.5-2*v)*M+(-.5+v)*S+1,w=(-1-_)*b+(1.5+_)*M+.5*S,B=_*b-_*M;for(let L=0;L!==l;++L)s[L]=A*a[m+L]+C*a[h+L]+w*a[c+L]+B*a[g+L];return s}}class E2 extends kg{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=e*l,h=c-l,m=(n-t)/(r-t),g=1-m;for(let v=0;v!==l;++v)s[v]=a[h+v]*g+a[c+v]*m;return s}}class xN extends kg{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class il{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Id(t,this.TimeBufferType),this.values=Id(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Id(e.times,Array),values:Id(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new xN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new E2(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new _N(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case bg:t=this.InterpolantFactoryMethodDiscrete;break;case Mg:t=this.InterpolantFactoryMethodLinear;break;case vS:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return bg;case this.InterpolantFactoryMethodLinear:return Mg;case this.InterpolantFactoryMethodSmooth:return vS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let s=0,a=r-1;for(;s!==r&&n[s]<e;)++s;for(;a!==-1&&n[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const l=this.getValueSize();this.times=n.slice(s,a),this.values=this.values.slice(s*l,a*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let l=0;l!==s;l++){const c=n[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(a!==null&&a>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,a),e=!1;break}a=c}if(r!==void 0&&vN(r))for(let l=0,c=r.length;l!==c;++l){const h=r[l];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,h),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===vS,s=e.length-1;let a=1;for(let l=1;l<s;++l){let c=!1;const h=e[l],m=e[l+1];if(h!==m&&(l!==1||h!==e[0]))if(r)c=!0;else{const g=l*n,v=g-n,_=g+n;for(let S=0;S!==n;++S){const M=t[g+S];if(M!==t[v+S]||M!==t[_+S]){c=!0;break}}}if(c){if(l!==a){e[a]=e[l];const g=l*n,v=a*n;for(let _=0;_!==n;++_)t[v+_]=t[g+_]}++a}}if(s>0){e[a]=e[s];for(let l=s*n,c=a*n,h=0;h!==n;++h)t[c+h]=t[l+h];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}il.prototype.ValueTypeName="";il.prototype.TimeBufferType=Float32Array;il.prototype.ValueBufferType=Float32Array;il.prototype.DefaultInterpolation=Mg;class xp extends il{constructor(e,t,n){super(e,t,n)}}xp.prototype.ValueTypeName="bool";xp.prototype.ValueBufferType=Array;xp.prototype.DefaultInterpolation=bg;xp.prototype.InterpolantFactoryMethodLinear=void 0;xp.prototype.InterpolantFactoryMethodSmooth=void 0;class T2 extends il{constructor(e,t,n,r){super(e,t,n,r)}}T2.prototype.ValueTypeName="color";class up extends il{constructor(e,t,n,r){super(e,t,n,r)}}up.prototype.ValueTypeName="number";class SN extends kg{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=(n-t)/(r-t);let h=e*l;for(let m=h+l;h!==m;h+=4)ss.slerpFlat(s,0,a,h-l,a,h,c);return s}}class cp extends il{constructor(e,t,n,r){super(e,t,n,r)}InterpolantFactoryMethodLinear(e){return new SN(this.times,this.values,this.getValueSize(),e)}}cp.prototype.ValueTypeName="quaternion";cp.prototype.InterpolantFactoryMethodSmooth=void 0;class Sp extends il{constructor(e,t,n){super(e,t,n)}}Sp.prototype.ValueTypeName="string";Sp.prototype.ValueBufferType=Array;Sp.prototype.DefaultInterpolation=bg;Sp.prototype.InterpolantFactoryMethodLinear=void 0;Sp.prototype.InterpolantFactoryMethodSmooth=void 0;class fp extends il{constructor(e,t,n,r){super(e,t,n,r)}}fp.prototype.ValueTypeName="vector";class Rg{constructor(e="",t=-1,n=[],r=ab){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=ho(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let a=0,l=n.length;a!==l;++a)t.push(y8(n[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=n.length;s!==a;++s)t.push(il.toJSON(n[s]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const s=t.length,a=[];for(let l=0;l<s;l++){let c=[],h=[];c.push((l+s-1)%s,l,(l+1)%s),h.push(0,1,0);const m=yN(c);c=PT(c,1,m),h=PT(h,1,m),!r&&c[0]===0&&(c.push(s),h.push(h[0])),a.push(new up(".morphTargetInfluences["+t[l].name+"]",c,h).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){const h=e[l],m=h.name.match(s);if(m&&m.length>1){const g=m[1];let v=r[g];v||(r[g]=v=[]),v.push(h)}}const a=[];for(const l in r)a.push(this.CreateFromMorphTargetSequence(l,r[l],t,n));return a}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(g,v,_,S,M){if(_.length!==0){const b=[],A=[];M2(_,b,A,S),b.length!==0&&M.push(new g(v,b,A))}},r=[],s=e.name||"default",a=e.fps||30,l=e.blendMode;let c=e.length||-1;const h=e.hierarchy||[];for(let g=0;g<h.length;g++){const v=h[g].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const _={};let S;for(S=0;S<v.length;S++)if(v[S].morphTargets)for(let M=0;M<v[S].morphTargets.length;M++)_[v[S].morphTargets[M]]=-1;for(const M in _){const b=[],A=[];for(let C=0;C!==v[S].morphTargets.length;++C){const w=v[S];b.push(w.time),A.push(w.morphTarget===M?1:0)}r.push(new up(".morphTargetInfluence["+M+"]",b,A))}c=_.length*a}else{const _=".bones["+t[g].name+"]";n(fp,_+".position",v,"pos",r),n(cp,_+".quaternion",v,"rot",r),n(fp,_+".scale",v,"scl",r)}}return r.length===0?null:new this(s,c,r,l)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function v8(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return up;case"vector":case"vector2":case"vector3":case"vector4":return fp;case"color":return T2;case"quaternion":return cp;case"bool":case"boolean":return xp;case"string":return Sp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function y8(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=v8(i.type);if(i.times===void 0){const t=[],n=[];M2(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const Ec={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class wb{constructor(e,t,n){const r=this;let s=!1,a=0,l=0,c;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(m){l++,s===!1&&r.onStart!==void 0&&r.onStart(m,a,l),s=!0},this.itemEnd=function(m){a++,r.onProgress!==void 0&&r.onProgress(m,a,l),a===l&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return c?c(m):m},this.setURLModifier=function(m){return c=m,this},this.addHandler=function(m,g){return h.push(m,g),this},this.removeHandler=function(m){const g=h.indexOf(m);return g!==-1&&h.splice(g,2),this},this.getHandler=function(m){for(let g=0,v=h.length;g<v;g+=2){const _=h[g],S=h[g+1];if(_.global&&(_.lastIndex=0),_.test(m))return S}return null}}}const Zm=new wb;class Ms{constructor(e){this.manager=e!==void 0?e:Zm,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,s){n.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ms.DEFAULT_MATERIAL_NAME="__DEFAULT";const gc={};class _8 extends Error{constructor(e,t){super(e),this.response=t}}class As extends Ms{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ec.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(gc[e]!==void 0){gc[e].push({onLoad:t,onProgress:n,onError:r});return}gc[e]=[],gc[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,c=this.responseType;fetch(a).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||h.body===void 0||h.body.getReader===void 0)return h;const m=gc[e],g=h.body.getReader(),v=h.headers.get("X-File-Size")||h.headers.get("Content-Length"),_=v?parseInt(v):0,S=_!==0;let M=0;const b=new ReadableStream({start(A){C();function C(){g.read().then(({done:w,value:B})=>{if(w)A.close();else{M+=B.byteLength;const L=new ProgressEvent("progress",{lengthComputable:S,loaded:M,total:_});for(let N=0,I=m.length;N<I;N++){const P=m[N];P.onProgress&&P.onProgress(L)}A.enqueue(B),C()}},w=>{A.error(w)})}}});return new Response(b)}else throw new _8(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(c){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(m=>new DOMParser().parseFromString(m,l));case"json":return h.json();default:if(l==="")return h.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),v=g&&g[1]?g[1].toLowerCase():void 0,_=new TextDecoder(v);return h.arrayBuffer().then(S=>_.decode(S))}}}).then(h=>{Ec.add(e,h);const m=gc[e];delete gc[e];for(let g=0,v=m.length;g<v;g++){const _=m[g];_.onLoad&&_.onLoad(h)}}).catch(h=>{const m=gc[e];if(m===void 0)throw this.manager.itemError(e),h;delete gc[e];for(let g=0,v=m.length;g<v;g++){const _=m[g];_.onError&&_.onError(h)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class x8 extends Ms{constructor(e){super(e)}load(e,t,n,r){const s=this,a=new As(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=Rg.parse(e[n]);t.push(r)}return t}}class S8 extends Ms{constructor(e){super(e)}load(e,t,n,r){const s=this,a=[],l=new pb,c=new As(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(s.withCredentials);let h=0;function m(g){c.load(e[g],function(v){const _=s.parse(v,!0);a[g]={width:_.width,height:_.height,format:_.format,mipmaps:_.mipmaps},h+=1,h===6&&(_.mipmapCount===1&&(l.minFilter=Jn),l.image=a,l.format=_.format,l.needsUpdate=!0,t&&t(l))},n,r)}if(Array.isArray(e))for(let g=0,v=e.length;g<v;++g)m(g);else c.load(e,function(g){const v=s.parse(g,!0);if(v.isCubemap){const _=v.mipmaps.length/v.mipmapCount;for(let S=0;S<_;S++){a[S]={mipmaps:[]};for(let M=0;M<v.mipmapCount;M++)a[S].mipmaps.push(v.mipmaps[S*v.mipmapCount+M]),a[S].format=v.format,a[S].width=v.width,a[S].height=v.height}l.image=a}else l.image.width=v.width,l.image.height=v.height,l.mipmaps=v.mipmaps;v.mipmapCount===1&&(l.minFilter=Jn),l.format=v.format,l.needsUpdate=!0,t&&t(l)},n,r);return l}}class Ty extends Ms{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Ec.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const l=Ay("img");function c(){m(),Ec.add(e,this),t&&t(this),s.manager.itemEnd(e)}function h(g){m(),r&&r(g),s.manager.itemError(e),s.manager.itemEnd(e)}function m(){l.removeEventListener("load",c,!1),l.removeEventListener("error",h,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",h,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(e),l.src=e,l}}class AN extends Ms{constructor(e){super(e)}load(e,t,n,r){const s=new Zy;s.colorSpace=si;const a=new Ty(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let l=0;function c(h){a.load(e[h],function(m){s.images[h]=m,l++,l===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let h=0;h<e.length;++h)c(h);return s}}class C2 extends Ms{constructor(e){super(e)}load(e,t,n,r){const s=this,a=new Hl,l=new As(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(e,function(c){let h;try{h=s.parse(c)}catch(m){if(r!==void 0)r(m);else{console.error(m);return}}h.image!==void 0?a.image=h.image:h.data!==void 0&&(a.image.width=h.width,a.image.height=h.height,a.image.data=h.data),a.wrapS=h.wrapS!==void 0?h.wrapS:Ar,a.wrapT=h.wrapT!==void 0?h.wrapT:Ar,a.magFilter=h.magFilter!==void 0?h.magFilter:Jn,a.minFilter=h.minFilter!==void 0?h.minFilter:Jn,a.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.colorSpace!==void 0&&(a.colorSpace=h.colorSpace),h.flipY!==void 0&&(a.flipY=h.flipY),h.format!==void 0&&(a.format=h.format),h.type!==void 0&&(a.type=h.type),h.mipmaps!==void 0&&(a.mipmaps=h.mipmaps,a.minFilter=Wo),h.mipmapCount===1&&(a.minFilter=Jn),h.generateMipmaps!==void 0&&(a.generateMipmaps=h.generateMipmaps),a.needsUpdate=!0,t&&t(a,h)},n,r),a}}class bN extends Ms{constructor(e){super(e)}load(e,t,n,r){const s=new hi,a=new Ty(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){s.image=l,s.needsUpdate=!0,t!==void 0&&t(s)},n,r),s}}class hh extends Qn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new wt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class MN extends hh{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Qn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new wt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const hE=new an,vD=new te,yD=new te;class w2{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ye(512,512),this.mapType=hr,this.map=null,this.mapPass=null,this.matrix=new an,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Vg,this._frameExtents=new Ye(1,1),this._viewportCount=1,this._viewports=[new Kn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;vD.setFromMatrixPosition(e.matrixWorld),t.position.copy(vD),yD.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(yD),t.updateMatrixWorld(),hE.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hE),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(hE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class A8 extends w2{constructor(){super(new er(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=Eg*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||t.far;(n!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class R2 extends hh{constructor(e,t,n=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Qn.DEFAULT_UP),this.updateMatrix(),this.target=new Qn,this.distance=n,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new A8}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const _D=new an,Av=new te,dE=new te;class b8 extends w2{constructor(){super(new er(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ye(4,2),this._viewportCount=6,this._viewports=[new Kn(2,1,1,1),new Kn(0,1,1,1),new Kn(3,1,1,1),new Kn(1,1,1,1),new Kn(3,0,1,1),new Kn(1,0,1,1)],this._cubeDirections=[new te(1,0,0),new te(-1,0,0),new te(0,0,1),new te(0,0,-1),new te(0,1,0),new te(0,-1,0)],this._cubeUps=[new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,0,1),new te(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),Av.setFromMatrixPosition(e.matrixWorld),n.position.copy(Av),dE.copy(n.position),dE.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(dE),n.updateMatrixWorld(),r.makeTranslation(-Av.x,-Av.y,-Av.z),_D.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_D)}}class B2 extends hh{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new b8}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Nu extends Jy{constructor(e=-1,t=1,n=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-e,a=n+e,l=r+t,c=r-t;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=h*this.view.offsetX,a=s+h*this.view.width,l-=m*this.view.offsetY,c=l-m*this.view.height}this.projectionMatrix.makeOrthographic(s,a,l,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class M8 extends w2{constructor(){super(new Nu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class D2 extends hh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Qn.DEFAULT_UP),this.updateMatrix(),this.target=new Qn,this.shadow=new M8}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class EN extends hh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class TN extends hh{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class CN{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new te)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],1.092548*(n*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(n*s)),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*n),t.addScaledVector(a[4],2*.429043*n*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*n*s),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*n*s,t[8]=.546274*(n*n-r*r)}}class wN extends hh{constructor(e=new CN,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Rb extends Ms{constructor(e){super(e),this.textures={}}load(e,t,n,r){const s=this,a=new As(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new wt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=n(a.value);break;case"c":r.uniforms[s].value=new wt().setHex(a.value);break;case"v2":r.uniforms[s].value=new Ye().fromArray(a.value);break;case"v3":r.uniforms[s].value=new te().fromArray(a.value);break;case"v4":r.uniforms[s].value=new Kn().fromArray(a.value);break;case"m3":r.uniforms[s].value=new Tn().fromArray(a.value);break;case"m4":r.uniforms[s].value=new an().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Ye().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Ye().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Rb.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:cN,SpriteMaterial:c2,RawShaderMaterial:fN,ShaderMaterial:pr,PointsMaterial:db,MeshPhysicalMaterial:nl,MeshStandardMaterial:s_,MeshPhongMaterial:hN,MeshToonMaterial:dN,MeshNormalMaterial:S2,MeshLambertMaterial:pN,MeshDepthMaterial:A2,MeshDistanceMaterial:b2,MeshBasicMaterial:Ia,MeshMatcapMaterial:mN,LineDashedMaterial:gN,LineBasicMaterial:js,Material:Er};return new t[e]}}class Kf{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class RN extends xn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class BN extends Ms{constructor(e){super(e)}load(e,t,n,r){const s=this,a=new As(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(_,S){if(t[S]!==void 0)return t[S];const b=_.interleavedBuffers[S],A=s(_,b.buffer),C=Jm(b.type,A),w=new Qy(C,b.stride);return w.uuid=b.uuid,t[S]=w,w}function s(_,S){if(n[S]!==void 0)return n[S];const b=_.arrayBuffers[S],A=new Uint32Array(b).buffer;return n[S]=A,A}const a=e.isInstancedBufferGeometry?new RN:new xn,l=e.data.index;if(l!==void 0){const _=Jm(l.type,l.array);a.setIndex(new $n(_,1))}const c=e.data.attributes;for(const _ in c){const S=c[_];let M;if(S.isInterleavedBufferAttribute){const b=r(e.data,S.data);M=new nh(b,S.itemSize,S.offset,S.normalized)}else{const b=Jm(S.type,S.array),A=S.isInstancedBufferAttribute?op:$n;M=new A(b,S.itemSize,S.normalized)}S.name!==void 0&&(M.name=S.name),S.usage!==void 0&&M.setUsage(S.usage),a.setAttribute(_,M)}const h=e.data.morphAttributes;if(h)for(const _ in h){const S=h[_],M=[];for(let b=0,A=S.length;b<A;b++){const C=S[b];let w;if(C.isInterleavedBufferAttribute){const B=r(e.data,C.data);w=new nh(B,C.itemSize,C.offset,C.normalized)}else{const B=Jm(C.type,C.array);w=new $n(B,C.itemSize,C.normalized)}C.name!==void 0&&(w.name=C.name),M.push(w)}a.morphAttributes[_]=M}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let _=0,S=g.length;_!==S;++_){const M=g[_];a.addGroup(M.start,M.count,M.materialIndex)}const v=e.data.boundingSphere;return v!==void 0&&(a.boundingSphere=new as().fromJSON(v)),e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class E8 extends Ms{constructor(e){super(e)}load(e,t,n,r){const s=this,a=this.path===""?Kf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const l=new As(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){let h=null;try{h=JSON.parse(c)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const m=h.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(h,t)},n,r)}async loadAsync(e,t){const n=this,r=this.path===""?Kf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new As(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),l=JSON.parse(a),c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(l)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(h)}),l=this.parseTextures(e.textures,a),c=this.parseMaterials(e.materials,l),h=this.parseObject(e.object,s,c,l,n),m=this.parseSkeletons(e.skeletons,h);if(this.bindSkeletons(h,m),this.bindLightTargets(h),t!==void 0){let g=!1;for(const v in a)if(a[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(h)}return h}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,r,l,a,t),h=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,h),this.bindLightTargets(c),c}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const s=new jd().fromJSON(e[n]);t[s.uuid]=s}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const l=new $y().fromJSON(e[s],r);n[l.uuid]=l}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new BN;for(let s=0,a=e.length;s<a;s++){let l;const c=e[s];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(c);break;default:c.type in gD?l=gD[c.type].fromJSON(c,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}l.uuid=c.uuid,c.name!==void 0&&(l.name=c.name),c.userData!==void 0&&(l.userData=c.userData),n[c.uuid]=l}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const s=new Rb;s.setTextures(t);for(let a=0,l=e.length;a<l;a++){const c=e[a];n[c.uuid]===void 0&&(n[c.uuid]=s.parse(c)),r[c.uuid]=n[c.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],s=Rg.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const n=this,r={};let s;function a(c){return n.manager.itemStart(c),s.load(c,function(){n.manager.itemEnd(c)},void 0,function(){n.manager.itemError(c),n.manager.itemEnd(c)})}function l(c){if(typeof c=="string"){const h=c,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:n.resourcePath+h;return a(m)}else return c.data?{data:Jm(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new wb(t);s=new Ty(c),s.setCrossOrigin(this.crossOrigin);for(let h=0,m=e.length;h<m;h++){const g=e[h],v=g.url;if(Array.isArray(v)){const _=[];for(let S=0,M=v.length;S<M;S++){const b=v[S],A=l(b);A!==null&&(A instanceof HTMLImageElement?_.push(A):_.push(new Hl(A.data,A.width,A.height)))}r[g.uuid]=new Vf(_)}else{const _=l(g.url);r[g.uuid]=new Vf(_)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function s(a){if(typeof a=="string"){const l=a,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await r.loadAsync(c)}else return a.data?{data:Jm(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new Ty(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,l=e.length;a<l;a++){const c=e[a],h=c.url;if(Array.isArray(h)){const m=[];for(let g=0,v=h.length;g<v;g++){const _=h[g],S=await s(_);S!==null&&(S instanceof HTMLImageElement?m.push(S):m.push(new Hl(S.data,S.width,S.height)))}n[c.uuid]=new Vf(m)}else{const m=await s(c.url);n[c.uuid]=new Vf(m)}}}return n}parseTextures(e,t){function n(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const l=e[s];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const c=t[l.image],h=c.data;let m;Array.isArray(h)?(m=new Zy,h.length===6&&(m.needsUpdate=!0)):(h&&h.data?m=new Hl:m=new hi,h&&(m.needsUpdate=!0)),m.source=c,m.uuid=l.uuid,l.name!==void 0&&(m.name=l.name),l.mapping!==void 0&&(m.mapping=n(l.mapping,T8)),l.channel!==void 0&&(m.channel=l.channel),l.offset!==void 0&&m.offset.fromArray(l.offset),l.repeat!==void 0&&m.repeat.fromArray(l.repeat),l.center!==void 0&&m.center.fromArray(l.center),l.rotation!==void 0&&(m.rotation=l.rotation),l.wrap!==void 0&&(m.wrapS=n(l.wrap[0],xD),m.wrapT=n(l.wrap[1],xD)),l.format!==void 0&&(m.format=l.format),l.internalFormat!==void 0&&(m.internalFormat=l.internalFormat),l.type!==void 0&&(m.type=l.type),l.colorSpace!==void 0&&(m.colorSpace=l.colorSpace),l.minFilter!==void 0&&(m.minFilter=n(l.minFilter,SD)),l.magFilter!==void 0&&(m.magFilter=n(l.magFilter,SD)),l.anisotropy!==void 0&&(m.anisotropy=l.anisotropy),l.flipY!==void 0&&(m.flipY=l.flipY),l.generateMipmaps!==void 0&&(m.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(m.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(m.compareFunction=l.compareFunction),l.userData!==void 0&&(m.userData=l.userData),r[l.uuid]=m}return r}parseObject(e,t,n,r,s){let a;function l(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function c(v){if(v!==void 0){if(Array.isArray(v)){const _=[];for(let S=0,M=v.length;S<M;S++){const b=v[S];n[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",b),_.push(n[b])}return _}return n[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),n[v]}}function h(v){return r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),r[v]}let m,g;switch(e.type){case"Scene":a=new ap,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new wt(e.background):a.background=h(e.background)),e.environment!==void 0&&(a.environment=h(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new cb(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new ub(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new er(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Nu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new EN(e.color,e.intensity);break;case"DirectionalLight":a=new D2(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new B2(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new TN(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new R2(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new MN(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new wN().fromJSON(e);break;case"SkinnedMesh":m=l(e.geometry),g=c(e.material),a=new f2(m,g),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":m=l(e.geometry),g=c(e.material),a=new zi(m,g);break;case"InstancedMesh":m=l(e.geometry),g=c(e.material);const v=e.count,_=e.instanceMatrix,S=e.instanceColor;a=new h2(m,g,v),a.instanceMatrix=new op(new Float32Array(_.array),16),S!==void 0&&(a.instanceColor=new op(new Float32Array(S.array),S.itemSize));break;case"BatchedMesh":m=l(e.geometry),g=c(e.material),a=new ZL(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),a.geometry=m,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(M=>{let b=null,A=null;return M.boundingBox!==void 0&&(b=new Ss().fromJSON(M.boundingBox)),M.boundingSphere!==void 0&&(A=new as().fromJSON(M.boundingSphere)),{...M,boundingBox:b,boundingSphere:A}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=h(e.matricesTexture.uuid),a._indirectTexture=h(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=h(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new as().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(a.boundingBox=new Ss().fromJSON(e.boundingBox));break;case"LOD":a=new JL;break;case"Line":a=new Bc(l(e.geometry),c(e.material));break;case"LineLoop":a=new d2(l(e.geometry),c(e.material));break;case"LineSegments":a=new Xl(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":a=new p2(l(e.geometry),c(e.material));break;case"Sprite":a=new KL(c(e.material));break;case"Group":a=new Mc;break;case"Bone":a=new fb;break;default:a=new Qn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let _=0;_<v.length;_++)a.add(this.parseObject(v[_],t,n,r,s))}if(e.animations!==void 0){const v=e.animations;for(let _=0;_<v.length;_++){const S=v[_];a.animations.push(s[S])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const v=e.levels;for(let _=0;_<v.length;_++){const S=v[_],M=a.getObjectByProperty("uuid",S.object);M!==void 0&&a.addLevel(M,S.distance,S.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);r!==void 0?t.target=r:t.target=new Qn}})}}const T8={UVMapping:$f,CubeReflectionMapping:Hu,CubeRefractionMapping:eh,EquirectangularReflectionMapping:_g,EquirectangularRefractionMapping:vy,CubeUVReflectionMapping:Gg},xD={RepeatWrapping:th,ClampToEdgeWrapping:Ar,MirroredRepeatWrapping:xg},SD={NearestFilter:fr,NearestMipmapNearestFilter:$A,NearestMipmapLinearFilter:Ud,LinearFilter:Jn,LinearMipmapNearestFilter:og,LinearMipmapLinearFilter:Wo},pE=new WeakMap;class DN extends Ms{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Ec.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(h=>{if(pE.has(a)===!0)r&&r(pE.get(a)),s.manager.itemError(e),s.manager.itemEnd(e);else return t&&t(h),s.manager.itemEnd(e),h});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const c=fetch(e,l).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(h){return Ec.add(e,h),t&&t(h),s.manager.itemEnd(e),h}).catch(function(h){r&&r(h),pE.set(c,h),Ec.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Ec.add(e,c),s.manager.itemStart(e)}}let Px;class O2{static getContext(){return Px===void 0&&(Px=new(window.AudioContext||window.webkitAudioContext)),Px}static setContext(e){Px=e}}class C8 extends Ms{constructor(e){super(e)}load(e,t,n,r){const s=this,a=new As(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(c){try{const h=c.slice(0);O2.getContext().decodeAudioData(h,function(g){t(g)}).catch(l)}catch(h){l(h)}},n,r);function l(c){r?r(c):console.error(c),s.manager.itemError(e)}}}const AD=new an,bD=new an,hd=new an;class w8{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new er,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new er,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,hd.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(Yd*t.fov*.5)/t.zoom;let l,c;bD.elements[12]=-r,AD.elements[12]=r,l=-a*t.aspect+s,c=a*t.aspect+s,hd.elements[0]=2*t.near/(c-l),hd.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(hd),l=-a*t.aspect-s,c=a*t.aspect-s,hd.elements[0]=2*t.near/(c-l),hd.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(hd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(bD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(AD)}}class ON extends er{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class U2{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=MD(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=MD();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function MD(){return performance.now()}const dd=new te,mE=new ss,R8=new te,pd=new te,md=new te;class B8 extends Qn{constructor(){super(),this.type="AudioListener",this.context=O2.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new U2}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(dd,mE,R8),pd.set(0,0,-1).applyQuaternion(mE),md.set(0,1,0).applyQuaternion(mE),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(dd.x,n),t.positionY.linearRampToValueAtTime(dd.y,n),t.positionZ.linearRampToValueAtTime(dd.z,n),t.forwardX.linearRampToValueAtTime(pd.x,n),t.forwardY.linearRampToValueAtTime(pd.y,n),t.forwardZ.linearRampToValueAtTime(pd.z,n),t.upX.linearRampToValueAtTime(md.x,n),t.upY.linearRampToValueAtTime(md.y,n),t.upZ.linearRampToValueAtTime(md.z,n)}else t.setPosition(dd.x,dd.y,dd.z),t.setOrientation(pd.x,pd.y,pd.z,md.x,md.y,md.z)}}class UN extends Qn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const gd=new te,ED=new ss,D8=new te,vd=new te;class O8 extends UN{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(gd,ED,D8),vd.set(0,0,1).applyQuaternion(ED);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(gd.x,n),t.positionY.linearRampToValueAtTime(gd.y,n),t.positionZ.linearRampToValueAtTime(gd.z,n),t.orientationX.linearRampToValueAtTime(vd.x,n),t.orientationY.linearRampToValueAtTime(vd.y,n),t.orientationZ.linearRampToValueAtTime(vd.z,n)}else t.setPosition(gd.x,gd.y,gd.z),t.setOrientation(vd.x,vd.y,vd.z)}}class U8{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class LN{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let l=0;l!==r;++l)n[s+l]=n[l];a=t}else{a+=t;const l=t/a;this._mixBufferRegion(n,s,0,l,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=t*this._origIndex;this._mixBufferRegion(n,r,c,1-s,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let c=t,h=t+t;c!==h;++c)if(n[c]!==n[c+t]){l.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let s=n,a=r;s!==a;++s)t[s]=t[r+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[n+a]}_slerp(e,t,n,r){ss.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,s){const a=this._workIndex*s;ss.multiplyQuaternionsFlat(e,a,e,t,e,n),ss.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,s){const a=1-r;for(let l=0;l!==s;++l){const c=t+l;e[c]=e[c]*a+e[n+l]*r}}_lerpAdditive(e,t,n,r,s){for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]+e[n+a]*r}}}const L2="\\[\\]\\.:\\/",L8=new RegExp("["+L2+"]","g"),N2="[^"+L2+"]",N8="[^"+L2.replace("\\.","")+"]",P8=/((?:WC+[\/:])*)/.source.replace("WC",N2),I8=/(WCOD+)?/.source.replace("WCOD",N8),F8=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",N2),z8=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",N2),H8=new RegExp("^"+P8+I8+F8+z8+"$"),G8=["material","materials","bones","map"];class V8{constructor(e,t,n){const r=n||ni.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=n.length;r!==s;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class ni{constructor(e,t,n){this.path=t,this.parsedPath=n||ni.parseTrackName(t),this.node=ni.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new ni.Composite(e,t,n):new ni(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(L8,"")}static parseTrackName(e){const t=H8.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=n.nodeName.substring(r+1);G8.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(s){for(let a=0;a<s.length;a++){const l=s[a];if(l.name===t||l.uuid===t)return l;const c=n(l.children);if(c)return c}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=ni.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let h=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===h){h=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(h!==void 0){if(e[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const a=e[r];if(a===void 0){const h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ni.Composite=V8;ni.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ni.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ni.prototype.GetterByBindingType=[ni.prototype._getValue_direct,ni.prototype._getValue_array,ni.prototype._getValue_arrayElement,ni.prototype._getValue_toArray];ni.prototype.SetterByBindingTypeAndVersioning=[[ni.prototype._setValue_direct,ni.prototype._setValue_direct_setNeedsUpdate,ni.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ni.prototype._setValue_array,ni.prototype._setValue_array_setNeedsUpdate,ni.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ni.prototype._setValue_arrayElement,ni.prototype._setValue_arrayElement_setNeedsUpdate,ni.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ni.prototype._setValue_fromArray,ni.prototype._setValue_fromArray_setNeedsUpdate,ni.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class k8{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ho(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let l,c=e.length,h=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const v=arguments[m],_=v.uuid;let S=t[_];if(S===void 0){S=c++,t[_]=S,e.push(v);for(let M=0,b=a;M!==b;++M)s[M].push(new ni(v,n[M],r[M]))}else if(S<h){l=e[S];const M=--h,b=e[M];t[b.uuid]=S,e[S]=b,t[_]=M,e[M]=v;for(let A=0,C=a;A!==C;++A){const w=s[A],B=w[M];let L=w[S];w[S]=B,L===void 0&&(L=new ni(v,n[A],r[A])),w[M]=L}}else e[S]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],h=c.uuid,m=t[h];if(m!==void 0&&m>=s){const g=s++,v=e[g];t[v.uuid]=m,e[m]=v,t[h]=g,e[g]=c;for(let _=0,S=r;_!==S;++_){const M=n[_],b=M[g],A=M[m];M[m]=b,M[g]=A}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_,a=e.length;for(let l=0,c=arguments.length;l!==c;++l){const h=arguments[l],m=h.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<s){const v=--s,_=e[v],S=--a,M=e[S];t[_.uuid]=g,e[g]=_,t[M.uuid]=v,e[v]=M,e.pop();for(let b=0,A=r;b!==A;++b){const C=n[b],w=C[v],B=C[S];C[g]=w,C[v]=B,C.pop()}}else{const v=--a,_=e[v];v>0&&(t[_.uuid]=g),e[g]=_,e.pop();for(let S=0,M=r;S!==M;++S){const b=n[S];b[g]=b[v],b.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,l=this._parsedPaths,c=this._objects,h=c.length,m=this.nCachedObjects_,g=new Array(h);r=s.length,n[e]=r,a.push(e),l.push(t),s.push(g);for(let v=m,_=c.length;v!==_;++v){const S=c[v];g[v]=new ni(S,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,l=a.length-1,c=a[l],h=e[l];t[h]=n,a[n]=c,a.pop(),s[n]=s[l],s.pop(),r[n]=r[l],r.pop()}}}class NN{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const s=t.tracks,a=s.length,l=new Array(a),c={endingStart:Ld,endingEnd:Ld};for(let h=0;h!==a;++h){const m=s[h].createInterpolant(null);l[h]=m,m.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=wL,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const r=this._clip.duration,s=e._clip.duration,a=s/r,l=r/s;e.warp(1,a,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,s=r.time,a=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const c=l.parameterPositions,h=l.sampleValues;return c[0]=s,c[1]=s+n,h[0]=e/a,h[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*n;c<0||n===0?t=0:(this._startTime=null,t=n*c)}t*=this._updateTimeScale(e);const a=this._updateTime(t),l=this._updateWeight(e);if(l>0){const c=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case n2:for(let m=0,g=c.length;m!==g;++m)c[m].evaluate(a),h[m].accumulateAdditive(l);break;case ab:default:for(let m=0,g=c.length;m!==g;++m)c[m].evaluate(a),h[m].accumulate(r,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,s=this._loopCount;const a=n===RL;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(n===CL){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const l=Math.floor(r/t);r-=t*l,s+=Math.abs(l);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const h=e<0;this._setEndings(h,!h,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Nd,r.endingEnd=Nd):(e?r.endingStart=this.zeroSlopeAtStart?Nd:Ld:r.endingStart=yy,t?r.endingEnd=this.zeroSlopeAtEnd?Nd:Ld:r.endingEnd=yy)}_scheduleFading(e,t,n){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,c[0]=t,l[1]=s+e,c[1]=n,this}}const X8=new Float32Array(1);class Y8 extends _o{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,l=e._interpolants,c=n.uuid,h=this._bindingsByRootAndName;let m=h[c];m===void 0&&(m={},h[c]=m);for(let g=0;g!==s;++g){const v=r[g],_=v.name;let S=m[_];if(S!==void 0)++S.referenceCount,a[g]=S;else{if(S=a[g],S!==void 0){S._cacheIndex===null&&(++S.referenceCount,this._addInactiveBinding(S,c,_));continue}const M=t&&t._propertyBindings[g].binding.parsedPath;S=new LN(ni.create(n,_,M),v.ValueTypeName,v.getValueSize()),++S.referenceCount,this._addInactiveBinding(S,c,_),a[g]=S}l[g].resultBuffer=S.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const l=a.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,l=a[s],c=l.knownActions,h=c[c.length-1],m=e._byClipCacheIndex;h._byClipCacheIndex=m,c[m]=h,c.pop(),e._byClipCacheIndex=null;const g=l.actionByRoot,v=(e._localRoot||this._root).uuid;delete g[v],c.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,s=n.path,a=this._bindingsByRootAndName,l=a[r],c=t[t.length-1],h=e._cacheIndex;c._cacheIndex=h,t[h]=c,t.pop(),delete l[s],Object.keys(l).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new E2(new Float32Array(2),new Float32Array(2),1,X8),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?Rg.findByName(r,e):e;const l=a!==null?a.uuid:e,c=this._actionsByClip[l];let h=null;if(n===void 0&&(a!==null?n=a.blendMode:n=ab),c!==void 0){const g=c.actionByRoot[s];if(g!==void 0&&g.blendMode===n)return g;h=c.knownActions[0],a===null&&(a=h._clip)}if(a===null)return null;const m=new NN(this,a,t,n);return this._bindAction(m,h),this._addInactiveAction(m,l,s),m}existingAction(e,t){const n=t||this._root,r=n.uuid,s=typeof e=="string"?Rg.findByName(n,e):e,a=s?s.uuid:e,l=this._actionsByClip[a];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let h=0;h!==n;++h)t[h]._update(r,e,s,a);const l=this._bindings,c=this._nActiveBindings;for(let h=0;h!==c;++h)l[h].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,s=r[n];if(s!==void 0){const a=s.knownActions;for(let l=0,c=a.length;l!==c;++l){const h=a[l];this._deactivateAction(h);const m=h._cacheIndex,g=t[t.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(h)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const a in n){const l=n[a].actionByRoot,c=l[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const l=s[a];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class j8 extends a2{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=n,this.texture=new lb(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class ri{constructor(e){this.value=e}clone(){return new ri(this.value.clone===void 0?this.value:this.value.clone())}}let q8=0;class W8 extends _o{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:q8++}),this.name="",this.usage=xy,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const s=Array.isArray(t[n])?t[n]:[t[n]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class K8 extends Qy{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class J8{constructor(e,t,n,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const TD=new an;class P2{constructor(e,t,n=0,r=1/0){this.ray=new yp(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new Tg,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return TD.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(TD),this}intersectObject(e,t=!0,n=[]){return IT(e,this,n,t),n.sort(CD),n}intersectObjects(e,t=!0,n=[]){for(let r=0,s=e.length;r<s;r++)IT(e[r],this,n,t);return n.sort(CD),n}}function CD(i,e){return i.distance-e.distance}function IT(i,e,t,n){let r=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(r=!1),r===!0&&n===!0){const s=i.children;for(let a=0,l=s.length;a<l;a++)IT(s[a],e,t,!0)}}class FT{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=bn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(bn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Z8{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class I2{constructor(e,t,n,r){I2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=n,s[3]=r,this}}const wD=new Ye;class Q8{constructor(e=new Ye(1/0,1/0),t=new Ye(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=wD.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,wD).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const RD=new te,Ix=new te;class $8{constructor(e=new te,t=new te){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){RD.subVectors(e,this.start),Ix.subVectors(this.end,this.start);const n=Ix.dot(Ix);let s=Ix.dot(RD)/n;return t&&(s=bn(s,0,1)),s}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const BD=new te;class e6 extends Qn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new xn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,l=1,c=32;a<c;a++,l++){const h=a/c*Math.PI*2,m=l/c*Math.PI*2;r.push(Math.cos(h),Math.sin(h),1,Math.cos(m),Math.sin(m),1)}n.setAttribute("position",new jt(r,3));const s=new js({fog:!1,toneMapped:!1});this.cone=new Xl(n,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),BD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(BD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Lf=new te,Fx=new an,gE=new an;class t6 extends Xl{constructor(e){const t=PN(e),n=new xn,r=[],s=[],a=new wt(0,0,1),l=new wt(0,1,0);for(let h=0;h<t.length;h++){const m=t[h];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(l.r,l.g,l.b))}n.setAttribute("position",new jt(r,3)),n.setAttribute("color",new jt(s,3));const c=new js({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");gE.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const l=t[s];l.parent&&l.parent.isBone&&(Fx.multiplyMatrices(gE,l.matrixWorld),Lf.setFromMatrixPosition(Fx),r.setXYZ(a,Lf.x,Lf.y,Lf.z),Fx.multiplyMatrices(gE,l.parent.matrixWorld),Lf.setFromMatrixPosition(Fx),r.setXYZ(a+1,Lf.x,Lf.y,Lf.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function PN(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push(...PN(i.children[t]));return e}class n6 extends zi{constructor(e,t,n){const r=new r_(t,4,2),s=new Ia({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const i6=new te,DD=new wt,OD=new wt;class r6 extends Qn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new i_(t);r.rotateY(Math.PI*.5),this.material=new Ia({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new $n(a,3)),this.add(new zi(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");DD.copy(this.light.color),OD.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const s=n<r/2?DD:OD;t.setXYZ(n,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(i6.setFromMatrixPosition(this.light.matrixWorld).negate())}}class s6 extends Xl{constructor(e=10,t=10,n=4473924,r=8947848){n=new wt(n),r=new wt(r);const s=t/2,a=e/t,l=e/2,c=[],h=[];for(let v=0,_=0,S=-l;v<=t;v++,S+=a){c.push(-l,0,S,l,0,S),c.push(S,0,-l,S,0,l);const M=v===s?n:r;M.toArray(h,_),_+=3,M.toArray(h,_),_+=3,M.toArray(h,_),_+=3,M.toArray(h,_),_+=3}const m=new xn;m.setAttribute("position",new jt(c,3)),m.setAttribute("color",new jt(h,3));const g=new js({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class a6 extends Xl{constructor(e=10,t=16,n=8,r=64,s=4473924,a=8947848){s=new wt(s),a=new wt(a);const l=[],c=[];if(t>1)for(let g=0;g<t;g++){const v=g/t*(Math.PI*2),_=Math.sin(v)*e,S=Math.cos(v)*e;l.push(0,0,0),l.push(_,0,S);const M=g&1?s:a;c.push(M.r,M.g,M.b),c.push(M.r,M.g,M.b)}for(let g=0;g<n;g++){const v=g&1?s:a,_=e-e/n*g;for(let S=0;S<r;S++){let M=S/r*(Math.PI*2),b=Math.sin(M)*_,A=Math.cos(M)*_;l.push(b,0,A),c.push(v.r,v.g,v.b),M=(S+1)/r*(Math.PI*2),b=Math.sin(M)*_,A=Math.cos(M)*_,l.push(b,0,A),c.push(v.r,v.g,v.b)}}const h=new xn;h.setAttribute("position",new jt(l,3)),h.setAttribute("color",new jt(c,3));const m=new js({vertexColors:!0,toneMapped:!1});super(h,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const UD=new te,zx=new te,LD=new te;class o6 extends Qn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new xn;r.setAttribute("position",new jt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new js({fog:!1,toneMapped:!1});this.lightPlane=new Bc(r,s),this.add(this.lightPlane),r=new xn,r.setAttribute("position",new jt([0,0,0,0,0,1],3)),this.targetLine=new Bc(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),UD.setFromMatrixPosition(this.light.matrixWorld),zx.setFromMatrixPosition(this.light.target.matrixWorld),LD.subVectors(zx,UD),this.lightPlane.lookAt(zx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(zx),this.targetLine.scale.z=LD.length()}}const Hx=new te,lr=new Jy;class l6 extends Xl{constructor(e){const t=new xn,n=new js({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(S,M){c(S),c(M)}function c(S){r.push(0,0,0),s.push(0,0,0),a[S]===void 0&&(a[S]=[]),a[S].push(r.length/3-1)}t.setAttribute("position",new jt(r,3)),t.setAttribute("color",new jt(s,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const h=new wt(16755200),m=new wt(16711680),g=new wt(43775),v=new wt(16777215),_=new wt(3355443);this.setColors(h,m,g,v,_)}setColors(e,t,n,r,s){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,n.r,n.g,n.b),l.setXYZ(33,n.r,n.g,n.b),l.setXYZ(34,n.r,n.g,n.b),l.setXYZ(35,n.r,n.g,n.b),l.setXYZ(36,n.r,n.g,n.b),l.setXYZ(37,n.r,n.g,n.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,s.r,s.g,s.b),l.setXYZ(41,s.r,s.g,s.b),l.setXYZ(42,s.r,s.g,s.b),l.setXYZ(43,s.r,s.g,s.b),l.setXYZ(44,s.r,s.g,s.b),l.setXYZ(45,s.r,s.g,s.b),l.setXYZ(46,s.r,s.g,s.b),l.setXYZ(47,s.r,s.g,s.b),l.setXYZ(48,s.r,s.g,s.b),l.setXYZ(49,s.r,s.g,s.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;lr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===Ko?-1:0;_r("c",t,e,lr,0,0,s),_r("t",t,e,lr,0,0,1),_r("n1",t,e,lr,-1,-1,s),_r("n2",t,e,lr,n,-1,s),_r("n3",t,e,lr,-1,r,s),_r("n4",t,e,lr,n,r,s),_r("f1",t,e,lr,-1,-1,1),_r("f2",t,e,lr,n,-1,1),_r("f3",t,e,lr,-1,r,1),_r("f4",t,e,lr,n,r,1),_r("u1",t,e,lr,n*.7,r*1.1,s),_r("u2",t,e,lr,-1*.7,r*1.1,s),_r("u3",t,e,lr,0,r*2,s),_r("cf1",t,e,lr,-1,0,1),_r("cf2",t,e,lr,n,0,1),_r("cf3",t,e,lr,0,-1,1),_r("cf4",t,e,lr,0,r,1),_r("cn1",t,e,lr,-1,0,s),_r("cn2",t,e,lr,n,0,s),_r("cn3",t,e,lr,0,-1,s),_r("cn4",t,e,lr,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function _r(i,e,t,n,r,s,a){Hx.set(r,s,a).unproject(n);const l=e[i];if(l!==void 0){const c=t.getAttribute("position");for(let h=0,m=l.length;h<m;h++)c.setXYZ(l[h],Hx.x,Hx.y,Hx.z)}}const Gx=new Ss;class u6 extends Xl{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new xn;s.setIndex(new $n(n,1)),s.setAttribute("position",new $n(r,3)),super(s,new js({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Gx.setFromObject(this.object),Gx.isEmpty())return;const e=Gx.min,t=Gx.max,n=this.geometry.attributes.position,r=n.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class c6 extends Xl{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new xn;s.setIndex(new $n(n,1)),s.setAttribute("position",new jt(r,3)),super(s,new js({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class f6 extends Bc{constructor(e,t=1,n=16776960){const r=n,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new xn;a.setAttribute("position",new jt(s,3)),a.computeBoundingSphere(),super(a,new js({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new xn;c.setAttribute("position",new jt(l,3)),c.computeBoundingSphere(),this.add(new zi(c,new Ia({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const ND=new te;let Vx,vE;class h6 extends Qn{constructor(e=new te(0,0,1),t=new te(0,0,0),n=1,r=16776960,s=n*.2,a=s*.2){super(),this.type="ArrowHelper",Vx===void 0&&(Vx=new xn,Vx.setAttribute("position",new jt([0,0,0,0,1,0],3)),vE=new t_(.5,1,5,1),vE.translate(0,-.5,0)),this.position.copy(t),this.line=new Bc(Vx,new js({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new zi(vE,new Ia({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{ND.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(ND,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class d6 extends Xl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new xn;r.setAttribute("position",new jt(t,3)),r.setAttribute("color",new jt(n,3));const s=new js({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,n){const r=new wt,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(n),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class p6{constructor(){this.type="ShapePath",this.color=new wt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new bA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,s,a){return this.currentPath.bezierCurveTo(e,t,n,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(A){const C=[];for(let w=0,B=A.length;w<B;w++){const L=A[w],N=new jd;N.curves=L.curves,C.push(N)}return C}function n(A,C){const w=C.length;let B=!1;for(let L=w-1,N=0;N<w;L=N++){let I=C[L],P=C[N],U=P.x-I.x,O=P.y-I.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(I=C[N],U=-U,P=C[L],O=-O),A.y<I.y||A.y>P.y)continue;if(A.y===I.y){if(A.x===I.x)return!0}else{const H=O*(A.x-I.x)-U*(A.y-I.y);if(H===0)return!0;if(H<0)continue;B=!B}}else{if(A.y!==I.y)continue;if(P.x<=A.x&&A.x<=I.x||I.x<=A.x&&A.x<=P.x)return!0}}return B}const r=Il.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,l,c;const h=[];if(s.length===1)return l=s[0],c=new jd,c.curves=l.curves,h.push(c),h;let m=!r(s[0].getPoints());m=e?!m:m;const g=[],v=[];let _=[],S=0,M;v[S]=void 0,_[S]=[];for(let A=0,C=s.length;A<C;A++)l=s[A],M=l.getPoints(),a=r(M),a=e?!a:a,a?(!m&&v[S]&&S++,v[S]={s:new jd,p:M},v[S].s.curves=l.curves,m&&S++,_[S]=[]):_[S].push({h:l,p:M[0]});if(!v[0])return t(s);if(v.length>1){let A=!1,C=0;for(let w=0,B=v.length;w<B;w++)g[w]=[];for(let w=0,B=v.length;w<B;w++){const L=_[w];for(let N=0;N<L.length;N++){const I=L[N];let P=!0;for(let U=0;U<v.length;U++)n(I.p,v[U].p)&&(w!==U&&C++,P?(P=!1,g[U].push(I)):A=!0);P&&g[w].push(I)}}C>0&&A===!1&&(_=g)}let b;for(let A=0,C=v.length;A<C;A++){c=v[A].s,h.push(c),b=_[A];for(let w=0,B=b.length;w<B;w++)c.holes.push(b[w].h)}return h}}class m6 extends _o{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function g6(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function v6(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function y6(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function zT(i,e,t,n){const r=_6(n);switch(t){case QC:return i*e;case Wy:return i*e/r.components*r.byteLength;case Ky:return i*e/r.components*r.byteLength;case e2:return i*e*2/r.components*r.byteLength;case rb:return i*e*2/r.components*r.byteLength;case $C:return i*e*3/r.components*r.byteLength;case br:return i*e*4/r.components*r.byteLength;case sb:return i*e*4/r.components*r.byteLength;case kv:case Xv:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case Yv:case jv:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case WS:case JS:return Math.max(i,16)*Math.max(e,8)/4;case qS:case KS:return Math.max(i,8)*Math.max(e,8)/2;case ZS:case QS:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case $S:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case eA:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case tA:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case nA:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case iA:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case rA:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case sA:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case aA:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case oA:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case lA:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case uA:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case cA:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case fA:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case hA:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case dA:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case qv:case pA:case mA:return Math.ceil(i/4)*Math.ceil(e/4)*16;case t2:case gA:return Math.ceil(i/4)*Math.ceil(e/4)*8;case vA:case yA:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function _6(i){switch(i){case hr:case eb:return{byteLength:1,components:1};case Sg:case tb:case Wr:return{byteLength:2,components:1};case nb:case ib:return{byteLength:2,components:4};case Vl:case qy:case qi:return{byteLength:4,components:1};case ZC:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class x6{static contain(e,t){return g6(e,t)}static cover(e,t){return v6(e,t)}static fill(e){return y6(e)}static getByteLength(e,t,n,r){return zT(e,t,n,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:vp}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=vp);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function IN(){let i=null,e=!1,t=null,n=null;function r(s,a){t(s,a),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){i=s}}}function S6(i){const e=new WeakMap;function t(l,c){const h=l.array,m=l.usage,g=h.byteLength,v=i.createBuffer();i.bindBuffer(c,v),i.bufferData(c,h,m),l.onUploadCallback();let _;if(h instanceof Float32Array)_=i.FLOAT;else if(h instanceof Uint16Array)l.isFloat16BufferAttribute?_=i.HALF_FLOAT:_=i.UNSIGNED_SHORT;else if(h instanceof Int16Array)_=i.SHORT;else if(h instanceof Uint32Array)_=i.UNSIGNED_INT;else if(h instanceof Int32Array)_=i.INT;else if(h instanceof Int8Array)_=i.BYTE;else if(h instanceof Uint8Array)_=i.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)_=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:v,type:_,bytesPerElement:h.BYTES_PER_ELEMENT,version:l.version,size:g}}function n(l,c,h){const m=c.array,g=c.updateRanges;if(i.bindBuffer(h,l),g.length===0)i.bufferSubData(h,0,m);else{g.sort((_,S)=>_.start-S.start);let v=0;for(let _=1;_<g.length;_++){const S=g[v],M=g[_];M.start<=S.start+S.count+1?S.count=Math.max(S.count,M.start+M.count-S.start):(++v,g[v]=M)}g.length=v+1;for(let _=0,S=g.length;_<S;_++){const M=g[_];i.bufferSubData(h,M.start*m.BYTES_PER_ELEMENT,m,M.start,M.count)}c.clearUpdateRanges()}c.onUploadCallback()}function r(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function s(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=e.get(l);c&&(i.deleteBuffer(c.buffer),e.delete(l))}function a(l,c){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const m=e.get(l);(!m||m.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const h=e.get(l);if(h===void 0)e.set(l,t(l,c));else if(h.version<l.version){if(h.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(h.buffer,l,c),h.version=l.version}}return{get:r,remove:s,update:a}}var A6=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,b6=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,M6=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,E6=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,T6=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,C6=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,w6=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,R6=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,B6=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,D6=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,O6=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,U6=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,L6=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,N6=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,P6=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,I6=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,F6=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,z6=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,H6=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,G6=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,V6=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,k6=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,X6=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Y6=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,j6=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,q6=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,W6=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,K6=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,J6=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Z6=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Q6="gl_FragColor = linearToOutputTexel( gl_FragColor );",$6=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,eG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,tG=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,nG=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,iG=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,rG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,sG=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,aG=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,oG=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,lG=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,uG=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,cG=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,fG=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,hG=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,dG=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,pG=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,mG=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,gG=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,vG=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,yG=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,_G=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,xG=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,SG=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,AG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,bG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,MG=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,EG=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,TG=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,CG=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,wG=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,RG=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,BG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,DG=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,OG=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,UG=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,LG=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,NG=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,PG=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,IG=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,FG=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,zG=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,HG=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,GG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,VG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,kG=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,XG=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,YG=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,jG=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,qG=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,WG=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,KG=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,JG=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,ZG=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,QG=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,$G=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,e9=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,t9=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,n9=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,i9=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,r9=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,s9=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,a9=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,o9=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,l9=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,u9=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,c9=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,f9=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,h9=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,d9=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,p9=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,m9=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,g9=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,v9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,y9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,_9=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,x9=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const S9=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,A9=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,b9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,M9=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,E9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,T9=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,C9=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,w9=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,R9=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,B9=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,D9=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,O9=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,U9=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,L9=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,N9=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,P9=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,I9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,F9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,z9=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,H9=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,G9=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,V9=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,k9=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,X9=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Y9=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,j9=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,q9=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,W9=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,K9=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,J9=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Z9=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Q9=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,$9=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,eV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Dn={alphahash_fragment:A6,alphahash_pars_fragment:b6,alphamap_fragment:M6,alphamap_pars_fragment:E6,alphatest_fragment:T6,alphatest_pars_fragment:C6,aomap_fragment:w6,aomap_pars_fragment:R6,batching_pars_vertex:B6,batching_vertex:D6,begin_vertex:O6,beginnormal_vertex:U6,bsdfs:L6,iridescence_fragment:N6,bumpmap_pars_fragment:P6,clipping_planes_fragment:I6,clipping_planes_pars_fragment:F6,clipping_planes_pars_vertex:z6,clipping_planes_vertex:H6,color_fragment:G6,color_pars_fragment:V6,color_pars_vertex:k6,color_vertex:X6,common:Y6,cube_uv_reflection_fragment:j6,defaultnormal_vertex:q6,displacementmap_pars_vertex:W6,displacementmap_vertex:K6,emissivemap_fragment:J6,emissivemap_pars_fragment:Z6,colorspace_fragment:Q6,colorspace_pars_fragment:$6,envmap_fragment:eG,envmap_common_pars_fragment:tG,envmap_pars_fragment:nG,envmap_pars_vertex:iG,envmap_physical_pars_fragment:pG,envmap_vertex:rG,fog_vertex:sG,fog_pars_vertex:aG,fog_fragment:oG,fog_pars_fragment:lG,gradientmap_pars_fragment:uG,lightmap_pars_fragment:cG,lights_lambert_fragment:fG,lights_lambert_pars_fragment:hG,lights_pars_begin:dG,lights_toon_fragment:mG,lights_toon_pars_fragment:gG,lights_phong_fragment:vG,lights_phong_pars_fragment:yG,lights_physical_fragment:_G,lights_physical_pars_fragment:xG,lights_fragment_begin:SG,lights_fragment_maps:AG,lights_fragment_end:bG,logdepthbuf_fragment:MG,logdepthbuf_pars_fragment:EG,logdepthbuf_pars_vertex:TG,logdepthbuf_vertex:CG,map_fragment:wG,map_pars_fragment:RG,map_particle_fragment:BG,map_particle_pars_fragment:DG,metalnessmap_fragment:OG,metalnessmap_pars_fragment:UG,morphinstance_vertex:LG,morphcolor_vertex:NG,morphnormal_vertex:PG,morphtarget_pars_vertex:IG,morphtarget_vertex:FG,normal_fragment_begin:zG,normal_fragment_maps:HG,normal_pars_fragment:GG,normal_pars_vertex:VG,normal_vertex:kG,normalmap_pars_fragment:XG,clearcoat_normal_fragment_begin:YG,clearcoat_normal_fragment_maps:jG,clearcoat_pars_fragment:qG,iridescence_pars_fragment:WG,opaque_fragment:KG,packing:JG,premultiplied_alpha_fragment:ZG,project_vertex:QG,dithering_fragment:$G,dithering_pars_fragment:e9,roughnessmap_fragment:t9,roughnessmap_pars_fragment:n9,shadowmap_pars_fragment:i9,shadowmap_pars_vertex:r9,shadowmap_vertex:s9,shadowmask_pars_fragment:a9,skinbase_vertex:o9,skinning_pars_vertex:l9,skinning_vertex:u9,skinnormal_vertex:c9,specularmap_fragment:f9,specularmap_pars_fragment:h9,tonemapping_fragment:d9,tonemapping_pars_fragment:p9,transmission_fragment:m9,transmission_pars_fragment:g9,uv_pars_fragment:v9,uv_pars_vertex:y9,uv_vertex:_9,worldpos_vertex:x9,background_vert:S9,background_frag:A9,backgroundCube_vert:b9,backgroundCube_frag:M9,cube_vert:E9,cube_frag:T9,depth_vert:C9,depth_frag:w9,distanceRGBA_vert:R9,distanceRGBA_frag:B9,equirect_vert:D9,equirect_frag:O9,linedashed_vert:U9,linedashed_frag:L9,meshbasic_vert:N9,meshbasic_frag:P9,meshlambert_vert:I9,meshlambert_frag:F9,meshmatcap_vert:z9,meshmatcap_frag:H9,meshnormal_vert:G9,meshnormal_frag:V9,meshphong_vert:k9,meshphong_frag:X9,meshphysical_vert:Y9,meshphysical_frag:j9,meshtoon_vert:q9,meshtoon_frag:W9,points_vert:K9,points_frag:J9,shadow_vert:Z9,shadow_frag:Q9,sprite_vert:$9,sprite_frag:eV},Ut={common:{diffuse:{value:new wt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Tn},alphaMap:{value:null},alphaMapTransform:{value:new Tn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Tn}},envmap:{envMap:{value:null},envMapRotation:{value:new Tn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Tn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Tn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Tn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Tn},normalScale:{value:new Ye(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Tn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Tn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Tn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Tn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new wt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new wt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Tn},alphaTest:{value:0},uvTransform:{value:new Tn}},sprite:{diffuse:{value:new wt(16777215)},opacity:{value:1},center:{value:new Ye(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Tn},alphaMap:{value:null},alphaMapTransform:{value:new Tn},alphaTest:{value:0}}},Nl={basic:{uniforms:fa([Ut.common,Ut.specularmap,Ut.envmap,Ut.aomap,Ut.lightmap,Ut.fog]),vertexShader:Dn.meshbasic_vert,fragmentShader:Dn.meshbasic_frag},lambert:{uniforms:fa([Ut.common,Ut.specularmap,Ut.envmap,Ut.aomap,Ut.lightmap,Ut.emissivemap,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,Ut.fog,Ut.lights,{emissive:{value:new wt(0)}}]),vertexShader:Dn.meshlambert_vert,fragmentShader:Dn.meshlambert_frag},phong:{uniforms:fa([Ut.common,Ut.specularmap,Ut.envmap,Ut.aomap,Ut.lightmap,Ut.emissivemap,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,Ut.fog,Ut.lights,{emissive:{value:new wt(0)},specular:{value:new wt(1118481)},shininess:{value:30}}]),vertexShader:Dn.meshphong_vert,fragmentShader:Dn.meshphong_frag},standard:{uniforms:fa([Ut.common,Ut.envmap,Ut.aomap,Ut.lightmap,Ut.emissivemap,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,Ut.roughnessmap,Ut.metalnessmap,Ut.fog,Ut.lights,{emissive:{value:new wt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Dn.meshphysical_vert,fragmentShader:Dn.meshphysical_frag},toon:{uniforms:fa([Ut.common,Ut.aomap,Ut.lightmap,Ut.emissivemap,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,Ut.gradientmap,Ut.fog,Ut.lights,{emissive:{value:new wt(0)}}]),vertexShader:Dn.meshtoon_vert,fragmentShader:Dn.meshtoon_frag},matcap:{uniforms:fa([Ut.common,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,Ut.fog,{matcap:{value:null}}]),vertexShader:Dn.meshmatcap_vert,fragmentShader:Dn.meshmatcap_frag},points:{uniforms:fa([Ut.points,Ut.fog]),vertexShader:Dn.points_vert,fragmentShader:Dn.points_frag},dashed:{uniforms:fa([Ut.common,Ut.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Dn.linedashed_vert,fragmentShader:Dn.linedashed_frag},depth:{uniforms:fa([Ut.common,Ut.displacementmap]),vertexShader:Dn.depth_vert,fragmentShader:Dn.depth_frag},normal:{uniforms:fa([Ut.common,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,{opacity:{value:1}}]),vertexShader:Dn.meshnormal_vert,fragmentShader:Dn.meshnormal_frag},sprite:{uniforms:fa([Ut.sprite,Ut.fog]),vertexShader:Dn.sprite_vert,fragmentShader:Dn.sprite_frag},background:{uniforms:{uvTransform:{value:new Tn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Dn.background_vert,fragmentShader:Dn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Tn}},vertexShader:Dn.backgroundCube_vert,fragmentShader:Dn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Dn.cube_vert,fragmentShader:Dn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Dn.equirect_vert,fragmentShader:Dn.equirect_frag},distanceRGBA:{uniforms:fa([Ut.common,Ut.displacementmap,{referencePosition:{value:new te},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Dn.distanceRGBA_vert,fragmentShader:Dn.distanceRGBA_frag},shadow:{uniforms:fa([Ut.lights,Ut.fog,{color:{value:new wt(0)},opacity:{value:1}}]),vertexShader:Dn.shadow_vert,fragmentShader:Dn.shadow_frag}};Nl.physical={uniforms:fa([Nl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Tn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Tn},clearcoatNormalScale:{value:new Ye(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Tn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Tn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Tn},sheen:{value:0},sheenColor:{value:new wt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Tn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Tn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Tn},transmissionSamplerSize:{value:new Ye},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Tn},attenuationDistance:{value:0},attenuationColor:{value:new wt(0)},specularColor:{value:new wt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Tn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Tn},anisotropyVector:{value:new Ye},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Tn}}]),vertexShader:Dn.meshphysical_vert,fragmentShader:Dn.meshphysical_frag};const kx={r:0,b:0,g:0},yd=new go,tV=new an;function nV(i,e,t,n,r,s,a){const l=new wt(0);let c=s===!0?0:1,h,m,g=null,v=0,_=null;function S(w){let B=w.isScene===!0?w.background:null;return B&&B.isTexture&&(B=(w.backgroundBlurriness>0?t:e).get(B)),B}function M(w){let B=!1;const L=S(w);L===null?A(l,c):L&&L.isColor&&(A(L,1),B=!0);const N=i.xr.getEnvironmentBlendMode();N==="additive"?n.buffers.color.setClear(0,0,0,1,a):N==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,a),(i.autoClear||B)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function b(w,B){const L=S(B);L&&(L.isCubeTexture||L.mapping===Gg)?(m===void 0&&(m=new zi(new _p(1,1,1),new pr({name:"BackgroundCubeMaterial",uniforms:Cg(Nl.backgroundCube.uniforms),vertexShader:Nl.backgroundCube.vertexShader,fragmentShader:Nl.backgroundCube.fragmentShader,side:qr,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(N,I,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),yd.copy(B.backgroundRotation),yd.x*=-1,yd.y*=-1,yd.z*=-1,L.isCubeTexture&&L.isRenderTargetTexture===!1&&(yd.y*=-1,yd.z*=-1),m.material.uniforms.envMap.value=L,m.material.uniforms.flipEnvMap.value=L.isCubeTexture&&L.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=B.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=B.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(tV.makeRotationFromEuler(yd)),m.material.toneMapped=Wn.getTransfer(L.colorSpace)!==bi,(g!==L||v!==L.version||_!==i.toneMapping)&&(m.material.needsUpdate=!0,g=L,v=L.version,_=i.toneMapping),m.layers.enableAll(),w.unshift(m,m.geometry,m.material,0,0,null)):L&&L.isTexture&&(h===void 0&&(h=new zi(new fh(2,2),new pr({name:"BackgroundMaterial",uniforms:Cg(Nl.background.uniforms),vertexShader:Nl.background.vertexShader,fragmentShader:Nl.background.fragmentShader,side:Gl,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(h)),h.material.uniforms.t2D.value=L,h.material.uniforms.backgroundIntensity.value=B.backgroundIntensity,h.material.toneMapped=Wn.getTransfer(L.colorSpace)!==bi,L.matrixAutoUpdate===!0&&L.updateMatrix(),h.material.uniforms.uvTransform.value.copy(L.matrix),(g!==L||v!==L.version||_!==i.toneMapping)&&(h.material.needsUpdate=!0,g=L,v=L.version,_=i.toneMapping),h.layers.enableAll(),w.unshift(h,h.geometry,h.material,0,0,null))}function A(w,B){w.getRGB(kx,YL(i)),n.buffers.color.setClear(kx.r,kx.g,kx.b,B,a)}function C(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0)}return{getClearColor:function(){return l},setClearColor:function(w,B=1){l.set(w),c=B,A(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(w){c=w,A(l,c)},render:M,addToRenderList:b,dispose:C}}function iV(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},r=v(null);let s=r,a=!1;function l(O,H,V,W,K){let ae=!1;const G=g(W,V,H);s!==G&&(s=G,h(s.object)),ae=_(O,W,V,K),ae&&S(O,W,V,K),K!==null&&e.update(K,i.ELEMENT_ARRAY_BUFFER),(ae||a)&&(a=!1,B(O,H,V,W),K!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(K).buffer))}function c(){return i.createVertexArray()}function h(O){return i.bindVertexArray(O)}function m(O){return i.deleteVertexArray(O)}function g(O,H,V){const W=V.wireframe===!0;let K=n[O.id];K===void 0&&(K={},n[O.id]=K);let ae=K[H.id];ae===void 0&&(ae={},K[H.id]=ae);let G=ae[W];return G===void 0&&(G=v(c()),ae[W]=G),G}function v(O){const H=[],V=[],W=[];for(let K=0;K<t;K++)H[K]=0,V[K]=0,W[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:V,attributeDivisors:W,object:O,attributes:{},index:null}}function _(O,H,V,W){const K=s.attributes,ae=H.attributes;let G=0;const q=V.getAttributes();for(const $ in q)if(q[$].location>=0){const z=K[$];let oe=ae[$];if(oe===void 0&&($==="instanceMatrix"&&O.instanceMatrix&&(oe=O.instanceMatrix),$==="instanceColor"&&O.instanceColor&&(oe=O.instanceColor)),z===void 0||z.attribute!==oe||oe&&z.data!==oe.data)return!0;G++}return s.attributesNum!==G||s.index!==W}function S(O,H,V,W){const K={},ae=H.attributes;let G=0;const q=V.getAttributes();for(const $ in q)if(q[$].location>=0){let z=ae[$];z===void 0&&($==="instanceMatrix"&&O.instanceMatrix&&(z=O.instanceMatrix),$==="instanceColor"&&O.instanceColor&&(z=O.instanceColor));const oe={};oe.attribute=z,z&&z.data&&(oe.data=z.data),K[$]=oe,G++}s.attributes=K,s.attributesNum=G,s.index=W}function M(){const O=s.newAttributes;for(let H=0,V=O.length;H<V;H++)O[H]=0}function b(O){A(O,0)}function A(O,H){const V=s.newAttributes,W=s.enabledAttributes,K=s.attributeDivisors;V[O]=1,W[O]===0&&(i.enableVertexAttribArray(O),W[O]=1),K[O]!==H&&(i.vertexAttribDivisor(O,H),K[O]=H)}function C(){const O=s.newAttributes,H=s.enabledAttributes;for(let V=0,W=H.length;V<W;V++)H[V]!==O[V]&&(i.disableVertexAttribArray(V),H[V]=0)}function w(O,H,V,W,K,ae,G){G===!0?i.vertexAttribIPointer(O,H,V,K,ae):i.vertexAttribPointer(O,H,V,W,K,ae)}function B(O,H,V,W){M();const K=W.attributes,ae=V.getAttributes(),G=H.defaultAttributeValues;for(const q in ae){const $=ae[q];if($.location>=0){let pe=K[q];if(pe===void 0&&(q==="instanceMatrix"&&O.instanceMatrix&&(pe=O.instanceMatrix),q==="instanceColor"&&O.instanceColor&&(pe=O.instanceColor)),pe!==void 0){const z=pe.normalized,oe=pe.itemSize,ve=e.get(pe);if(ve===void 0)continue;const Ae=ve.buffer,se=ve.type,Te=ve.bytesPerElement,we=se===i.INT||se===i.UNSIGNED_INT||pe.gpuType===qy;if(pe.isInterleavedBufferAttribute){const Fe=pe.data,Ue=Fe.stride,dt=pe.offset;if(Fe.isInstancedInterleavedBuffer){for(let At=0;At<$.locationSize;At++)A($.location+At,Fe.meshPerAttribute);O.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=Fe.meshPerAttribute*Fe.count)}else for(let At=0;At<$.locationSize;At++)b($.location+At);i.bindBuffer(i.ARRAY_BUFFER,Ae);for(let At=0;At<$.locationSize;At++)w($.location+At,oe/$.locationSize,se,z,Ue*Te,(dt+oe/$.locationSize*At)*Te,we)}else{if(pe.isInstancedBufferAttribute){for(let Fe=0;Fe<$.locationSize;Fe++)A($.location+Fe,pe.meshPerAttribute);O.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let Fe=0;Fe<$.locationSize;Fe++)b($.location+Fe);i.bindBuffer(i.ARRAY_BUFFER,Ae);for(let Fe=0;Fe<$.locationSize;Fe++)w($.location+Fe,oe/$.locationSize,se,z,oe*Te,oe/$.locationSize*Fe*Te,we)}}else if(G!==void 0){const z=G[q];if(z!==void 0)switch(z.length){case 2:i.vertexAttrib2fv($.location,z);break;case 3:i.vertexAttrib3fv($.location,z);break;case 4:i.vertexAttrib4fv($.location,z);break;default:i.vertexAttrib1fv($.location,z)}}}}C()}function L(){P();for(const O in n){const H=n[O];for(const V in H){const W=H[V];for(const K in W)m(W[K].object),delete W[K];delete H[V]}delete n[O]}}function N(O){if(n[O.id]===void 0)return;const H=n[O.id];for(const V in H){const W=H[V];for(const K in W)m(W[K].object),delete W[K];delete H[V]}delete n[O.id]}function I(O){for(const H in n){const V=n[H];if(V[O.id]===void 0)continue;const W=V[O.id];for(const K in W)m(W[K].object),delete W[K];delete V[O.id]}}function P(){U(),a=!0,s!==r&&(s=r,h(s.object))}function U(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:l,reset:P,resetDefaultState:U,dispose:L,releaseStatesOfGeometry:N,releaseStatesOfProgram:I,initAttributes:M,enableAttribute:b,disableUnusedAttributes:C}}function rV(i,e,t){let n;function r(h){n=h}function s(h,m){i.drawArrays(n,h,m),t.update(m,n,1)}function a(h,m,g){g!==0&&(i.drawArraysInstanced(n,h,m,g),t.update(m,n,g))}function l(h,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,h,0,m,0,g);let _=0;for(let S=0;S<g;S++)_+=m[S];t.update(_,n,1)}function c(h,m,g,v){if(g===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let S=0;S<h.length;S++)a(h[S],m[S],v[S]);else{_.multiDrawArraysInstancedWEBGL(n,h,0,m,0,v,0,g);let S=0;for(let M=0;M<g;M++)S+=m[M]*v[M];t.update(S,n,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=l,this.renderMultiDrawInstances=c}function sV(i,e,t,n){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=i.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(I){return!(I!==br&&n.convert(I)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(I){const P=I===Wr&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(I!==hr&&n.convert(I)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==qi&&!P)}function c(I){if(I==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=t.precision!==void 0?t.precision:"highp";const m=c(h);m!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",m,"instead."),h=m);const g=t.logarithmicDepthBuffer===!0,v=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),_=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),S=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),M=i.getParameter(i.MAX_TEXTURE_SIZE),b=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),A=i.getParameter(i.MAX_VERTEX_ATTRIBS),C=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),w=i.getParameter(i.MAX_VARYING_VECTORS),B=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),L=S>0,N=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:c,textureFormatReadable:a,textureTypeReadable:l,precision:h,logarithmicDepthBuffer:g,reverseDepthBuffer:v,maxTextures:_,maxVertexTextures:S,maxTextureSize:M,maxCubemapSize:b,maxAttributes:A,maxVertexUniforms:C,maxVaryings:w,maxFragmentUniforms:B,vertexTextures:L,maxSamples:N}}function aV(i){const e=this;let t=null,n=0,r=!1,s=!1;const a=new xc,l=new Tn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(g,v){const _=g.length!==0||v||n!==0||r;return r=v,n=g.length,_},this.beginShadows=function(){s=!0,m(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(g,v){t=m(g,v,0)},this.setState=function(g,v,_){const S=g.clippingPlanes,M=g.clipIntersection,b=g.clipShadows,A=i.get(g);if(!r||S===null||S.length===0||s&&!b)s?m(null):h();else{const C=s?0:n,w=C*4;let B=A.clippingState||null;c.value=B,B=m(S,v,w,_);for(let L=0;L!==w;++L)B[L]=t[L];A.clippingState=B,this.numIntersection=M?this.numPlanes:0,this.numPlanes+=C}};function h(){c.value!==t&&(c.value=t,c.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function m(g,v,_,S){const M=g!==null?g.length:0;let b=null;if(M!==0){if(b=c.value,S!==!0||b===null){const A=_+M*4,C=v.matrixWorldInverse;l.getNormalMatrix(C),(b===null||b.length<A)&&(b=new Float32Array(A));for(let w=0,B=_;w!==M;++w,B+=4)a.copy(g[w]).applyMatrix4(C,l),a.normal.toArray(b,B),b[B+3]=a.constant}c.value=b,c.needsUpdate=!0}return e.numPlanes=M,e.numIntersection=0,b}}function oV(i){let e=new WeakMap;function t(a,l){return l===_g?a.mapping=Hu:l===vy&&(a.mapping=eh),a}function n(a){if(a&&a.isTexture){const l=a.mapping;if(l===_g||l===vy)if(e.has(a)){const c=e.get(a).texture;return t(c,a.mapping)}else{const c=a.image;if(c&&c.height>0){const h=new u2(c.height);return h.fromEquirectangularTexture(i,a),e.set(a,h),a.addEventListener("dispose",r),t(h.texture,a.mapping)}else return null}}return a}function r(a){const l=a.target;l.removeEventListener("dispose",r);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}const Qm=4,PD=[.125,.215,.35,.446,.526,.582],Od=20,yE=new Nu,ID=new wt;let _E=null,xE=0,SE=0,AE=!1;const Cd=(1+Math.sqrt(5))/2,Gm=1/Cd,FD=[new te(-Cd,Gm,0),new te(Cd,Gm,0),new te(-Gm,0,Cd),new te(Gm,0,Cd),new te(0,Cd,-Gm),new te(0,Cd,Gm),new te(-1,1,-1),new te(1,1,-1),new te(-1,1,1),new te(1,1,1)],lV=new te;class HT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100,s={}){const{size:a=256,position:l=lV}=s;_E=this._renderer.getRenderTarget(),xE=this._renderer.getActiveCubeFace(),SE=this._renderer.getActiveMipmapLevel(),AE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,n,r,c,l),t>0&&this._blur(c,0,0,t),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=GD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=HD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_E,xE,SE),this._renderer.xr.enabled=AE,e.scissorTest=!1,Xx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Hu||e.mapping===eh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_E=this._renderer.getRenderTarget(),xE=this._renderer.getActiveCubeFace(),SE=this._renderer.getActiveMipmapLevel(),AE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Jn,minFilter:Jn,generateMipmaps:!1,type:Wr,format:br,colorSpace:mo,depthBuffer:!1},r=zD(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=zD(e,t,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=uV(s)),this._blurMaterial=cV(s,e,t)}return r}_compileMaterial(e){const t=new zi(this._lodPlanes[0],e);this._renderer.compile(t,yE)}_sceneToCubeUV(e,t,n,r,s){const c=new er(90,1,t,n),h=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],g=this._renderer,v=g.autoClear,_=g.toneMapping;g.getClearColor(ID),g.toneMapping=zl,g.autoClear=!1;const S=new Ia({name:"PMREM.Background",side:qr,depthWrite:!1,depthTest:!1}),M=new zi(new _p,S);let b=!1;const A=e.background;A?A.isColor&&(S.color.copy(A),e.background=null,b=!0):(S.color.copy(ID),b=!0);for(let C=0;C<6;C++){const w=C%3;w===0?(c.up.set(0,h[C],0),c.position.set(s.x,s.y,s.z),c.lookAt(s.x+m[C],s.y,s.z)):w===1?(c.up.set(0,0,h[C]),c.position.set(s.x,s.y,s.z),c.lookAt(s.x,s.y+m[C],s.z)):(c.up.set(0,h[C],0),c.position.set(s.x,s.y,s.z),c.lookAt(s.x,s.y,s.z+m[C]));const B=this._cubeSize;Xx(r,w*B,C>2?B:0,B,B),g.setRenderTarget(r),b&&g.render(M,c),g.render(e,c)}M.geometry.dispose(),M.material.dispose(),g.toneMapping=_,g.autoClear=v,e.background=A}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Hu||e.mapping===eh;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=GD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=HD());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new zi(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const c=this._cubeSize;Xx(t,0,0,3*c,2*c),n.setRenderTarget(t),n.render(a,yE)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),l=FD[(r-s-1)%FD.length];this._blur(e,s-1,s,a,l)}t.autoClear=n}_blur(e,t,n,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",s),this._halfBlur(a,e,n,n,r,"longitudinal",s)}_halfBlur(e,t,n,r,s,a,l){const c=this._renderer,h=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new zi(this._lodPlanes[r],h),v=h.uniforms,_=this._sizeLods[n]-1,S=isFinite(s)?Math.PI/(2*_):2*Math.PI/(2*Od-1),M=s/S,b=isFinite(s)?1+Math.floor(m*M):Od;b>Od&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${Od}`);const A=[];let C=0;for(let I=0;I<Od;++I){const P=I/M,U=Math.exp(-P*P/2);A.push(U),I===0?C+=U:I<b&&(C+=2*U)}for(let I=0;I<A.length;I++)A[I]=A[I]/C;v.envMap.value=e.texture,v.samples.value=b,v.weights.value=A,v.latitudinal.value=a==="latitudinal",l&&(v.poleAxis.value=l);const{_lodMax:w}=this;v.dTheta.value=S,v.mipInt.value=w-n;const B=this._sizeLods[r],L=3*B*(r>w-Qm?r-w+Qm:0),N=4*(this._cubeSize-B);Xx(t,L,N,3*B,2*B),c.setRenderTarget(t),c.render(g,yE)}}function uV(i){const e=[],t=[],n=[];let r=i;const s=i-Qm+1+PD.length;for(let a=0;a<s;a++){const l=Math.pow(2,r);t.push(l);let c=1/l;a>i-Qm?c=PD[a-i+Qm-1]:a===0&&(c=0),n.push(c);const h=1/(l-2),m=-h,g=1+h,v=[m,m,g,m,g,g,m,m,g,g,m,g],_=6,S=6,M=3,b=2,A=1,C=new Float32Array(M*S*_),w=new Float32Array(b*S*_),B=new Float32Array(A*S*_);for(let N=0;N<_;N++){const I=N%3*2/3-1,P=N>2?0:-1,U=[I,P,0,I+2/3,P,0,I+2/3,P+1,0,I,P,0,I+2/3,P+1,0,I,P+1,0];C.set(U,M*S*N),w.set(v,b*S*N);const O=[N,N,N,N,N,N];B.set(O,A*S*N)}const L=new xn;L.setAttribute("position",new $n(C,M)),L.setAttribute("uv",new $n(w,b)),L.setAttribute("faceIndex",new $n(B,A)),e.push(L),r>Qm&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function zD(i,e,t){const n=new dr(i,e,t);return n.texture.mapping=Gg,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Xx(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function cV(i,e,t){const n=new Float32Array(Od),r=new te(0,1,0);return new pr({name:"SphericalGaussianBlur",defines:{n:Od,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:F2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:xs,depthTest:!1,depthWrite:!1})}function HD(){return new pr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:F2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:xs,depthTest:!1,depthWrite:!1})}function GD(){return new pr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:F2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:xs,depthTest:!1,depthWrite:!1})}function F2(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function fV(i){let e=new WeakMap,t=null;function n(l){if(l&&l.isTexture){const c=l.mapping,h=c===_g||c===vy,m=c===Hu||c===eh;if(h||m){let g=e.get(l);const v=g!==void 0?g.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==v)return t===null&&(t=new HT(i)),g=h?t.fromEquirectangular(l,g):t.fromCubemap(l,g),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),g.texture;if(g!==void 0)return g.texture;{const _=l.image;return h&&_&&_.height>0||m&&_&&r(_)?(t===null&&(t=new HT(i)),g=h?t.fromEquirectangular(l):t.fromCubemap(l),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),l.addEventListener("dispose",s),g.texture):null}}}return l}function r(l){let c=0;const h=6;for(let m=0;m<h;m++)l[m]!==void 0&&c++;return c===h}function s(l){const c=l.target;c.removeEventListener("dispose",s);const h=e.get(c);h!==void 0&&(e.delete(c),h.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:a}}function hV(i){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const r=t(n);return r===null&&lg("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function dV(i,e,t,n){const r={},s=new WeakMap;function a(g){const v=g.target;v.index!==null&&e.remove(v.index);for(const S in v.attributes)e.remove(v.attributes[S]);v.removeEventListener("dispose",a),delete r[v.id];const _=s.get(v);_&&(e.remove(_),s.delete(v)),n.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function l(g,v){return r[v.id]===!0||(v.addEventListener("dispose",a),r[v.id]=!0,t.memory.geometries++),v}function c(g){const v=g.attributes;for(const _ in v)e.update(v[_],i.ARRAY_BUFFER)}function h(g){const v=[],_=g.index,S=g.attributes.position;let M=0;if(_!==null){const C=_.array;M=_.version;for(let w=0,B=C.length;w<B;w+=3){const L=C[w+0],N=C[w+1],I=C[w+2];v.push(L,N,N,I,I,L)}}else if(S!==void 0){const C=S.array;M=S.version;for(let w=0,B=C.length/3-1;w<B;w+=3){const L=w+0,N=w+1,I=w+2;v.push(L,N,N,I,I,L)}}else return;const b=new(GL(v)?l2:o2)(v,1);b.version=M;const A=s.get(g);A&&e.remove(A),s.set(g,b)}function m(g){const v=s.get(g);if(v){const _=g.index;_!==null&&v.version<_.version&&h(g)}else h(g);return s.get(g)}return{get:l,update:c,getWireframeAttribute:m}}function pV(i,e,t){let n;function r(v){n=v}let s,a;function l(v){s=v.type,a=v.bytesPerElement}function c(v,_){i.drawElements(n,_,s,v*a),t.update(_,n,1)}function h(v,_,S){S!==0&&(i.drawElementsInstanced(n,_,s,v*a,S),t.update(_,n,S))}function m(v,_,S){if(S===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,_,0,s,v,0,S);let b=0;for(let A=0;A<S;A++)b+=_[A];t.update(b,n,1)}function g(v,_,S,M){if(S===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let A=0;A<v.length;A++)h(v[A]/a,_[A],M[A]);else{b.multiDrawElementsInstancedWEBGL(n,_,0,s,v,0,M,0,S);let A=0;for(let C=0;C<S;C++)A+=_[C]*M[C];t.update(A,n,1)}}this.setMode=r,this.setIndex=l,this.render=c,this.renderInstances=h,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function mV(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,a,l){switch(t.calls++,a){case i.TRIANGLES:t.triangles+=l*(s/3);break;case i.LINES:t.lines+=l*(s/2);break;case i.LINE_STRIP:t.lines+=l*(s-1);break;case i.LINE_LOOP:t.lines+=l*s;break;case i.POINTS:t.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function gV(i,e,t){const n=new WeakMap,r=new Kn;function s(a,l,c){const h=a.morphTargetInfluences,m=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,g=m!==void 0?m.length:0;let v=n.get(l);if(v===void 0||v.count!==g){let O=function(){P.dispose(),n.delete(l),l.removeEventListener("dispose",O)};var _=O;v!==void 0&&v.texture.dispose();const S=l.morphAttributes.position!==void 0,M=l.morphAttributes.normal!==void 0,b=l.morphAttributes.color!==void 0,A=l.morphAttributes.position||[],C=l.morphAttributes.normal||[],w=l.morphAttributes.color||[];let B=0;S===!0&&(B=1),M===!0&&(B=2),b===!0&&(B=3);let L=l.attributes.position.count*B,N=1;L>e.maxTextureSize&&(N=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const I=new Float32Array(L*N*4*g),P=new ob(I,L,N,g);P.type=qi,P.needsUpdate=!0;const U=B*4;for(let H=0;H<g;H++){const V=A[H],W=C[H],K=w[H],ae=L*N*4*H;for(let G=0;G<V.count;G++){const q=G*U;S===!0&&(r.fromBufferAttribute(V,G),I[ae+q+0]=r.x,I[ae+q+1]=r.y,I[ae+q+2]=r.z,I[ae+q+3]=0),M===!0&&(r.fromBufferAttribute(W,G),I[ae+q+4]=r.x,I[ae+q+5]=r.y,I[ae+q+6]=r.z,I[ae+q+7]=0),b===!0&&(r.fromBufferAttribute(K,G),I[ae+q+8]=r.x,I[ae+q+9]=r.y,I[ae+q+10]=r.z,I[ae+q+11]=K.itemSize===4?r.w:1)}}v={count:g,texture:P,size:new Ye(L,N)},n.set(l,v),l.addEventListener("dispose",O)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)c.getUniforms().setValue(i,"morphTexture",a.morphTexture,t);else{let S=0;for(let b=0;b<h.length;b++)S+=h[b];const M=l.morphTargetsRelative?1:1-S;c.getUniforms().setValue(i,"morphTargetBaseInfluence",M),c.getUniforms().setValue(i,"morphTargetInfluences",h)}c.getUniforms().setValue(i,"morphTargetsTexture",v.texture,t),c.getUniforms().setValue(i,"morphTargetsTextureSize",v.size)}return{update:s}}function vV(i,e,t,n){let r=new WeakMap;function s(c){const h=n.render.frame,m=c.geometry,g=e.get(c,m);if(r.get(g)!==h&&(e.update(g),r.set(g,h)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),r.get(c)!==h&&(t.update(c.instanceMatrix,i.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,i.ARRAY_BUFFER),r.set(c,h))),c.isSkinnedMesh){const v=c.skeleton;r.get(v)!==h&&(v.update(),r.set(v,h))}return g}function a(){r=new WeakMap}function l(c){const h=c.target;h.removeEventListener("dispose",l),t.remove(h.instanceMatrix),h.instanceColor!==null&&t.remove(h.instanceColor)}return{update:s,dispose:a}}const FN=new hi,VD=new mb(1,1),zN=new ob,HN=new lb,GN=new Zy,kD=[],XD=[],YD=new Float32Array(16),jD=new Float32Array(9),qD=new Float32Array(4);function Xg(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let s=kD[r];if(s===void 0&&(s=new Float32Array(r),kD[r]=s),e!==0){n.toArray(s,0);for(let a=1,l=0;a!==e;++a)l+=t,i[a].toArray(s,l)}return s}function Kr(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function Jr(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function Bb(i,e){let t=XD[e];t===void 0&&(t=new Int32Array(e),XD[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function yV(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function _V(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Kr(t,e))return;i.uniform2fv(this.addr,e),Jr(t,e)}}function xV(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Kr(t,e))return;i.uniform3fv(this.addr,e),Jr(t,e)}}function SV(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Kr(t,e))return;i.uniform4fv(this.addr,e),Jr(t,e)}}function AV(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Kr(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),Jr(t,e)}else{if(Kr(t,n))return;qD.set(n),i.uniformMatrix2fv(this.addr,!1,qD),Jr(t,n)}}function bV(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Kr(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),Jr(t,e)}else{if(Kr(t,n))return;jD.set(n),i.uniformMatrix3fv(this.addr,!1,jD),Jr(t,n)}}function MV(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Kr(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),Jr(t,e)}else{if(Kr(t,n))return;YD.set(n),i.uniformMatrix4fv(this.addr,!1,YD),Jr(t,n)}}function EV(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function TV(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Kr(t,e))return;i.uniform2iv(this.addr,e),Jr(t,e)}}function CV(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Kr(t,e))return;i.uniform3iv(this.addr,e),Jr(t,e)}}function wV(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Kr(t,e))return;i.uniform4iv(this.addr,e),Jr(t,e)}}function RV(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function BV(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Kr(t,e))return;i.uniform2uiv(this.addr,e),Jr(t,e)}}function DV(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Kr(t,e))return;i.uniform3uiv(this.addr,e),Jr(t,e)}}function OV(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Kr(t,e))return;i.uniform4uiv(this.addr,e),Jr(t,e)}}function UV(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r);let s;this.type===i.SAMPLER_2D_SHADOW?(VD.compareFunction=r2,s=VD):s=FN,t.setTexture2D(e||s,r)}function LV(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||HN,r)}function NV(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||GN,r)}function PV(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||zN,r)}function IV(i){switch(i){case 5126:return yV;case 35664:return _V;case 35665:return xV;case 35666:return SV;case 35674:return AV;case 35675:return bV;case 35676:return MV;case 5124:case 35670:return EV;case 35667:case 35671:return TV;case 35668:case 35672:return CV;case 35669:case 35673:return wV;case 5125:return RV;case 36294:return BV;case 36295:return DV;case 36296:return OV;case 35678:case 36198:case 36298:case 36306:case 35682:return UV;case 35679:case 36299:case 36307:return LV;case 35680:case 36300:case 36308:case 36293:return NV;case 36289:case 36303:case 36311:case 36292:return PV}}function FV(i,e){i.uniform1fv(this.addr,e)}function zV(i,e){const t=Xg(e,this.size,2);i.uniform2fv(this.addr,t)}function HV(i,e){const t=Xg(e,this.size,3);i.uniform3fv(this.addr,t)}function GV(i,e){const t=Xg(e,this.size,4);i.uniform4fv(this.addr,t)}function VV(i,e){const t=Xg(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function kV(i,e){const t=Xg(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function XV(i,e){const t=Xg(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function YV(i,e){i.uniform1iv(this.addr,e)}function jV(i,e){i.uniform2iv(this.addr,e)}function qV(i,e){i.uniform3iv(this.addr,e)}function WV(i,e){i.uniform4iv(this.addr,e)}function KV(i,e){i.uniform1uiv(this.addr,e)}function JV(i,e){i.uniform2uiv(this.addr,e)}function ZV(i,e){i.uniform3uiv(this.addr,e)}function QV(i,e){i.uniform4uiv(this.addr,e)}function $V(i,e,t){const n=this.cache,r=e.length,s=Bb(t,r);Kr(n,s)||(i.uniform1iv(this.addr,s),Jr(n,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||FN,s[a])}function ek(i,e,t){const n=this.cache,r=e.length,s=Bb(t,r);Kr(n,s)||(i.uniform1iv(this.addr,s),Jr(n,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||HN,s[a])}function tk(i,e,t){const n=this.cache,r=e.length,s=Bb(t,r);Kr(n,s)||(i.uniform1iv(this.addr,s),Jr(n,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||GN,s[a])}function nk(i,e,t){const n=this.cache,r=e.length,s=Bb(t,r);Kr(n,s)||(i.uniform1iv(this.addr,s),Jr(n,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||zN,s[a])}function ik(i){switch(i){case 5126:return FV;case 35664:return zV;case 35665:return HV;case 35666:return GV;case 35674:return VV;case 35675:return kV;case 35676:return XV;case 5124:case 35670:return YV;case 35667:case 35671:return jV;case 35668:case 35672:return qV;case 35669:case 35673:return WV;case 5125:return KV;case 36294:return JV;case 36295:return ZV;case 36296:return QV;case 35678:case 36198:case 36298:case 36306:case 35682:return $V;case 35679:case 36299:case 36307:return ek;case 35680:case 36300:case 36308:case 36293:return tk;case 36289:case 36303:case 36311:case 36292:return nk}}class rk{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=IV(t.type)}}class sk{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=ik(t.type)}}class ak{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const l=r[s];l.setValue(e,t[l.id],n)}}}const bE=/(\w+)(\])?(\[|\.)?/g;function WD(i,e){i.seq.push(e),i.map[e.id]=e}function ok(i,e,t){const n=i.name,r=n.length;for(bE.lastIndex=0;;){const s=bE.exec(n),a=bE.lastIndex;let l=s[1];const c=s[2]==="]",h=s[3];if(c&&(l=l|0),h===void 0||h==="["&&a+2===r){WD(t,h===void 0?new rk(l,i,e):new sk(l,i,e));break}else{let g=t.map[l];g===void 0&&(g=new ak(l),WD(t,g)),t=g}}}class _S{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);ok(s,a,this)}}setValue(e,t,n,r){const s=this.map[t];s!==void 0&&s.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let s=0,a=t.length;s!==a;++s){const l=t[s],c=n[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&n.push(a)}return n}}function KD(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const lk=37297;let uk=0;function ck(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const l=a+1;n.push(`${l===e?">":" "} ${l}: ${t[a]}`)}return n.join(`
`)}const JD=new Tn;function fk(i){Wn._getMatrix(JD,Wn.workingColorSpace,i);const e=`mat3( ${JD.elements.map(t=>t.toFixed(4))} )`;switch(Wn.getTransfer(i)){case _y:return[e,"LinearTransferOETF"];case bi:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function ZD(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),r=i.getShaderInfoLog(e).trim();if(n&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+ck(i.getShaderSource(e),a)}else return r}function hk(i,e){const t=fk(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function dk(i,e){let t;switch(e){case xL:t="Linear";break;case SL:t="Reinhard";break;case AL:t="Cineon";break;case JC:t="ACESFilmic";break;case ML:t="AgX";break;case EL:t="Neutral";break;case bL:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Yx=new te;function pk(){Wn.getLuminanceCoefficients(Yx);const i=Yx.x.toFixed(4),e=Yx.y.toFixed(4),t=Yx.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function mk(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Uv).join(`
`)}function gk(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function vk(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const s=i.getActiveAttrib(e,r),a=s.name;let l=1;s.type===i.FLOAT_MAT2&&(l=2),s.type===i.FLOAT_MAT3&&(l=3),s.type===i.FLOAT_MAT4&&(l=4),t[a]={type:s.type,location:i.getAttribLocation(e,a),locationSize:l}}return t}function Uv(i){return i!==""}function QD(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function $D(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const yk=/^[ \t]*#include +<([\w\d./]+)>/gm;function GT(i){return i.replace(yk,xk)}const _k=new Map;function xk(i,e){let t=Dn[e];if(t===void 0){const n=_k.get(e);if(n!==void 0)t=Dn[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return GT(t)}const Sk=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function e3(i){return i.replace(Sk,Ak)}function Ak(i,e,t,n){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function t3(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function bk(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===QA?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===Vv?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===Ll&&(e="SHADOWMAP_TYPE_VSM"),e}function Mk(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Hu:case eh:e="ENVMAP_TYPE_CUBE";break;case Gg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Ek(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case eh:e="ENVMAP_MODE_REFRACTION";break}return e}function Tk(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case jy:e="ENVMAP_BLENDING_MULTIPLY";break;case yL:e="ENVMAP_BLENDING_MIX";break;case _L:e="ENVMAP_BLENDING_ADD";break}return e}function Ck(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function wk(i,e,t,n){const r=i.getContext(),s=t.defines;let a=t.vertexShader,l=t.fragmentShader;const c=bk(t),h=Mk(t),m=Ek(t),g=Tk(t),v=Ck(t),_=mk(t),S=gk(s),M=r.createProgram();let b,A,C=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(Uv).join(`
`),b.length>0&&(b+=`
`),A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(Uv).join(`
`),A.length>0&&(A+=`
`)):(b=[t3(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Uv).join(`
`),A=[t3(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==zl?"#define TONE_MAPPING":"",t.toneMapping!==zl?Dn.tonemapping_pars_fragment:"",t.toneMapping!==zl?dk("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Dn.colorspace_pars_fragment,hk("linearToOutputTexel",t.outputColorSpace),pk(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Uv).join(`
`)),a=GT(a),a=QD(a,t),a=$D(a,t),l=GT(l),l=QD(l,t),l=$D(l,t),a=e3(a),l=e3(l),t.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,b=[_,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,A=["#define varying in",t.glslVersion===OT?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===OT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const w=C+b+a,B=C+A+l,L=KD(r,r.VERTEX_SHADER,w),N=KD(r,r.FRAGMENT_SHADER,B);r.attachShader(M,L),r.attachShader(M,N),t.index0AttributeName!==void 0?r.bindAttribLocation(M,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(M,0,"position"),r.linkProgram(M);function I(H){if(i.debug.checkShaderErrors){const V=r.getProgramInfoLog(M).trim(),W=r.getShaderInfoLog(L).trim(),K=r.getShaderInfoLog(N).trim();let ae=!0,G=!0;if(r.getProgramParameter(M,r.LINK_STATUS)===!1)if(ae=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,M,L,N);else{const q=ZD(r,L,"vertex"),$=ZD(r,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(M,r.VALIDATE_STATUS)+`

Material Name: `+H.name+`
Material Type: `+H.type+`

Program Info Log: `+V+`
`+q+`
`+$)}else V!==""?console.warn("THREE.WebGLProgram: Program Info Log:",V):(W===""||K==="")&&(G=!1);G&&(H.diagnostics={runnable:ae,programLog:V,vertexShader:{log:W,prefix:b},fragmentShader:{log:K,prefix:A}})}r.deleteShader(L),r.deleteShader(N),P=new _S(r,M),U=vk(r,M)}let P;this.getUniforms=function(){return P===void 0&&I(this),P};let U;this.getAttributes=function(){return U===void 0&&I(this),U};let O=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=r.getProgramParameter(M,lk)),O},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(M),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=uk++,this.cacheKey=e,this.usedTimes=1,this.program=M,this.vertexShader=L,this.fragmentShader=N,this}let Rk=0;class Bk{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new Dk(e),t.set(e,n)),n}}class Dk{constructor(e){this.id=Rk++,this.code=e,this.usedTimes=0}}function Ok(i,e,t,n,r,s,a){const l=new Tg,c=new Bk,h=new Set,m=[],g=r.logarithmicDepthBuffer,v=r.vertexTextures;let _=r.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function M(U){return h.add(U),U===0?"uv":`uv${U}`}function b(U,O,H,V,W){const K=V.fog,ae=W.geometry,G=U.isMeshStandardMaterial?V.environment:null,q=(U.isMeshStandardMaterial?t:e).get(U.envMap||G),$=q&&q.mapping===Gg?q.image.height:null,pe=S[U.type];U.precision!==null&&(_=r.getMaxPrecision(U.precision),_!==U.precision&&console.warn("THREE.WebGLProgram.getParameters:",U.precision,"not supported, using",_,"instead."));const z=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,oe=z!==void 0?z.length:0;let ve=0;ae.morphAttributes.position!==void 0&&(ve=1),ae.morphAttributes.normal!==void 0&&(ve=2),ae.morphAttributes.color!==void 0&&(ve=3);let Ae,se,Te,we;if(pe){const Et=Nl[pe];Ae=Et.vertexShader,se=Et.fragmentShader}else Ae=U.vertexShader,se=U.fragmentShader,c.update(U),Te=c.getVertexShaderID(U),we=c.getFragmentShaderID(U);const Fe=i.getRenderTarget(),Ue=i.state.buffers.depth.getReversed(),dt=W.isInstancedMesh===!0,At=W.isBatchedMesh===!0,zt=!!U.map,Lt=!!U.matcap,ot=!!q,Z=!!U.aoMap,et=!!U.lightMap,Ke=!!U.bumpMap,ce=!!U.normalMap,je=!!U.displacementMap,Mt=!!U.emissiveMap,rt=!!U.metalnessMap,ht=!!U.roughnessMap,qt=U.anisotropy>0,ne=U.clearcoat>0,j=U.dispersion>0,xe=U.iridescence>0,Ge=U.sheen>0,ze=U.transmission>0,Pe=qt&&!!U.anisotropyMap,mt=ne&&!!U.clearcoatMap,vt=ne&&!!U.clearcoatNormalMap,Rt=ne&&!!U.clearcoatRoughnessMap,St=xe&&!!U.iridescenceMap,Je=xe&&!!U.iridescenceThicknessMap,ft=Ge&&!!U.sheenColorMap,Bt=Ge&&!!U.sheenRoughnessMap,ue=!!U.specularMap,Se=!!U.specularColorMap,$e=!!U.specularIntensityMap,re=ze&&!!U.transmissionMap,Be=ze&&!!U.thicknessMap,qe=!!U.gradientMap,gt=!!U.alphaMap,ut=U.alphaTest>0,Ze=!!U.alphaHash,Tt=!!U.extensions;let Pt=zl;U.toneMapped&&(Fe===null||Fe.isXRRenderTarget===!0)&&(Pt=i.toneMapping);const fn={shaderID:pe,shaderType:U.type,shaderName:U.name,vertexShader:Ae,fragmentShader:se,defines:U.defines,customVertexShaderID:Te,customFragmentShaderID:we,isRawShaderMaterial:U.isRawShaderMaterial===!0,glslVersion:U.glslVersion,precision:_,batching:At,batchingColor:At&&W._colorsTexture!==null,instancing:dt,instancingColor:dt&&W.instanceColor!==null,instancingMorph:dt&&W.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:Fe===null?i.outputColorSpace:Fe.isXRRenderTarget===!0?Fe.texture.colorSpace:mo,alphaToCoverage:!!U.alphaToCoverage,map:zt,matcap:Lt,envMap:ot,envMapMode:ot&&q.mapping,envMapCubeUVHeight:$,aoMap:Z,lightMap:et,bumpMap:Ke,normalMap:ce,displacementMap:v&&je,emissiveMap:Mt,normalMapObjectSpace:ce&&U.normalMapType===OL,normalMapTangentSpace:ce&&U.normalMapType===uh,metalnessMap:rt,roughnessMap:ht,anisotropy:qt,anisotropyMap:Pe,clearcoat:ne,clearcoatMap:mt,clearcoatNormalMap:vt,clearcoatRoughnessMap:Rt,dispersion:j,iridescence:xe,iridescenceMap:St,iridescenceThicknessMap:Je,sheen:Ge,sheenColorMap:ft,sheenRoughnessMap:Bt,specularMap:ue,specularColorMap:Se,specularIntensityMap:$e,transmission:ze,transmissionMap:re,thicknessMap:Be,gradientMap:qe,opaque:U.transparent===!1&&U.blending===Xd&&U.alphaToCoverage===!1,alphaMap:gt,alphaTest:ut,alphaHash:Ze,combine:U.combine,mapUv:zt&&M(U.map.channel),aoMapUv:Z&&M(U.aoMap.channel),lightMapUv:et&&M(U.lightMap.channel),bumpMapUv:Ke&&M(U.bumpMap.channel),normalMapUv:ce&&M(U.normalMap.channel),displacementMapUv:je&&M(U.displacementMap.channel),emissiveMapUv:Mt&&M(U.emissiveMap.channel),metalnessMapUv:rt&&M(U.metalnessMap.channel),roughnessMapUv:ht&&M(U.roughnessMap.channel),anisotropyMapUv:Pe&&M(U.anisotropyMap.channel),clearcoatMapUv:mt&&M(U.clearcoatMap.channel),clearcoatNormalMapUv:vt&&M(U.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Rt&&M(U.clearcoatRoughnessMap.channel),iridescenceMapUv:St&&M(U.iridescenceMap.channel),iridescenceThicknessMapUv:Je&&M(U.iridescenceThicknessMap.channel),sheenColorMapUv:ft&&M(U.sheenColorMap.channel),sheenRoughnessMapUv:Bt&&M(U.sheenRoughnessMap.channel),specularMapUv:ue&&M(U.specularMap.channel),specularColorMapUv:Se&&M(U.specularColorMap.channel),specularIntensityMapUv:$e&&M(U.specularIntensityMap.channel),transmissionMapUv:re&&M(U.transmissionMap.channel),thicknessMapUv:Be&&M(U.thicknessMap.channel),alphaMapUv:gt&&M(U.alphaMap.channel),vertexTangents:!!ae.attributes.tangent&&(ce||qt),vertexColors:U.vertexColors,vertexAlphas:U.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,pointsUvs:W.isPoints===!0&&!!ae.attributes.uv&&(zt||gt),fog:!!K,useFog:U.fog===!0,fogExp2:!!K&&K.isFogExp2,flatShading:U.flatShading===!0,sizeAttenuation:U.sizeAttenuation===!0,logarithmicDepthBuffer:g,reverseDepthBuffer:Ue,skinning:W.isSkinnedMesh===!0,morphTargets:ae.morphAttributes.position!==void 0,morphNormals:ae.morphAttributes.normal!==void 0,morphColors:ae.morphAttributes.color!==void 0,morphTargetsCount:oe,morphTextureStride:ve,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:U.dithering,shadowMapEnabled:i.shadowMap.enabled&&H.length>0,shadowMapType:i.shadowMap.type,toneMapping:Pt,decodeVideoTexture:zt&&U.map.isVideoTexture===!0&&Wn.getTransfer(U.map.colorSpace)===bi,decodeVideoTextureEmissive:Mt&&U.emissiveMap.isVideoTexture===!0&&Wn.getTransfer(U.emissiveMap.colorSpace)===bi,premultipliedAlpha:U.premultipliedAlpha,doubleSided:U.side===Hs,flipSided:U.side===qr,useDepthPacking:U.depthPacking>=0,depthPacking:U.depthPacking||0,index0AttributeName:U.index0AttributeName,extensionClipCullDistance:Tt&&U.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Tt&&U.extensions.multiDraw===!0||At)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:U.customProgramCacheKey()};return fn.vertexUv1s=h.has(1),fn.vertexUv2s=h.has(2),fn.vertexUv3s=h.has(3),h.clear(),fn}function A(U){const O=[];if(U.shaderID?O.push(U.shaderID):(O.push(U.customVertexShaderID),O.push(U.customFragmentShaderID)),U.defines!==void 0)for(const H in U.defines)O.push(H),O.push(U.defines[H]);return U.isRawShaderMaterial===!1&&(C(O,U),w(O,U),O.push(i.outputColorSpace)),O.push(U.customProgramCacheKey),O.join()}function C(U,O){U.push(O.precision),U.push(O.outputColorSpace),U.push(O.envMapMode),U.push(O.envMapCubeUVHeight),U.push(O.mapUv),U.push(O.alphaMapUv),U.push(O.lightMapUv),U.push(O.aoMapUv),U.push(O.bumpMapUv),U.push(O.normalMapUv),U.push(O.displacementMapUv),U.push(O.emissiveMapUv),U.push(O.metalnessMapUv),U.push(O.roughnessMapUv),U.push(O.anisotropyMapUv),U.push(O.clearcoatMapUv),U.push(O.clearcoatNormalMapUv),U.push(O.clearcoatRoughnessMapUv),U.push(O.iridescenceMapUv),U.push(O.iridescenceThicknessMapUv),U.push(O.sheenColorMapUv),U.push(O.sheenRoughnessMapUv),U.push(O.specularMapUv),U.push(O.specularColorMapUv),U.push(O.specularIntensityMapUv),U.push(O.transmissionMapUv),U.push(O.thicknessMapUv),U.push(O.combine),U.push(O.fogExp2),U.push(O.sizeAttenuation),U.push(O.morphTargetsCount),U.push(O.morphAttributeCount),U.push(O.numDirLights),U.push(O.numPointLights),U.push(O.numSpotLights),U.push(O.numSpotLightMaps),U.push(O.numHemiLights),U.push(O.numRectAreaLights),U.push(O.numDirLightShadows),U.push(O.numPointLightShadows),U.push(O.numSpotLightShadows),U.push(O.numSpotLightShadowsWithMaps),U.push(O.numLightProbes),U.push(O.shadowMapType),U.push(O.toneMapping),U.push(O.numClippingPlanes),U.push(O.numClipIntersection),U.push(O.depthPacking)}function w(U,O){l.disableAll(),O.supportsVertexTextures&&l.enable(0),O.instancing&&l.enable(1),O.instancingColor&&l.enable(2),O.instancingMorph&&l.enable(3),O.matcap&&l.enable(4),O.envMap&&l.enable(5),O.normalMapObjectSpace&&l.enable(6),O.normalMapTangentSpace&&l.enable(7),O.clearcoat&&l.enable(8),O.iridescence&&l.enable(9),O.alphaTest&&l.enable(10),O.vertexColors&&l.enable(11),O.vertexAlphas&&l.enable(12),O.vertexUv1s&&l.enable(13),O.vertexUv2s&&l.enable(14),O.vertexUv3s&&l.enable(15),O.vertexTangents&&l.enable(16),O.anisotropy&&l.enable(17),O.alphaHash&&l.enable(18),O.batching&&l.enable(19),O.dispersion&&l.enable(20),O.batchingColor&&l.enable(21),U.push(l.mask),l.disableAll(),O.fog&&l.enable(0),O.useFog&&l.enable(1),O.flatShading&&l.enable(2),O.logarithmicDepthBuffer&&l.enable(3),O.reverseDepthBuffer&&l.enable(4),O.skinning&&l.enable(5),O.morphTargets&&l.enable(6),O.morphNormals&&l.enable(7),O.morphColors&&l.enable(8),O.premultipliedAlpha&&l.enable(9),O.shadowMapEnabled&&l.enable(10),O.doubleSided&&l.enable(11),O.flipSided&&l.enable(12),O.useDepthPacking&&l.enable(13),O.dithering&&l.enable(14),O.transmission&&l.enable(15),O.sheen&&l.enable(16),O.opaque&&l.enable(17),O.pointsUvs&&l.enable(18),O.decodeVideoTexture&&l.enable(19),O.decodeVideoTextureEmissive&&l.enable(20),O.alphaToCoverage&&l.enable(21),U.push(l.mask)}function B(U){const O=S[U.type];let H;if(O){const V=Nl[O];H=jL.clone(V.uniforms)}else H=U.uniforms;return H}function L(U,O){let H;for(let V=0,W=m.length;V<W;V++){const K=m[V];if(K.cacheKey===O){H=K,++H.usedTimes;break}}return H===void 0&&(H=new wk(i,O,U,s),m.push(H)),H}function N(U){if(--U.usedTimes===0){const O=m.indexOf(U);m[O]=m[m.length-1],m.pop(),U.destroy()}}function I(U){c.remove(U)}function P(){c.dispose()}return{getParameters:b,getProgramCacheKey:A,getUniforms:B,acquireProgram:L,releaseProgram:N,releaseShaderCache:I,programs:m,dispose:P}}function Uk(){let i=new WeakMap;function e(a){return i.has(a)}function t(a){let l=i.get(a);return l===void 0&&(l={},i.set(a,l)),l}function n(a){i.delete(a)}function r(a,l,c){i.get(a)[l]=c}function s(){i=new WeakMap}return{has:e,get:t,remove:n,update:r,dispose:s}}function Lk(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function n3(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function i3(){const i=[];let e=0;const t=[],n=[],r=[];function s(){e=0,t.length=0,n.length=0,r.length=0}function a(g,v,_,S,M,b){let A=i[e];return A===void 0?(A={id:g.id,object:g,geometry:v,material:_,groupOrder:S,renderOrder:g.renderOrder,z:M,group:b},i[e]=A):(A.id=g.id,A.object=g,A.geometry=v,A.material=_,A.groupOrder=S,A.renderOrder=g.renderOrder,A.z=M,A.group=b),e++,A}function l(g,v,_,S,M,b){const A=a(g,v,_,S,M,b);_.transmission>0?n.push(A):_.transparent===!0?r.push(A):t.push(A)}function c(g,v,_,S,M,b){const A=a(g,v,_,S,M,b);_.transmission>0?n.unshift(A):_.transparent===!0?r.unshift(A):t.unshift(A)}function h(g,v){t.length>1&&t.sort(g||Lk),n.length>1&&n.sort(v||n3),r.length>1&&r.sort(v||n3)}function m(){for(let g=e,v=i.length;g<v;g++){const _=i[g];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.group=null}}return{opaque:t,transmissive:n,transparent:r,init:s,push:l,unshift:c,finish:m,sort:h}}function Nk(){let i=new WeakMap;function e(n,r){const s=i.get(n);let a;return s===void 0?(a=new i3,i.set(n,[a])):r>=s.length?(a=new i3,s.push(a)):a=s[r],a}function t(){i=new WeakMap}return{get:e,dispose:t}}function Pk(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new te,color:new wt};break;case"SpotLight":t={position:new te,direction:new te,color:new wt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new te,color:new wt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new te,skyColor:new wt,groundColor:new wt};break;case"RectAreaLight":t={color:new wt,position:new te,halfWidth:new te,halfHeight:new te};break}return i[e.id]=t,t}}}function Ik(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ye};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ye};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ye,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let Fk=0;function zk(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function Hk(i){const e=new Pk,t=Ik(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)n.probe.push(new te);const r=new te,s=new an,a=new an;function l(h){let m=0,g=0,v=0;for(let U=0;U<9;U++)n.probe[U].set(0,0,0);let _=0,S=0,M=0,b=0,A=0,C=0,w=0,B=0,L=0,N=0,I=0;h.sort(zk);for(let U=0,O=h.length;U<O;U++){const H=h[U],V=H.color,W=H.intensity,K=H.distance,ae=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)m+=V.r*W,g+=V.g*W,v+=V.b*W;else if(H.isLightProbe){for(let G=0;G<9;G++)n.probe[G].addScaledVector(H.sh.coefficients[G],W);I++}else if(H.isDirectionalLight){const G=e.get(H);if(G.color.copy(H.color).multiplyScalar(H.intensity),H.castShadow){const q=H.shadow,$=t.get(H);$.shadowIntensity=q.intensity,$.shadowBias=q.bias,$.shadowNormalBias=q.normalBias,$.shadowRadius=q.radius,$.shadowMapSize=q.mapSize,n.directionalShadow[_]=$,n.directionalShadowMap[_]=ae,n.directionalShadowMatrix[_]=H.shadow.matrix,C++}n.directional[_]=G,_++}else if(H.isSpotLight){const G=e.get(H);G.position.setFromMatrixPosition(H.matrixWorld),G.color.copy(V).multiplyScalar(W),G.distance=K,G.coneCos=Math.cos(H.angle),G.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),G.decay=H.decay,n.spot[M]=G;const q=H.shadow;if(H.map&&(n.spotLightMap[L]=H.map,L++,q.updateMatrices(H),H.castShadow&&N++),n.spotLightMatrix[M]=q.matrix,H.castShadow){const $=t.get(H);$.shadowIntensity=q.intensity,$.shadowBias=q.bias,$.shadowNormalBias=q.normalBias,$.shadowRadius=q.radius,$.shadowMapSize=q.mapSize,n.spotShadow[M]=$,n.spotShadowMap[M]=ae,B++}M++}else if(H.isRectAreaLight){const G=e.get(H);G.color.copy(V).multiplyScalar(W),G.halfWidth.set(H.width*.5,0,0),G.halfHeight.set(0,H.height*.5,0),n.rectArea[b]=G,b++}else if(H.isPointLight){const G=e.get(H);if(G.color.copy(H.color).multiplyScalar(H.intensity),G.distance=H.distance,G.decay=H.decay,H.castShadow){const q=H.shadow,$=t.get(H);$.shadowIntensity=q.intensity,$.shadowBias=q.bias,$.shadowNormalBias=q.normalBias,$.shadowRadius=q.radius,$.shadowMapSize=q.mapSize,$.shadowCameraNear=q.camera.near,$.shadowCameraFar=q.camera.far,n.pointShadow[S]=$,n.pointShadowMap[S]=ae,n.pointShadowMatrix[S]=H.shadow.matrix,w++}n.point[S]=G,S++}else if(H.isHemisphereLight){const G=e.get(H);G.skyColor.copy(H.color).multiplyScalar(W),G.groundColor.copy(H.groundColor).multiplyScalar(W),n.hemi[A]=G,A++}}b>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Ut.LTC_FLOAT_1,n.rectAreaLTC2=Ut.LTC_FLOAT_2):(n.rectAreaLTC1=Ut.LTC_HALF_1,n.rectAreaLTC2=Ut.LTC_HALF_2)),n.ambient[0]=m,n.ambient[1]=g,n.ambient[2]=v;const P=n.hash;(P.directionalLength!==_||P.pointLength!==S||P.spotLength!==M||P.rectAreaLength!==b||P.hemiLength!==A||P.numDirectionalShadows!==C||P.numPointShadows!==w||P.numSpotShadows!==B||P.numSpotMaps!==L||P.numLightProbes!==I)&&(n.directional.length=_,n.spot.length=M,n.rectArea.length=b,n.point.length=S,n.hemi.length=A,n.directionalShadow.length=C,n.directionalShadowMap.length=C,n.pointShadow.length=w,n.pointShadowMap.length=w,n.spotShadow.length=B,n.spotShadowMap.length=B,n.directionalShadowMatrix.length=C,n.pointShadowMatrix.length=w,n.spotLightMatrix.length=B+L-N,n.spotLightMap.length=L,n.numSpotLightShadowsWithMaps=N,n.numLightProbes=I,P.directionalLength=_,P.pointLength=S,P.spotLength=M,P.rectAreaLength=b,P.hemiLength=A,P.numDirectionalShadows=C,P.numPointShadows=w,P.numSpotShadows=B,P.numSpotMaps=L,P.numLightProbes=I,n.version=Fk++)}function c(h,m){let g=0,v=0,_=0,S=0,M=0;const b=m.matrixWorldInverse;for(let A=0,C=h.length;A<C;A++){const w=h[A];if(w.isDirectionalLight){const B=n.directional[g];B.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),B.direction.sub(r),B.direction.transformDirection(b),g++}else if(w.isSpotLight){const B=n.spot[_];B.position.setFromMatrixPosition(w.matrixWorld),B.position.applyMatrix4(b),B.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),B.direction.sub(r),B.direction.transformDirection(b),_++}else if(w.isRectAreaLight){const B=n.rectArea[S];B.position.setFromMatrixPosition(w.matrixWorld),B.position.applyMatrix4(b),a.identity(),s.copy(w.matrixWorld),s.premultiply(b),a.extractRotation(s),B.halfWidth.set(w.width*.5,0,0),B.halfHeight.set(0,w.height*.5,0),B.halfWidth.applyMatrix4(a),B.halfHeight.applyMatrix4(a),S++}else if(w.isPointLight){const B=n.point[v];B.position.setFromMatrixPosition(w.matrixWorld),B.position.applyMatrix4(b),v++}else if(w.isHemisphereLight){const B=n.hemi[M];B.direction.setFromMatrixPosition(w.matrixWorld),B.direction.transformDirection(b),M++}}}return{setup:l,setupView:c,state:n}}function r3(i){const e=new Hk(i),t=[],n=[];function r(m){h.camera=m,t.length=0,n.length=0}function s(m){t.push(m)}function a(m){n.push(m)}function l(){e.setup(t)}function c(m){e.setupView(t,m)}const h={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:h,setupLights:l,setupLightsView:c,pushLight:s,pushShadow:a}}function Gk(i){let e=new WeakMap;function t(r,s=0){const a=e.get(r);let l;return a===void 0?(l=new r3(i),e.set(r,[l])):s>=a.length?(l=new r3(i),a.push(l)):l=a[s],l}function n(){e=new WeakMap}return{get:t,dispose:n}}const Vk=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,kk=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Xk(i,e,t){let n=new Vg;const r=new Ye,s=new Ye,a=new Kn,l=new A2({depthPacking:DL}),c=new b2,h={},m=t.maxTextureSize,g={[Gl]:qr,[qr]:Gl,[Hs]:Hs},v=new pr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ye},radius:{value:4}},vertexShader:Vk,fragmentShader:kk}),_=v.clone();_.defines.HORIZONTAL_PASS=1;const S=new xn;S.setAttribute("position",new $n(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const M=new zi(S,v),b=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=QA;let A=this.type;this.render=function(N,I,P){if(b.enabled===!1||b.autoUpdate===!1&&b.needsUpdate===!1||N.length===0)return;const U=i.getRenderTarget(),O=i.getActiveCubeFace(),H=i.getActiveMipmapLevel(),V=i.state;V.setBlending(xs),V.buffers.color.setClear(1,1,1,1),V.buffers.depth.setTest(!0),V.setScissorTest(!1);const W=A!==Ll&&this.type===Ll,K=A===Ll&&this.type!==Ll;for(let ae=0,G=N.length;ae<G;ae++){const q=N[ae],$=q.shadow;if($===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if($.autoUpdate===!1&&$.needsUpdate===!1)continue;r.copy($.mapSize);const pe=$.getFrameExtents();if(r.multiply(pe),s.copy($.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(s.x=Math.floor(m/pe.x),r.x=s.x*pe.x,$.mapSize.x=s.x),r.y>m&&(s.y=Math.floor(m/pe.y),r.y=s.y*pe.y,$.mapSize.y=s.y)),$.map===null||W===!0||K===!0){const oe=this.type!==Ll?{minFilter:fr,magFilter:fr}:{};$.map!==null&&$.map.dispose(),$.map=new dr(r.x,r.y,oe),$.map.texture.name=q.name+".shadowMap",$.camera.updateProjectionMatrix()}i.setRenderTarget($.map),i.clear();const z=$.getViewportCount();for(let oe=0;oe<z;oe++){const ve=$.getViewport(oe);a.set(s.x*ve.x,s.y*ve.y,s.x*ve.z,s.y*ve.w),V.viewport(a),$.updateMatrices(q,oe),n=$.getFrustum(),B(I,P,$.camera,q,this.type)}$.isPointLightShadow!==!0&&this.type===Ll&&C($,P),$.needsUpdate=!1}A=this.type,b.needsUpdate=!1,i.setRenderTarget(U,O,H)};function C(N,I){const P=e.update(M);v.defines.VSM_SAMPLES!==N.blurSamples&&(v.defines.VSM_SAMPLES=N.blurSamples,_.defines.VSM_SAMPLES=N.blurSamples,v.needsUpdate=!0,_.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new dr(r.x,r.y)),v.uniforms.shadow_pass.value=N.map.texture,v.uniforms.resolution.value=N.mapSize,v.uniforms.radius.value=N.radius,i.setRenderTarget(N.mapPass),i.clear(),i.renderBufferDirect(I,null,P,v,M,null),_.uniforms.shadow_pass.value=N.mapPass.texture,_.uniforms.resolution.value=N.mapSize,_.uniforms.radius.value=N.radius,i.setRenderTarget(N.map),i.clear(),i.renderBufferDirect(I,null,P,_,M,null)}function w(N,I,P,U){let O=null;const H=P.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(H!==void 0)O=H;else if(O=P.isPointLight===!0?c:l,i.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0||I.alphaToCoverage===!0){const V=O.uuid,W=I.uuid;let K=h[V];K===void 0&&(K={},h[V]=K);let ae=K[W];ae===void 0&&(ae=O.clone(),K[W]=ae,I.addEventListener("dispose",L)),O=ae}if(O.visible=I.visible,O.wireframe=I.wireframe,U===Ll?O.side=I.shadowSide!==null?I.shadowSide:I.side:O.side=I.shadowSide!==null?I.shadowSide:g[I.side],O.alphaMap=I.alphaMap,O.alphaTest=I.alphaToCoverage===!0?.5:I.alphaTest,O.map=I.map,O.clipShadows=I.clipShadows,O.clippingPlanes=I.clippingPlanes,O.clipIntersection=I.clipIntersection,O.displacementMap=I.displacementMap,O.displacementScale=I.displacementScale,O.displacementBias=I.displacementBias,O.wireframeLinewidth=I.wireframeLinewidth,O.linewidth=I.linewidth,P.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const V=i.properties.get(O);V.light=P}return O}function B(N,I,P,U,O){if(N.visible===!1)return;if(N.layers.test(I.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&O===Ll)&&(!N.frustumCulled||n.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,N.matrixWorld);const W=e.update(N),K=N.material;if(Array.isArray(K)){const ae=W.groups;for(let G=0,q=ae.length;G<q;G++){const $=ae[G],pe=K[$.materialIndex];if(pe&&pe.visible){const z=w(N,pe,U,O);N.onBeforeShadow(i,N,I,P,W,z,$),i.renderBufferDirect(P,null,W,z,N,$),N.onAfterShadow(i,N,I,P,W,z,$)}}}else if(K.visible){const ae=w(N,K,U,O);N.onBeforeShadow(i,N,I,P,W,ae,null),i.renderBufferDirect(P,null,W,ae,N,null),N.onAfterShadow(i,N,I,P,W,ae,null)}}const V=N.children;for(let W=0,K=V.length;W<K;W++)B(V[W],I,P,U,O)}function L(N){N.target.removeEventListener("dispose",L);for(const P in h){const U=h[P],O=N.target.uuid;O in U&&(U[O].dispose(),delete U[O])}}}const Yk={[HS]:GS,[VS]:YS,[kS]:jS,[ip]:XS,[GS]:HS,[YS]:VS,[jS]:kS,[XS]:ip};function jk(i,e){function t(){let re=!1;const Be=new Kn;let qe=null;const gt=new Kn(0,0,0,0);return{setMask:function(ut){qe!==ut&&!re&&(i.colorMask(ut,ut,ut,ut),qe=ut)},setLocked:function(ut){re=ut},setClear:function(ut,Ze,Tt,Pt,fn){fn===!0&&(ut*=Pt,Ze*=Pt,Tt*=Pt),Be.set(ut,Ze,Tt,Pt),gt.equals(Be)===!1&&(i.clearColor(ut,Ze,Tt,Pt),gt.copy(Be))},reset:function(){re=!1,qe=null,gt.set(-1,0,0,0)}}}function n(){let re=!1,Be=!1,qe=null,gt=null,ut=null;return{setReversed:function(Ze){if(Be!==Ze){const Tt=e.get("EXT_clip_control");Ze?Tt.clipControlEXT(Tt.LOWER_LEFT_EXT,Tt.ZERO_TO_ONE_EXT):Tt.clipControlEXT(Tt.LOWER_LEFT_EXT,Tt.NEGATIVE_ONE_TO_ONE_EXT),Be=Ze;const Pt=ut;ut=null,this.setClear(Pt)}},getReversed:function(){return Be},setTest:function(Ze){Ze?Fe(i.DEPTH_TEST):Ue(i.DEPTH_TEST)},setMask:function(Ze){qe!==Ze&&!re&&(i.depthMask(Ze),qe=Ze)},setFunc:function(Ze){if(Be&&(Ze=Yk[Ze]),gt!==Ze){switch(Ze){case HS:i.depthFunc(i.NEVER);break;case GS:i.depthFunc(i.ALWAYS);break;case VS:i.depthFunc(i.LESS);break;case ip:i.depthFunc(i.LEQUAL);break;case kS:i.depthFunc(i.EQUAL);break;case XS:i.depthFunc(i.GEQUAL);break;case YS:i.depthFunc(i.GREATER);break;case jS:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}gt=Ze}},setLocked:function(Ze){re=Ze},setClear:function(Ze){ut!==Ze&&(Be&&(Ze=1-Ze),i.clearDepth(Ze),ut=Ze)},reset:function(){re=!1,qe=null,gt=null,ut=null,Be=!1}}}function r(){let re=!1,Be=null,qe=null,gt=null,ut=null,Ze=null,Tt=null,Pt=null,fn=null;return{setTest:function(Et){re||(Et?Fe(i.STENCIL_TEST):Ue(i.STENCIL_TEST))},setMask:function(Et){Be!==Et&&!re&&(i.stencilMask(Et),Be=Et)},setFunc:function(Et,It,Jt){(qe!==Et||gt!==It||ut!==Jt)&&(i.stencilFunc(Et,It,Jt),qe=Et,gt=It,ut=Jt)},setOp:function(Et,It,Jt){(Ze!==Et||Tt!==It||Pt!==Jt)&&(i.stencilOp(Et,It,Jt),Ze=Et,Tt=It,Pt=Jt)},setLocked:function(Et){re=Et},setClear:function(Et){fn!==Et&&(i.clearStencil(Et),fn=Et)},reset:function(){re=!1,Be=null,qe=null,gt=null,ut=null,Ze=null,Tt=null,Pt=null,fn=null}}}const s=new t,a=new n,l=new r,c=new WeakMap,h=new WeakMap;let m={},g={},v=new WeakMap,_=[],S=null,M=!1,b=null,A=null,C=null,w=null,B=null,L=null,N=null,I=new wt(0,0,0),P=0,U=!1,O=null,H=null,V=null,W=null,K=null;const ae=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let G=!1,q=0;const $=i.getParameter(i.VERSION);$.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec($)[1]),G=q>=1):$.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec($)[1]),G=q>=2);let pe=null,z={};const oe=i.getParameter(i.SCISSOR_BOX),ve=i.getParameter(i.VIEWPORT),Ae=new Kn().fromArray(oe),se=new Kn().fromArray(ve);function Te(re,Be,qe,gt){const ut=new Uint8Array(4),Ze=i.createTexture();i.bindTexture(re,Ze),i.texParameteri(re,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(re,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Tt=0;Tt<qe;Tt++)re===i.TEXTURE_3D||re===i.TEXTURE_2D_ARRAY?i.texImage3D(Be,0,i.RGBA,1,1,gt,0,i.RGBA,i.UNSIGNED_BYTE,ut):i.texImage2D(Be+Tt,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,ut);return Ze}const we={};we[i.TEXTURE_2D]=Te(i.TEXTURE_2D,i.TEXTURE_2D,1),we[i.TEXTURE_CUBE_MAP]=Te(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),we[i.TEXTURE_2D_ARRAY]=Te(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),we[i.TEXTURE_3D]=Te(i.TEXTURE_3D,i.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),l.setClear(0),Fe(i.DEPTH_TEST),a.setFunc(ip),Ke(!1),ce(ET),Fe(i.CULL_FACE),Z(xs);function Fe(re){m[re]!==!0&&(i.enable(re),m[re]=!0)}function Ue(re){m[re]!==!1&&(i.disable(re),m[re]=!1)}function dt(re,Be){return g[re]!==Be?(i.bindFramebuffer(re,Be),g[re]=Be,re===i.DRAW_FRAMEBUFFER&&(g[i.FRAMEBUFFER]=Be),re===i.FRAMEBUFFER&&(g[i.DRAW_FRAMEBUFFER]=Be),!0):!1}function At(re,Be){let qe=_,gt=!1;if(re){qe=v.get(Be),qe===void 0&&(qe=[],v.set(Be,qe));const ut=re.textures;if(qe.length!==ut.length||qe[0]!==i.COLOR_ATTACHMENT0){for(let Ze=0,Tt=ut.length;Ze<Tt;Ze++)qe[Ze]=i.COLOR_ATTACHMENT0+Ze;qe.length=ut.length,gt=!0}}else qe[0]!==i.BACK&&(qe[0]=i.BACK,gt=!0);gt&&i.drawBuffers(qe)}function zt(re){return S!==re?(i.useProgram(re),S=re,!0):!1}const Lt={[Gf]:i.FUNC_ADD,[tL]:i.FUNC_SUBTRACT,[nL]:i.FUNC_REVERSE_SUBTRACT};Lt[iL]=i.MIN,Lt[rL]=i.MAX;const ot={[sL]:i.ZERO,[aL]:i.ONE,[oL]:i.SRC_COLOR,[FS]:i.SRC_ALPHA,[dL]:i.SRC_ALPHA_SATURATE,[fL]:i.DST_COLOR,[uL]:i.DST_ALPHA,[lL]:i.ONE_MINUS_SRC_COLOR,[zS]:i.ONE_MINUS_SRC_ALPHA,[hL]:i.ONE_MINUS_DST_COLOR,[cL]:i.ONE_MINUS_DST_ALPHA,[pL]:i.CONSTANT_COLOR,[mL]:i.ONE_MINUS_CONSTANT_COLOR,[gL]:i.CONSTANT_ALPHA,[vL]:i.ONE_MINUS_CONSTANT_ALPHA};function Z(re,Be,qe,gt,ut,Ze,Tt,Pt,fn,Et){if(re===xs){M===!0&&(Ue(i.BLEND),M=!1);return}if(M===!1&&(Fe(i.BLEND),M=!0),re!==eL){if(re!==b||Et!==U){if((A!==Gf||B!==Gf)&&(i.blendEquation(i.FUNC_ADD),A=Gf,B=Gf),Et)switch(re){case Xd:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case TT:i.blendFunc(i.ONE,i.ONE);break;case CT:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case wT:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}else switch(re){case Xd:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case TT:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case CT:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case wT:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}C=null,w=null,L=null,N=null,I.set(0,0,0),P=0,b=re,U=Et}return}ut=ut||Be,Ze=Ze||qe,Tt=Tt||gt,(Be!==A||ut!==B)&&(i.blendEquationSeparate(Lt[Be],Lt[ut]),A=Be,B=ut),(qe!==C||gt!==w||Ze!==L||Tt!==N)&&(i.blendFuncSeparate(ot[qe],ot[gt],ot[Ze],ot[Tt]),C=qe,w=gt,L=Ze,N=Tt),(Pt.equals(I)===!1||fn!==P)&&(i.blendColor(Pt.r,Pt.g,Pt.b,fn),I.copy(Pt),P=fn),b=re,U=!1}function et(re,Be){re.side===Hs?Ue(i.CULL_FACE):Fe(i.CULL_FACE);let qe=re.side===qr;Be&&(qe=!qe),Ke(qe),re.blending===Xd&&re.transparent===!1?Z(xs):Z(re.blending,re.blendEquation,re.blendSrc,re.blendDst,re.blendEquationAlpha,re.blendSrcAlpha,re.blendDstAlpha,re.blendColor,re.blendAlpha,re.premultipliedAlpha),a.setFunc(re.depthFunc),a.setTest(re.depthTest),a.setMask(re.depthWrite),s.setMask(re.colorWrite);const gt=re.stencilWrite;l.setTest(gt),gt&&(l.setMask(re.stencilWriteMask),l.setFunc(re.stencilFunc,re.stencilRef,re.stencilFuncMask),l.setOp(re.stencilFail,re.stencilZFail,re.stencilZPass)),Mt(re.polygonOffset,re.polygonOffsetFactor,re.polygonOffsetUnits),re.alphaToCoverage===!0?Fe(i.SAMPLE_ALPHA_TO_COVERAGE):Ue(i.SAMPLE_ALPHA_TO_COVERAGE)}function Ke(re){O!==re&&(re?i.frontFace(i.CW):i.frontFace(i.CCW),O=re)}function ce(re){re!==ZU?(Fe(i.CULL_FACE),re!==H&&(re===ET?i.cullFace(i.BACK):re===QU?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):Ue(i.CULL_FACE),H=re}function je(re){re!==V&&(G&&i.lineWidth(re),V=re)}function Mt(re,Be,qe){re?(Fe(i.POLYGON_OFFSET_FILL),(W!==Be||K!==qe)&&(i.polygonOffset(Be,qe),W=Be,K=qe)):Ue(i.POLYGON_OFFSET_FILL)}function rt(re){re?Fe(i.SCISSOR_TEST):Ue(i.SCISSOR_TEST)}function ht(re){re===void 0&&(re=i.TEXTURE0+ae-1),pe!==re&&(i.activeTexture(re),pe=re)}function qt(re,Be,qe){qe===void 0&&(pe===null?qe=i.TEXTURE0+ae-1:qe=pe);let gt=z[qe];gt===void 0&&(gt={type:void 0,texture:void 0},z[qe]=gt),(gt.type!==re||gt.texture!==Be)&&(pe!==qe&&(i.activeTexture(qe),pe=qe),i.bindTexture(re,Be||we[re]),gt.type=re,gt.texture=Be)}function ne(){const re=z[pe];re!==void 0&&re.type!==void 0&&(i.bindTexture(re.type,null),re.type=void 0,re.texture=void 0)}function j(){try{i.compressedTexImage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function xe(){try{i.compressedTexImage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Ge(){try{i.texSubImage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ze(){try{i.texSubImage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Pe(){try{i.compressedTexSubImage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function mt(){try{i.compressedTexSubImage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function vt(){try{i.texStorage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Rt(){try{i.texStorage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function St(){try{i.texImage2D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Je(){try{i.texImage3D(...arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ft(re){Ae.equals(re)===!1&&(i.scissor(re.x,re.y,re.z,re.w),Ae.copy(re))}function Bt(re){se.equals(re)===!1&&(i.viewport(re.x,re.y,re.z,re.w),se.copy(re))}function ue(re,Be){let qe=h.get(Be);qe===void 0&&(qe=new WeakMap,h.set(Be,qe));let gt=qe.get(re);gt===void 0&&(gt=i.getUniformBlockIndex(Be,re.name),qe.set(re,gt))}function Se(re,Be){const gt=h.get(Be).get(re);c.get(Be)!==gt&&(i.uniformBlockBinding(Be,gt,re.__bindingPointIndex),c.set(Be,gt))}function $e(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),a.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),m={},pe=null,z={},g={},v=new WeakMap,_=[],S=null,M=!1,b=null,A=null,C=null,w=null,B=null,L=null,N=null,I=new wt(0,0,0),P=0,U=!1,O=null,H=null,V=null,W=null,K=null,Ae.set(0,0,i.canvas.width,i.canvas.height),se.set(0,0,i.canvas.width,i.canvas.height),s.reset(),a.reset(),l.reset()}return{buffers:{color:s,depth:a,stencil:l},enable:Fe,disable:Ue,bindFramebuffer:dt,drawBuffers:At,useProgram:zt,setBlending:Z,setMaterial:et,setFlipSided:Ke,setCullFace:ce,setLineWidth:je,setPolygonOffset:Mt,setScissorTest:rt,activeTexture:ht,bindTexture:qt,unbindTexture:ne,compressedTexImage2D:j,compressedTexImage3D:xe,texImage2D:St,texImage3D:Je,updateUBOMapping:ue,uniformBlockBinding:Se,texStorage2D:vt,texStorage3D:Rt,texSubImage2D:Ge,texSubImage3D:ze,compressedTexSubImage2D:Pe,compressedTexSubImage3D:mt,scissor:ft,viewport:Bt,reset:$e}}function qk(i,e,t,n,r,s,a){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new Ye,m=new WeakMap;let g;const v=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(ne,j){return _?new OffscreenCanvas(ne,j):Ay("canvas")}function M(ne,j,xe){let Ge=1;const ze=qt(ne);if((ze.width>xe||ze.height>xe)&&(Ge=xe/Math.max(ze.width,ze.height)),Ge<1)if(typeof HTMLImageElement<"u"&&ne instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ne instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ne instanceof ImageBitmap||typeof VideoFrame<"u"&&ne instanceof VideoFrame){const Pe=Math.floor(Ge*ze.width),mt=Math.floor(Ge*ze.height);g===void 0&&(g=S(Pe,mt));const vt=j?S(Pe,mt):g;return vt.width=Pe,vt.height=mt,vt.getContext("2d").drawImage(ne,0,0,Pe,mt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ze.width+"x"+ze.height+") to ("+Pe+"x"+mt+")."),vt}else return"data"in ne&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ze.width+"x"+ze.height+")."),ne;return ne}function b(ne){return ne.generateMipmaps}function A(ne){i.generateMipmap(ne)}function C(ne){return ne.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:ne.isWebGL3DRenderTarget?i.TEXTURE_3D:ne.isWebGLArrayRenderTarget||ne.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function w(ne,j,xe,Ge,ze=!1){if(ne!==null){if(i[ne]!==void 0)return i[ne];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ne+"'")}let Pe=j;if(j===i.RED&&(xe===i.FLOAT&&(Pe=i.R32F),xe===i.HALF_FLOAT&&(Pe=i.R16F),xe===i.UNSIGNED_BYTE&&(Pe=i.R8)),j===i.RED_INTEGER&&(xe===i.UNSIGNED_BYTE&&(Pe=i.R8UI),xe===i.UNSIGNED_SHORT&&(Pe=i.R16UI),xe===i.UNSIGNED_INT&&(Pe=i.R32UI),xe===i.BYTE&&(Pe=i.R8I),xe===i.SHORT&&(Pe=i.R16I),xe===i.INT&&(Pe=i.R32I)),j===i.RG&&(xe===i.FLOAT&&(Pe=i.RG32F),xe===i.HALF_FLOAT&&(Pe=i.RG16F),xe===i.UNSIGNED_BYTE&&(Pe=i.RG8)),j===i.RG_INTEGER&&(xe===i.UNSIGNED_BYTE&&(Pe=i.RG8UI),xe===i.UNSIGNED_SHORT&&(Pe=i.RG16UI),xe===i.UNSIGNED_INT&&(Pe=i.RG32UI),xe===i.BYTE&&(Pe=i.RG8I),xe===i.SHORT&&(Pe=i.RG16I),xe===i.INT&&(Pe=i.RG32I)),j===i.RGB_INTEGER&&(xe===i.UNSIGNED_BYTE&&(Pe=i.RGB8UI),xe===i.UNSIGNED_SHORT&&(Pe=i.RGB16UI),xe===i.UNSIGNED_INT&&(Pe=i.RGB32UI),xe===i.BYTE&&(Pe=i.RGB8I),xe===i.SHORT&&(Pe=i.RGB16I),xe===i.INT&&(Pe=i.RGB32I)),j===i.RGBA_INTEGER&&(xe===i.UNSIGNED_BYTE&&(Pe=i.RGBA8UI),xe===i.UNSIGNED_SHORT&&(Pe=i.RGBA16UI),xe===i.UNSIGNED_INT&&(Pe=i.RGBA32UI),xe===i.BYTE&&(Pe=i.RGBA8I),xe===i.SHORT&&(Pe=i.RGBA16I),xe===i.INT&&(Pe=i.RGBA32I)),j===i.RGB&&xe===i.UNSIGNED_INT_5_9_9_9_REV&&(Pe=i.RGB9_E5),j===i.RGBA){const mt=ze?_y:Wn.getTransfer(Ge);xe===i.FLOAT&&(Pe=i.RGBA32F),xe===i.HALF_FLOAT&&(Pe=i.RGBA16F),xe===i.UNSIGNED_BYTE&&(Pe=mt===bi?i.SRGB8_ALPHA8:i.RGBA8),xe===i.UNSIGNED_SHORT_4_4_4_4&&(Pe=i.RGBA4),xe===i.UNSIGNED_SHORT_5_5_5_1&&(Pe=i.RGB5_A1)}return(Pe===i.R16F||Pe===i.R32F||Pe===i.RG16F||Pe===i.RG32F||Pe===i.RGBA16F||Pe===i.RGBA32F)&&e.get("EXT_color_buffer_float"),Pe}function B(ne,j){let xe;return ne?j===null||j===Vl||j===rp?xe=i.DEPTH24_STENCIL8:j===qi?xe=i.DEPTH32F_STENCIL8:j===Sg&&(xe=i.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):j===null||j===Vl||j===rp?xe=i.DEPTH_COMPONENT24:j===qi?xe=i.DEPTH_COMPONENT32F:j===Sg&&(xe=i.DEPTH_COMPONENT16),xe}function L(ne,j){return b(ne)===!0||ne.isFramebufferTexture&&ne.minFilter!==fr&&ne.minFilter!==Jn?Math.log2(Math.max(j.width,j.height))+1:ne.mipmaps!==void 0&&ne.mipmaps.length>0?ne.mipmaps.length:ne.isCompressedTexture&&Array.isArray(ne.image)?j.mipmaps.length:1}function N(ne){const j=ne.target;j.removeEventListener("dispose",N),P(j),j.isVideoTexture&&m.delete(j)}function I(ne){const j=ne.target;j.removeEventListener("dispose",I),O(j)}function P(ne){const j=n.get(ne);if(j.__webglInit===void 0)return;const xe=ne.source,Ge=v.get(xe);if(Ge){const ze=Ge[j.__cacheKey];ze.usedTimes--,ze.usedTimes===0&&U(ne),Object.keys(Ge).length===0&&v.delete(xe)}n.remove(ne)}function U(ne){const j=n.get(ne);i.deleteTexture(j.__webglTexture);const xe=ne.source,Ge=v.get(xe);delete Ge[j.__cacheKey],a.memory.textures--}function O(ne){const j=n.get(ne);if(ne.depthTexture&&(ne.depthTexture.dispose(),n.remove(ne.depthTexture)),ne.isWebGLCubeRenderTarget)for(let Ge=0;Ge<6;Ge++){if(Array.isArray(j.__webglFramebuffer[Ge]))for(let ze=0;ze<j.__webglFramebuffer[Ge].length;ze++)i.deleteFramebuffer(j.__webglFramebuffer[Ge][ze]);else i.deleteFramebuffer(j.__webglFramebuffer[Ge]);j.__webglDepthbuffer&&i.deleteRenderbuffer(j.__webglDepthbuffer[Ge])}else{if(Array.isArray(j.__webglFramebuffer))for(let Ge=0;Ge<j.__webglFramebuffer.length;Ge++)i.deleteFramebuffer(j.__webglFramebuffer[Ge]);else i.deleteFramebuffer(j.__webglFramebuffer);if(j.__webglDepthbuffer&&i.deleteRenderbuffer(j.__webglDepthbuffer),j.__webglMultisampledFramebuffer&&i.deleteFramebuffer(j.__webglMultisampledFramebuffer),j.__webglColorRenderbuffer)for(let Ge=0;Ge<j.__webglColorRenderbuffer.length;Ge++)j.__webglColorRenderbuffer[Ge]&&i.deleteRenderbuffer(j.__webglColorRenderbuffer[Ge]);j.__webglDepthRenderbuffer&&i.deleteRenderbuffer(j.__webglDepthRenderbuffer)}const xe=ne.textures;for(let Ge=0,ze=xe.length;Ge<ze;Ge++){const Pe=n.get(xe[Ge]);Pe.__webglTexture&&(i.deleteTexture(Pe.__webglTexture),a.memory.textures--),n.remove(xe[Ge])}n.remove(ne)}let H=0;function V(){H=0}function W(){const ne=H;return ne>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ne+" texture units while this GPU supports only "+r.maxTextures),H+=1,ne}function K(ne){const j=[];return j.push(ne.wrapS),j.push(ne.wrapT),j.push(ne.wrapR||0),j.push(ne.magFilter),j.push(ne.minFilter),j.push(ne.anisotropy),j.push(ne.internalFormat),j.push(ne.format),j.push(ne.type),j.push(ne.generateMipmaps),j.push(ne.premultiplyAlpha),j.push(ne.flipY),j.push(ne.unpackAlignment),j.push(ne.colorSpace),j.join()}function ae(ne,j){const xe=n.get(ne);if(ne.isVideoTexture&&rt(ne),ne.isRenderTargetTexture===!1&&ne.version>0&&xe.__version!==ne.version){const Ge=ne.image;if(Ge===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ge.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{we(xe,ne,j);return}}t.bindTexture(i.TEXTURE_2D,xe.__webglTexture,i.TEXTURE0+j)}function G(ne,j){const xe=n.get(ne);if(ne.version>0&&xe.__version!==ne.version){we(xe,ne,j);return}t.bindTexture(i.TEXTURE_2D_ARRAY,xe.__webglTexture,i.TEXTURE0+j)}function q(ne,j){const xe=n.get(ne);if(ne.version>0&&xe.__version!==ne.version){we(xe,ne,j);return}t.bindTexture(i.TEXTURE_3D,xe.__webglTexture,i.TEXTURE0+j)}function $(ne,j){const xe=n.get(ne);if(ne.version>0&&xe.__version!==ne.version){Fe(xe,ne,j);return}t.bindTexture(i.TEXTURE_CUBE_MAP,xe.__webglTexture,i.TEXTURE0+j)}const pe={[th]:i.REPEAT,[Ar]:i.CLAMP_TO_EDGE,[xg]:i.MIRRORED_REPEAT},z={[fr]:i.NEAREST,[$A]:i.NEAREST_MIPMAP_NEAREST,[Ud]:i.NEAREST_MIPMAP_LINEAR,[Jn]:i.LINEAR,[og]:i.LINEAR_MIPMAP_NEAREST,[Wo]:i.LINEAR_MIPMAP_LINEAR},oe={[UL]:i.NEVER,[zL]:i.ALWAYS,[LL]:i.LESS,[r2]:i.LEQUAL,[NL]:i.EQUAL,[FL]:i.GEQUAL,[PL]:i.GREATER,[IL]:i.NOTEQUAL};function ve(ne,j){if(j.type===qi&&e.has("OES_texture_float_linear")===!1&&(j.magFilter===Jn||j.magFilter===og||j.magFilter===Ud||j.magFilter===Wo||j.minFilter===Jn||j.minFilter===og||j.minFilter===Ud||j.minFilter===Wo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(ne,i.TEXTURE_WRAP_S,pe[j.wrapS]),i.texParameteri(ne,i.TEXTURE_WRAP_T,pe[j.wrapT]),(ne===i.TEXTURE_3D||ne===i.TEXTURE_2D_ARRAY)&&i.texParameteri(ne,i.TEXTURE_WRAP_R,pe[j.wrapR]),i.texParameteri(ne,i.TEXTURE_MAG_FILTER,z[j.magFilter]),i.texParameteri(ne,i.TEXTURE_MIN_FILTER,z[j.minFilter]),j.compareFunction&&(i.texParameteri(ne,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(ne,i.TEXTURE_COMPARE_FUNC,oe[j.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(j.magFilter===fr||j.minFilter!==Ud&&j.minFilter!==Wo||j.type===qi&&e.has("OES_texture_float_linear")===!1)return;if(j.anisotropy>1||n.get(j).__currentAnisotropy){const xe=e.get("EXT_texture_filter_anisotropic");i.texParameterf(ne,xe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(j.anisotropy,r.getMaxAnisotropy())),n.get(j).__currentAnisotropy=j.anisotropy}}}function Ae(ne,j){let xe=!1;ne.__webglInit===void 0&&(ne.__webglInit=!0,j.addEventListener("dispose",N));const Ge=j.source;let ze=v.get(Ge);ze===void 0&&(ze={},v.set(Ge,ze));const Pe=K(j);if(Pe!==ne.__cacheKey){ze[Pe]===void 0&&(ze[Pe]={texture:i.createTexture(),usedTimes:0},a.memory.textures++,xe=!0),ze[Pe].usedTimes++;const mt=ze[ne.__cacheKey];mt!==void 0&&(ze[ne.__cacheKey].usedTimes--,mt.usedTimes===0&&U(j)),ne.__cacheKey=Pe,ne.__webglTexture=ze[Pe].texture}return xe}function se(ne,j,xe){return Math.floor(Math.floor(ne/xe)/j)}function Te(ne,j,xe,Ge){const Pe=ne.updateRanges;if(Pe.length===0)t.texSubImage2D(i.TEXTURE_2D,0,0,0,j.width,j.height,xe,Ge,j.data);else{Pe.sort((Je,ft)=>Je.start-ft.start);let mt=0;for(let Je=1;Je<Pe.length;Je++){const ft=Pe[mt],Bt=Pe[Je],ue=ft.start+ft.count,Se=se(Bt.start,j.width,4),$e=se(ft.start,j.width,4);Bt.start<=ue+1&&Se===$e&&se(Bt.start+Bt.count-1,j.width,4)===Se?ft.count=Math.max(ft.count,Bt.start+Bt.count-ft.start):(++mt,Pe[mt]=Bt)}Pe.length=mt+1;const vt=i.getParameter(i.UNPACK_ROW_LENGTH),Rt=i.getParameter(i.UNPACK_SKIP_PIXELS),St=i.getParameter(i.UNPACK_SKIP_ROWS);i.pixelStorei(i.UNPACK_ROW_LENGTH,j.width);for(let Je=0,ft=Pe.length;Je<ft;Je++){const Bt=Pe[Je],ue=Math.floor(Bt.start/4),Se=Math.ceil(Bt.count/4),$e=ue%j.width,re=Math.floor(ue/j.width),Be=Se,qe=1;i.pixelStorei(i.UNPACK_SKIP_PIXELS,$e),i.pixelStorei(i.UNPACK_SKIP_ROWS,re),t.texSubImage2D(i.TEXTURE_2D,0,$e,re,Be,qe,xe,Ge,j.data)}ne.clearUpdateRanges(),i.pixelStorei(i.UNPACK_ROW_LENGTH,vt),i.pixelStorei(i.UNPACK_SKIP_PIXELS,Rt),i.pixelStorei(i.UNPACK_SKIP_ROWS,St)}}function we(ne,j,xe){let Ge=i.TEXTURE_2D;(j.isDataArrayTexture||j.isCompressedArrayTexture)&&(Ge=i.TEXTURE_2D_ARRAY),j.isData3DTexture&&(Ge=i.TEXTURE_3D);const ze=Ae(ne,j),Pe=j.source;t.bindTexture(Ge,ne.__webglTexture,i.TEXTURE0+xe);const mt=n.get(Pe);if(Pe.version!==mt.__version||ze===!0){t.activeTexture(i.TEXTURE0+xe);const vt=Wn.getPrimaries(Wn.workingColorSpace),Rt=j.colorSpace===Pl?null:Wn.getPrimaries(j.colorSpace),St=j.colorSpace===Pl||vt===Rt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,j.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,j.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,St);let Je=M(j.image,!1,r.maxTextureSize);Je=ht(j,Je);const ft=s.convert(j.format,j.colorSpace),Bt=s.convert(j.type);let ue=w(j.internalFormat,ft,Bt,j.colorSpace,j.isVideoTexture);ve(Ge,j);let Se;const $e=j.mipmaps,re=j.isVideoTexture!==!0,Be=mt.__version===void 0||ze===!0,qe=Pe.dataReady,gt=L(j,Je);if(j.isDepthTexture)ue=B(j.format===sp,j.type),Be&&(re?t.texStorage2D(i.TEXTURE_2D,1,ue,Je.width,Je.height):t.texImage2D(i.TEXTURE_2D,0,ue,Je.width,Je.height,0,ft,Bt,null));else if(j.isDataTexture)if($e.length>0){re&&Be&&t.texStorage2D(i.TEXTURE_2D,gt,ue,$e[0].width,$e[0].height);for(let ut=0,Ze=$e.length;ut<Ze;ut++)Se=$e[ut],re?qe&&t.texSubImage2D(i.TEXTURE_2D,ut,0,0,Se.width,Se.height,ft,Bt,Se.data):t.texImage2D(i.TEXTURE_2D,ut,ue,Se.width,Se.height,0,ft,Bt,Se.data);j.generateMipmaps=!1}else re?(Be&&t.texStorage2D(i.TEXTURE_2D,gt,ue,Je.width,Je.height),qe&&Te(j,Je,ft,Bt)):t.texImage2D(i.TEXTURE_2D,0,ue,Je.width,Je.height,0,ft,Bt,Je.data);else if(j.isCompressedTexture)if(j.isCompressedArrayTexture){re&&Be&&t.texStorage3D(i.TEXTURE_2D_ARRAY,gt,ue,$e[0].width,$e[0].height,Je.depth);for(let ut=0,Ze=$e.length;ut<Ze;ut++)if(Se=$e[ut],j.format!==br)if(ft!==null)if(re){if(qe)if(j.layerUpdates.size>0){const Tt=zT(Se.width,Se.height,j.format,j.type);for(const Pt of j.layerUpdates){const fn=Se.data.subarray(Pt*Tt/Se.data.BYTES_PER_ELEMENT,(Pt+1)*Tt/Se.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,ut,0,0,Pt,Se.width,Se.height,1,ft,fn)}j.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,ut,0,0,0,Se.width,Se.height,Je.depth,ft,Se.data)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,ut,ue,Se.width,Se.height,Je.depth,0,Se.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else re?qe&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,ut,0,0,0,Se.width,Se.height,Je.depth,ft,Bt,Se.data):t.texImage3D(i.TEXTURE_2D_ARRAY,ut,ue,Se.width,Se.height,Je.depth,0,ft,Bt,Se.data)}else{re&&Be&&t.texStorage2D(i.TEXTURE_2D,gt,ue,$e[0].width,$e[0].height);for(let ut=0,Ze=$e.length;ut<Ze;ut++)Se=$e[ut],j.format!==br?ft!==null?re?qe&&t.compressedTexSubImage2D(i.TEXTURE_2D,ut,0,0,Se.width,Se.height,ft,Se.data):t.compressedTexImage2D(i.TEXTURE_2D,ut,ue,Se.width,Se.height,0,Se.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):re?qe&&t.texSubImage2D(i.TEXTURE_2D,ut,0,0,Se.width,Se.height,ft,Bt,Se.data):t.texImage2D(i.TEXTURE_2D,ut,ue,Se.width,Se.height,0,ft,Bt,Se.data)}else if(j.isDataArrayTexture)if(re){if(Be&&t.texStorage3D(i.TEXTURE_2D_ARRAY,gt,ue,Je.width,Je.height,Je.depth),qe)if(j.layerUpdates.size>0){const ut=zT(Je.width,Je.height,j.format,j.type);for(const Ze of j.layerUpdates){const Tt=Je.data.subarray(Ze*ut/Je.data.BYTES_PER_ELEMENT,(Ze+1)*ut/Je.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,Ze,Je.width,Je.height,1,ft,Bt,Tt)}j.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,Je.width,Je.height,Je.depth,ft,Bt,Je.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,ue,Je.width,Je.height,Je.depth,0,ft,Bt,Je.data);else if(j.isData3DTexture)re?(Be&&t.texStorage3D(i.TEXTURE_3D,gt,ue,Je.width,Je.height,Je.depth),qe&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,Je.width,Je.height,Je.depth,ft,Bt,Je.data)):t.texImage3D(i.TEXTURE_3D,0,ue,Je.width,Je.height,Je.depth,0,ft,Bt,Je.data);else if(j.isFramebufferTexture){if(Be)if(re)t.texStorage2D(i.TEXTURE_2D,gt,ue,Je.width,Je.height);else{let ut=Je.width,Ze=Je.height;for(let Tt=0;Tt<gt;Tt++)t.texImage2D(i.TEXTURE_2D,Tt,ue,ut,Ze,0,ft,Bt,null),ut>>=1,Ze>>=1}}else if($e.length>0){if(re&&Be){const ut=qt($e[0]);t.texStorage2D(i.TEXTURE_2D,gt,ue,ut.width,ut.height)}for(let ut=0,Ze=$e.length;ut<Ze;ut++)Se=$e[ut],re?qe&&t.texSubImage2D(i.TEXTURE_2D,ut,0,0,ft,Bt,Se):t.texImage2D(i.TEXTURE_2D,ut,ue,ft,Bt,Se);j.generateMipmaps=!1}else if(re){if(Be){const ut=qt(Je);t.texStorage2D(i.TEXTURE_2D,gt,ue,ut.width,ut.height)}qe&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,ft,Bt,Je)}else t.texImage2D(i.TEXTURE_2D,0,ue,ft,Bt,Je);b(j)&&A(Ge),mt.__version=Pe.version,j.onUpdate&&j.onUpdate(j)}ne.__version=j.version}function Fe(ne,j,xe){if(j.image.length!==6)return;const Ge=Ae(ne,j),ze=j.source;t.bindTexture(i.TEXTURE_CUBE_MAP,ne.__webglTexture,i.TEXTURE0+xe);const Pe=n.get(ze);if(ze.version!==Pe.__version||Ge===!0){t.activeTexture(i.TEXTURE0+xe);const mt=Wn.getPrimaries(Wn.workingColorSpace),vt=j.colorSpace===Pl?null:Wn.getPrimaries(j.colorSpace),Rt=j.colorSpace===Pl||mt===vt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,j.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,j.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Rt);const St=j.isCompressedTexture||j.image[0].isCompressedTexture,Je=j.image[0]&&j.image[0].isDataTexture,ft=[];for(let Ze=0;Ze<6;Ze++)!St&&!Je?ft[Ze]=M(j.image[Ze],!0,r.maxCubemapSize):ft[Ze]=Je?j.image[Ze].image:j.image[Ze],ft[Ze]=ht(j,ft[Ze]);const Bt=ft[0],ue=s.convert(j.format,j.colorSpace),Se=s.convert(j.type),$e=w(j.internalFormat,ue,Se,j.colorSpace),re=j.isVideoTexture!==!0,Be=Pe.__version===void 0||Ge===!0,qe=ze.dataReady;let gt=L(j,Bt);ve(i.TEXTURE_CUBE_MAP,j);let ut;if(St){re&&Be&&t.texStorage2D(i.TEXTURE_CUBE_MAP,gt,$e,Bt.width,Bt.height);for(let Ze=0;Ze<6;Ze++){ut=ft[Ze].mipmaps;for(let Tt=0;Tt<ut.length;Tt++){const Pt=ut[Tt];j.format!==br?ue!==null?re?qe&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Tt,0,0,Pt.width,Pt.height,ue,Pt.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Tt,$e,Pt.width,Pt.height,0,Pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):re?qe&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Tt,0,0,Pt.width,Pt.height,ue,Se,Pt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Tt,$e,Pt.width,Pt.height,0,ue,Se,Pt.data)}}}else{if(ut=j.mipmaps,re&&Be){ut.length>0&&gt++;const Ze=qt(ft[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,gt,$e,Ze.width,Ze.height)}for(let Ze=0;Ze<6;Ze++)if(Je){re?qe&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,0,0,0,ft[Ze].width,ft[Ze].height,ue,Se,ft[Ze].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,0,$e,ft[Ze].width,ft[Ze].height,0,ue,Se,ft[Ze].data);for(let Tt=0;Tt<ut.length;Tt++){const fn=ut[Tt].image[Ze].image;re?qe&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Tt+1,0,0,fn.width,fn.height,ue,Se,fn.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Tt+1,$e,fn.width,fn.height,0,ue,Se,fn.data)}}else{re?qe&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,0,0,0,ue,Se,ft[Ze]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,0,$e,ue,Se,ft[Ze]);for(let Tt=0;Tt<ut.length;Tt++){const Pt=ut[Tt];re?qe&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Tt+1,0,0,ue,Se,Pt.image[Ze]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,Tt+1,$e,ue,Se,Pt.image[Ze])}}}b(j)&&A(i.TEXTURE_CUBE_MAP),Pe.__version=ze.version,j.onUpdate&&j.onUpdate(j)}ne.__version=j.version}function Ue(ne,j,xe,Ge,ze,Pe){const mt=s.convert(xe.format,xe.colorSpace),vt=s.convert(xe.type),Rt=w(xe.internalFormat,mt,vt,xe.colorSpace),St=n.get(j),Je=n.get(xe);if(Je.__renderTarget=j,!St.__hasExternalTextures){const ft=Math.max(1,j.width>>Pe),Bt=Math.max(1,j.height>>Pe);ze===i.TEXTURE_3D||ze===i.TEXTURE_2D_ARRAY?t.texImage3D(ze,Pe,Rt,ft,Bt,j.depth,0,mt,vt,null):t.texImage2D(ze,Pe,Rt,ft,Bt,0,mt,vt,null)}t.bindFramebuffer(i.FRAMEBUFFER,ne),Mt(j)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Ge,ze,Je.__webglTexture,0,je(j)):(ze===i.TEXTURE_2D||ze>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&ze<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Ge,ze,Je.__webglTexture,Pe),t.bindFramebuffer(i.FRAMEBUFFER,null)}function dt(ne,j,xe){if(i.bindRenderbuffer(i.RENDERBUFFER,ne),j.depthBuffer){const Ge=j.depthTexture,ze=Ge&&Ge.isDepthTexture?Ge.type:null,Pe=B(j.stencilBuffer,ze),mt=j.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,vt=je(j);Mt(j)?l.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,vt,Pe,j.width,j.height):xe?i.renderbufferStorageMultisample(i.RENDERBUFFER,vt,Pe,j.width,j.height):i.renderbufferStorage(i.RENDERBUFFER,Pe,j.width,j.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,mt,i.RENDERBUFFER,ne)}else{const Ge=j.textures;for(let ze=0;ze<Ge.length;ze++){const Pe=Ge[ze],mt=s.convert(Pe.format,Pe.colorSpace),vt=s.convert(Pe.type),Rt=w(Pe.internalFormat,mt,vt,Pe.colorSpace),St=je(j);xe&&Mt(j)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,St,Rt,j.width,j.height):Mt(j)?l.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,St,Rt,j.width,j.height):i.renderbufferStorage(i.RENDERBUFFER,Rt,j.width,j.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function At(ne,j){if(j&&j.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,ne),!(j.depthTexture&&j.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ge=n.get(j.depthTexture);Ge.__renderTarget=j,(!Ge.__webglTexture||j.depthTexture.image.width!==j.width||j.depthTexture.image.height!==j.height)&&(j.depthTexture.image.width=j.width,j.depthTexture.image.height=j.height,j.depthTexture.needsUpdate=!0),ae(j.depthTexture,0);const ze=Ge.__webglTexture,Pe=je(j);if(j.depthTexture.format===Ag)Mt(j)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,ze,0,Pe):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,ze,0);else if(j.depthTexture.format===sp)Mt(j)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,ze,0,Pe):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,ze,0);else throw new Error("Unknown depthTexture format")}function zt(ne){const j=n.get(ne),xe=ne.isWebGLCubeRenderTarget===!0;if(j.__boundDepthTexture!==ne.depthTexture){const Ge=ne.depthTexture;if(j.__depthDisposeCallback&&j.__depthDisposeCallback(),Ge){const ze=()=>{delete j.__boundDepthTexture,delete j.__depthDisposeCallback,Ge.removeEventListener("dispose",ze)};Ge.addEventListener("dispose",ze),j.__depthDisposeCallback=ze}j.__boundDepthTexture=Ge}if(ne.depthTexture&&!j.__autoAllocateDepthBuffer){if(xe)throw new Error("target.depthTexture not supported in Cube render targets");const Ge=ne.texture.mipmaps;Ge&&Ge.length>0?At(j.__webglFramebuffer[0],ne):At(j.__webglFramebuffer,ne)}else if(xe){j.__webglDepthbuffer=[];for(let Ge=0;Ge<6;Ge++)if(t.bindFramebuffer(i.FRAMEBUFFER,j.__webglFramebuffer[Ge]),j.__webglDepthbuffer[Ge]===void 0)j.__webglDepthbuffer[Ge]=i.createRenderbuffer(),dt(j.__webglDepthbuffer[Ge],ne,!1);else{const ze=ne.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Pe=j.__webglDepthbuffer[Ge];i.bindRenderbuffer(i.RENDERBUFFER,Pe),i.framebufferRenderbuffer(i.FRAMEBUFFER,ze,i.RENDERBUFFER,Pe)}}else{const Ge=ne.texture.mipmaps;if(Ge&&Ge.length>0?t.bindFramebuffer(i.FRAMEBUFFER,j.__webglFramebuffer[0]):t.bindFramebuffer(i.FRAMEBUFFER,j.__webglFramebuffer),j.__webglDepthbuffer===void 0)j.__webglDepthbuffer=i.createRenderbuffer(),dt(j.__webglDepthbuffer,ne,!1);else{const ze=ne.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Pe=j.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,Pe),i.framebufferRenderbuffer(i.FRAMEBUFFER,ze,i.RENDERBUFFER,Pe)}}t.bindFramebuffer(i.FRAMEBUFFER,null)}function Lt(ne,j,xe){const Ge=n.get(ne);j!==void 0&&Ue(Ge.__webglFramebuffer,ne,ne.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),xe!==void 0&&zt(ne)}function ot(ne){const j=ne.texture,xe=n.get(ne),Ge=n.get(j);ne.addEventListener("dispose",I);const ze=ne.textures,Pe=ne.isWebGLCubeRenderTarget===!0,mt=ze.length>1;if(mt||(Ge.__webglTexture===void 0&&(Ge.__webglTexture=i.createTexture()),Ge.__version=j.version,a.memory.textures++),Pe){xe.__webglFramebuffer=[];for(let vt=0;vt<6;vt++)if(j.mipmaps&&j.mipmaps.length>0){xe.__webglFramebuffer[vt]=[];for(let Rt=0;Rt<j.mipmaps.length;Rt++)xe.__webglFramebuffer[vt][Rt]=i.createFramebuffer()}else xe.__webglFramebuffer[vt]=i.createFramebuffer()}else{if(j.mipmaps&&j.mipmaps.length>0){xe.__webglFramebuffer=[];for(let vt=0;vt<j.mipmaps.length;vt++)xe.__webglFramebuffer[vt]=i.createFramebuffer()}else xe.__webglFramebuffer=i.createFramebuffer();if(mt)for(let vt=0,Rt=ze.length;vt<Rt;vt++){const St=n.get(ze[vt]);St.__webglTexture===void 0&&(St.__webglTexture=i.createTexture(),a.memory.textures++)}if(ne.samples>0&&Mt(ne)===!1){xe.__webglMultisampledFramebuffer=i.createFramebuffer(),xe.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,xe.__webglMultisampledFramebuffer);for(let vt=0;vt<ze.length;vt++){const Rt=ze[vt];xe.__webglColorRenderbuffer[vt]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,xe.__webglColorRenderbuffer[vt]);const St=s.convert(Rt.format,Rt.colorSpace),Je=s.convert(Rt.type),ft=w(Rt.internalFormat,St,Je,Rt.colorSpace,ne.isXRRenderTarget===!0),Bt=je(ne);i.renderbufferStorageMultisample(i.RENDERBUFFER,Bt,ft,ne.width,ne.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+vt,i.RENDERBUFFER,xe.__webglColorRenderbuffer[vt])}i.bindRenderbuffer(i.RENDERBUFFER,null),ne.depthBuffer&&(xe.__webglDepthRenderbuffer=i.createRenderbuffer(),dt(xe.__webglDepthRenderbuffer,ne,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Pe){t.bindTexture(i.TEXTURE_CUBE_MAP,Ge.__webglTexture),ve(i.TEXTURE_CUBE_MAP,j);for(let vt=0;vt<6;vt++)if(j.mipmaps&&j.mipmaps.length>0)for(let Rt=0;Rt<j.mipmaps.length;Rt++)Ue(xe.__webglFramebuffer[vt][Rt],ne,j,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+vt,Rt);else Ue(xe.__webglFramebuffer[vt],ne,j,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+vt,0);b(j)&&A(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(mt){for(let vt=0,Rt=ze.length;vt<Rt;vt++){const St=ze[vt],Je=n.get(St);t.bindTexture(i.TEXTURE_2D,Je.__webglTexture),ve(i.TEXTURE_2D,St),Ue(xe.__webglFramebuffer,ne,St,i.COLOR_ATTACHMENT0+vt,i.TEXTURE_2D,0),b(St)&&A(i.TEXTURE_2D)}t.unbindTexture()}else{let vt=i.TEXTURE_2D;if((ne.isWebGL3DRenderTarget||ne.isWebGLArrayRenderTarget)&&(vt=ne.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(vt,Ge.__webglTexture),ve(vt,j),j.mipmaps&&j.mipmaps.length>0)for(let Rt=0;Rt<j.mipmaps.length;Rt++)Ue(xe.__webglFramebuffer[Rt],ne,j,i.COLOR_ATTACHMENT0,vt,Rt);else Ue(xe.__webglFramebuffer,ne,j,i.COLOR_ATTACHMENT0,vt,0);b(j)&&A(vt),t.unbindTexture()}ne.depthBuffer&&zt(ne)}function Z(ne){const j=ne.textures;for(let xe=0,Ge=j.length;xe<Ge;xe++){const ze=j[xe];if(b(ze)){const Pe=C(ne),mt=n.get(ze).__webglTexture;t.bindTexture(Pe,mt),A(Pe),t.unbindTexture()}}}const et=[],Ke=[];function ce(ne){if(ne.samples>0){if(Mt(ne)===!1){const j=ne.textures,xe=ne.width,Ge=ne.height;let ze=i.COLOR_BUFFER_BIT;const Pe=ne.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,mt=n.get(ne),vt=j.length>1;if(vt)for(let St=0;St<j.length;St++)t.bindFramebuffer(i.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+St,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,mt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+St,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,mt.__webglMultisampledFramebuffer);const Rt=ne.texture.mipmaps;Rt&&Rt.length>0?t.bindFramebuffer(i.DRAW_FRAMEBUFFER,mt.__webglFramebuffer[0]):t.bindFramebuffer(i.DRAW_FRAMEBUFFER,mt.__webglFramebuffer);for(let St=0;St<j.length;St++){if(ne.resolveDepthBuffer&&(ne.depthBuffer&&(ze|=i.DEPTH_BUFFER_BIT),ne.stencilBuffer&&ne.resolveStencilBuffer&&(ze|=i.STENCIL_BUFFER_BIT)),vt){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,mt.__webglColorRenderbuffer[St]);const Je=n.get(j[St]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,Je,0)}i.blitFramebuffer(0,0,xe,Ge,0,0,xe,Ge,ze,i.NEAREST),c===!0&&(et.length=0,Ke.length=0,et.push(i.COLOR_ATTACHMENT0+St),ne.depthBuffer&&ne.resolveDepthBuffer===!1&&(et.push(Pe),Ke.push(Pe),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,Ke)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,et))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),vt)for(let St=0;St<j.length;St++){t.bindFramebuffer(i.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+St,i.RENDERBUFFER,mt.__webglColorRenderbuffer[St]);const Je=n.get(j[St]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,mt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+St,i.TEXTURE_2D,Je,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,mt.__webglMultisampledFramebuffer)}else if(ne.depthBuffer&&ne.resolveDepthBuffer===!1&&c){const j=ne.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[j])}}}function je(ne){return Math.min(r.maxSamples,ne.samples)}function Mt(ne){const j=n.get(ne);return ne.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&j.__useRenderToTexture!==!1}function rt(ne){const j=a.render.frame;m.get(ne)!==j&&(m.set(ne,j),ne.update())}function ht(ne,j){const xe=ne.colorSpace,Ge=ne.format,ze=ne.type;return ne.isCompressedTexture===!0||ne.isVideoTexture===!0||xe!==mo&&xe!==Pl&&(Wn.getTransfer(xe)===bi?(Ge!==br||ze!==hr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",xe)),j}function qt(ne){return typeof HTMLImageElement<"u"&&ne instanceof HTMLImageElement?(h.width=ne.naturalWidth||ne.width,h.height=ne.naturalHeight||ne.height):typeof VideoFrame<"u"&&ne instanceof VideoFrame?(h.width=ne.displayWidth,h.height=ne.displayHeight):(h.width=ne.width,h.height=ne.height),h}this.allocateTextureUnit=W,this.resetTextureUnits=V,this.setTexture2D=ae,this.setTexture2DArray=G,this.setTexture3D=q,this.setTextureCube=$,this.rebindTextures=Lt,this.setupRenderTarget=ot,this.updateRenderTargetMipmap=Z,this.updateMultisampleRenderTarget=ce,this.setupDepthRenderbuffer=zt,this.setupFrameBufferTexture=Ue,this.useMultisampledRTT=Mt}function VN(i,e){function t(n,r=Pl){let s;const a=Wn.getTransfer(r);if(n===hr)return i.UNSIGNED_BYTE;if(n===nb)return i.UNSIGNED_SHORT_4_4_4_4;if(n===ib)return i.UNSIGNED_SHORT_5_5_5_1;if(n===ZC)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===eb)return i.BYTE;if(n===tb)return i.SHORT;if(n===Sg)return i.UNSIGNED_SHORT;if(n===qy)return i.INT;if(n===Vl)return i.UNSIGNED_INT;if(n===qi)return i.FLOAT;if(n===Wr)return i.HALF_FLOAT;if(n===QC)return i.ALPHA;if(n===$C)return i.RGB;if(n===br)return i.RGBA;if(n===Ag)return i.DEPTH_COMPONENT;if(n===sp)return i.DEPTH_STENCIL;if(n===Wy)return i.RED;if(n===Ky)return i.RED_INTEGER;if(n===e2)return i.RG;if(n===rb)return i.RG_INTEGER;if(n===sb)return i.RGBA_INTEGER;if(n===kv||n===Xv||n===Yv||n===jv)if(a===bi)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(n===kv)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Xv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Yv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===jv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(n===kv)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Xv)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Yv)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===jv)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===qS||n===WS||n===KS||n===JS)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(n===qS)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===WS)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===KS)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===JS)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===ZS||n===QS||n===$S)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(n===ZS||n===QS)return a===bi?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(n===$S)return a===bi?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===eA||n===tA||n===nA||n===iA||n===rA||n===sA||n===aA||n===oA||n===lA||n===uA||n===cA||n===fA||n===hA||n===dA)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(n===eA)return a===bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===tA)return a===bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===nA)return a===bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===iA)return a===bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===rA)return a===bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===sA)return a===bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===aA)return a===bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===oA)return a===bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===lA)return a===bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===uA)return a===bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===cA)return a===bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===fA)return a===bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===hA)return a===bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===dA)return a===bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===qv||n===pA||n===mA)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(n===qv)return a===bi?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===pA)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===mA)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===t2||n===gA||n===vA||n===yA)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(n===qv)return s.COMPRESSED_RED_RGTC1_EXT;if(n===gA)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===vA)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===yA)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===rp?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}const Wk=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Kk=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Jk{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(this.texture===null){const r=new hi,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!==n.depthNear||t.depthFar!==n.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new pr({vertexShader:Wk,fragmentShader:Kk,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new zi(new fh(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Zk extends _o{constructor(e,t){super();const n=this;let r=null,s=1,a=null,l="local-floor",c=1,h=null,m=null,g=null,v=null,_=null,S=null;const M=new Jk,b=t.getContextAttributes();let A=null,C=null;const w=[],B=[],L=new Ye;let N=null;const I=new er;I.viewport=new Kn;const P=new er;P.viewport=new Kn;const U=[I,P],O=new ON;let H=null,V=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let Te=w[se];return Te===void 0&&(Te=new yS,w[se]=Te),Te.getTargetRaySpace()},this.getControllerGrip=function(se){let Te=w[se];return Te===void 0&&(Te=new yS,w[se]=Te),Te.getGripSpace()},this.getHand=function(se){let Te=w[se];return Te===void 0&&(Te=new yS,w[se]=Te),Te.getHandSpace()};function W(se){const Te=B.indexOf(se.inputSource);if(Te===-1)return;const we=w[Te];we!==void 0&&(we.update(se.inputSource,se.frame,h||a),we.dispatchEvent({type:se.type,data:se.inputSource}))}function K(){r.removeEventListener("select",W),r.removeEventListener("selectstart",W),r.removeEventListener("selectend",W),r.removeEventListener("squeeze",W),r.removeEventListener("squeezestart",W),r.removeEventListener("squeezeend",W),r.removeEventListener("end",K),r.removeEventListener("inputsourceschange",ae);for(let se=0;se<w.length;se++){const Te=B[se];Te!==null&&(B[se]=null,w[se].disconnect(Te))}H=null,V=null,M.reset(),e.setRenderTarget(A),_=null,v=null,g=null,r=null,C=null,Ae.stop(),n.isPresenting=!1,e.setPixelRatio(N),e.setSize(L.width,L.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){s=se,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){l=se,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||a},this.setReferenceSpace=function(se){h=se},this.getBaseLayer=function(){return v!==null?v:_},this.getBinding=function(){return g},this.getFrame=function(){return S},this.getSession=function(){return r},this.setSession=async function(se){if(r=se,r!==null){if(A=e.getRenderTarget(),r.addEventListener("select",W),r.addEventListener("selectstart",W),r.addEventListener("selectend",W),r.addEventListener("squeeze",W),r.addEventListener("squeezestart",W),r.addEventListener("squeezeend",W),r.addEventListener("end",K),r.addEventListener("inputsourceschange",ae),b.xrCompatible!==!0&&await t.makeXRCompatible(),N=e.getPixelRatio(),e.getSize(L),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let we=null,Fe=null,Ue=null;b.depth&&(Ue=b.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,we=b.stencil?sp:Ag,Fe=b.stencil?rp:Vl);const dt={colorFormat:t.RGBA8,depthFormat:Ue,scaleFactor:s};g=new XRWebGLBinding(r,t),v=g.createProjectionLayer(dt),r.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),C=new dr(v.textureWidth,v.textureHeight,{format:br,type:hr,depthTexture:new mb(v.textureWidth,v.textureHeight,Fe,void 0,void 0,void 0,void 0,void 0,void 0,we),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const we={antialias:b.antialias,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:s};_=new XRWebGLLayer(r,t,we),r.updateRenderState({baseLayer:_}),e.setPixelRatio(1),e.setSize(_.framebufferWidth,_.framebufferHeight,!1),C=new dr(_.framebufferWidth,_.framebufferHeight,{format:br,type:hr,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}C.isXRRenderTarget=!0,this.setFoveation(c),h=null,a=await r.requestReferenceSpace(l),Ae.setContext(r),Ae.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return M.getDepthTexture()};function ae(se){for(let Te=0;Te<se.removed.length;Te++){const we=se.removed[Te],Fe=B.indexOf(we);Fe>=0&&(B[Fe]=null,w[Fe].disconnect(we))}for(let Te=0;Te<se.added.length;Te++){const we=se.added[Te];let Fe=B.indexOf(we);if(Fe===-1){for(let dt=0;dt<w.length;dt++)if(dt>=B.length){B.push(we),Fe=dt;break}else if(B[dt]===null){B[dt]=we,Fe=dt;break}if(Fe===-1)break}const Ue=w[Fe];Ue&&Ue.connect(we)}}const G=new te,q=new te;function $(se,Te,we){G.setFromMatrixPosition(Te.matrixWorld),q.setFromMatrixPosition(we.matrixWorld);const Fe=G.distanceTo(q),Ue=Te.projectionMatrix.elements,dt=we.projectionMatrix.elements,At=Ue[14]/(Ue[10]-1),zt=Ue[14]/(Ue[10]+1),Lt=(Ue[9]+1)/Ue[5],ot=(Ue[9]-1)/Ue[5],Z=(Ue[8]-1)/Ue[0],et=(dt[8]+1)/dt[0],Ke=At*Z,ce=At*et,je=Fe/(-Z+et),Mt=je*-Z;if(Te.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(Mt),se.translateZ(je),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert(),Ue[10]===-1)se.projectionMatrix.copy(Te.projectionMatrix),se.projectionMatrixInverse.copy(Te.projectionMatrixInverse);else{const rt=At+je,ht=zt+je,qt=Ke-Mt,ne=ce+(Fe-Mt),j=Lt*zt/ht*rt,xe=ot*zt/ht*rt;se.projectionMatrix.makePerspective(qt,ne,j,xe,rt,ht),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}}function pe(se,Te){Te===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(Te.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(r===null)return;let Te=se.near,we=se.far;M.texture!==null&&(M.depthNear>0&&(Te=M.depthNear),M.depthFar>0&&(we=M.depthFar)),O.near=P.near=I.near=Te,O.far=P.far=I.far=we,(H!==O.near||V!==O.far)&&(r.updateRenderState({depthNear:O.near,depthFar:O.far}),H=O.near,V=O.far),I.layers.mask=se.layers.mask|2,P.layers.mask=se.layers.mask|4,O.layers.mask=I.layers.mask|P.layers.mask;const Fe=se.parent,Ue=O.cameras;pe(O,Fe);for(let dt=0;dt<Ue.length;dt++)pe(Ue[dt],Fe);Ue.length===2?$(O,I,P):O.projectionMatrix.copy(I.projectionMatrix),z(se,O,Fe)};function z(se,Te,we){we===null?se.matrix.copy(Te.matrixWorld):(se.matrix.copy(we.matrixWorld),se.matrix.invert(),se.matrix.multiply(Te.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0),se.projectionMatrix.copy(Te.projectionMatrix),se.projectionMatrixInverse.copy(Te.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=Eg*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return O},this.getFoveation=function(){if(!(v===null&&_===null))return c},this.setFoveation=function(se){c=se,v!==null&&(v.fixedFoveation=se),_!==null&&_.fixedFoveation!==void 0&&(_.fixedFoveation=se)},this.hasDepthSensing=function(){return M.texture!==null},this.getDepthSensingMesh=function(){return M.getMesh(O)};let oe=null;function ve(se,Te){if(m=Te.getViewerPose(h||a),S=Te,m!==null){const we=m.views;_!==null&&(e.setRenderTargetFramebuffer(C,_.framebuffer),e.setRenderTarget(C));let Fe=!1;we.length!==O.cameras.length&&(O.cameras.length=0,Fe=!0);for(let At=0;At<we.length;At++){const zt=we[At];let Lt=null;if(_!==null)Lt=_.getViewport(zt);else{const Z=g.getViewSubImage(v,zt);Lt=Z.viewport,At===0&&(e.setRenderTargetTextures(C,Z.colorTexture,Z.depthStencilTexture),e.setRenderTarget(C))}let ot=U[At];ot===void 0&&(ot=new er,ot.layers.enable(At),ot.viewport=new Kn,U[At]=ot),ot.matrix.fromArray(zt.transform.matrix),ot.matrix.decompose(ot.position,ot.quaternion,ot.scale),ot.projectionMatrix.fromArray(zt.projectionMatrix),ot.projectionMatrixInverse.copy(ot.projectionMatrix).invert(),ot.viewport.set(Lt.x,Lt.y,Lt.width,Lt.height),At===0&&(O.matrix.copy(ot.matrix),O.matrix.decompose(O.position,O.quaternion,O.scale)),Fe===!0&&O.cameras.push(ot)}const Ue=r.enabledFeatures;if(Ue&&Ue.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&g){const At=g.getDepthInformation(we[0]);At&&At.isValid&&At.texture&&M.init(e,At,r.renderState)}}for(let we=0;we<w.length;we++){const Fe=B[we],Ue=w[we];Fe!==null&&Ue!==void 0&&Ue.update(Fe,Te,h||a)}oe&&oe(se,Te),Te.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:Te}),S=null}const Ae=new IN;Ae.setAnimationLoop(ve),this.setAnimationLoop=function(se){oe=se},this.dispose=function(){}}}const _d=new go,Qk=new an;function $k(i,e){function t(b,A){b.matrixAutoUpdate===!0&&b.updateMatrix(),A.value.copy(b.matrix)}function n(b,A){A.color.getRGB(b.fogColor.value,YL(i)),A.isFog?(b.fogNear.value=A.near,b.fogFar.value=A.far):A.isFogExp2&&(b.fogDensity.value=A.density)}function r(b,A,C,w,B){A.isMeshBasicMaterial||A.isMeshLambertMaterial?s(b,A):A.isMeshToonMaterial?(s(b,A),g(b,A)):A.isMeshPhongMaterial?(s(b,A),m(b,A)):A.isMeshStandardMaterial?(s(b,A),v(b,A),A.isMeshPhysicalMaterial&&_(b,A,B)):A.isMeshMatcapMaterial?(s(b,A),S(b,A)):A.isMeshDepthMaterial?s(b,A):A.isMeshDistanceMaterial?(s(b,A),M(b,A)):A.isMeshNormalMaterial?s(b,A):A.isLineBasicMaterial?(a(b,A),A.isLineDashedMaterial&&l(b,A)):A.isPointsMaterial?c(b,A,C,w):A.isSpriteMaterial?h(b,A):A.isShadowMaterial?(b.color.value.copy(A.color),b.opacity.value=A.opacity):A.isShaderMaterial&&(A.uniformsNeedUpdate=!1)}function s(b,A){b.opacity.value=A.opacity,A.color&&b.diffuse.value.copy(A.color),A.emissive&&b.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(b.map.value=A.map,t(A.map,b.mapTransform)),A.alphaMap&&(b.alphaMap.value=A.alphaMap,t(A.alphaMap,b.alphaMapTransform)),A.bumpMap&&(b.bumpMap.value=A.bumpMap,t(A.bumpMap,b.bumpMapTransform),b.bumpScale.value=A.bumpScale,A.side===qr&&(b.bumpScale.value*=-1)),A.normalMap&&(b.normalMap.value=A.normalMap,t(A.normalMap,b.normalMapTransform),b.normalScale.value.copy(A.normalScale),A.side===qr&&b.normalScale.value.negate()),A.displacementMap&&(b.displacementMap.value=A.displacementMap,t(A.displacementMap,b.displacementMapTransform),b.displacementScale.value=A.displacementScale,b.displacementBias.value=A.displacementBias),A.emissiveMap&&(b.emissiveMap.value=A.emissiveMap,t(A.emissiveMap,b.emissiveMapTransform)),A.specularMap&&(b.specularMap.value=A.specularMap,t(A.specularMap,b.specularMapTransform)),A.alphaTest>0&&(b.alphaTest.value=A.alphaTest);const C=e.get(A),w=C.envMap,B=C.envMapRotation;w&&(b.envMap.value=w,_d.copy(B),_d.x*=-1,_d.y*=-1,_d.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(_d.y*=-1,_d.z*=-1),b.envMapRotation.value.setFromMatrix4(Qk.makeRotationFromEuler(_d)),b.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,b.reflectivity.value=A.reflectivity,b.ior.value=A.ior,b.refractionRatio.value=A.refractionRatio),A.lightMap&&(b.lightMap.value=A.lightMap,b.lightMapIntensity.value=A.lightMapIntensity,t(A.lightMap,b.lightMapTransform)),A.aoMap&&(b.aoMap.value=A.aoMap,b.aoMapIntensity.value=A.aoMapIntensity,t(A.aoMap,b.aoMapTransform))}function a(b,A){b.diffuse.value.copy(A.color),b.opacity.value=A.opacity,A.map&&(b.map.value=A.map,t(A.map,b.mapTransform))}function l(b,A){b.dashSize.value=A.dashSize,b.totalSize.value=A.dashSize+A.gapSize,b.scale.value=A.scale}function c(b,A,C,w){b.diffuse.value.copy(A.color),b.opacity.value=A.opacity,b.size.value=A.size*C,b.scale.value=w*.5,A.map&&(b.map.value=A.map,t(A.map,b.uvTransform)),A.alphaMap&&(b.alphaMap.value=A.alphaMap,t(A.alphaMap,b.alphaMapTransform)),A.alphaTest>0&&(b.alphaTest.value=A.alphaTest)}function h(b,A){b.diffuse.value.copy(A.color),b.opacity.value=A.opacity,b.rotation.value=A.rotation,A.map&&(b.map.value=A.map,t(A.map,b.mapTransform)),A.alphaMap&&(b.alphaMap.value=A.alphaMap,t(A.alphaMap,b.alphaMapTransform)),A.alphaTest>0&&(b.alphaTest.value=A.alphaTest)}function m(b,A){b.specular.value.copy(A.specular),b.shininess.value=Math.max(A.shininess,1e-4)}function g(b,A){A.gradientMap&&(b.gradientMap.value=A.gradientMap)}function v(b,A){b.metalness.value=A.metalness,A.metalnessMap&&(b.metalnessMap.value=A.metalnessMap,t(A.metalnessMap,b.metalnessMapTransform)),b.roughness.value=A.roughness,A.roughnessMap&&(b.roughnessMap.value=A.roughnessMap,t(A.roughnessMap,b.roughnessMapTransform)),A.envMap&&(b.envMapIntensity.value=A.envMapIntensity)}function _(b,A,C){b.ior.value=A.ior,A.sheen>0&&(b.sheenColor.value.copy(A.sheenColor).multiplyScalar(A.sheen),b.sheenRoughness.value=A.sheenRoughness,A.sheenColorMap&&(b.sheenColorMap.value=A.sheenColorMap,t(A.sheenColorMap,b.sheenColorMapTransform)),A.sheenRoughnessMap&&(b.sheenRoughnessMap.value=A.sheenRoughnessMap,t(A.sheenRoughnessMap,b.sheenRoughnessMapTransform))),A.clearcoat>0&&(b.clearcoat.value=A.clearcoat,b.clearcoatRoughness.value=A.clearcoatRoughness,A.clearcoatMap&&(b.clearcoatMap.value=A.clearcoatMap,t(A.clearcoatMap,b.clearcoatMapTransform)),A.clearcoatRoughnessMap&&(b.clearcoatRoughnessMap.value=A.clearcoatRoughnessMap,t(A.clearcoatRoughnessMap,b.clearcoatRoughnessMapTransform)),A.clearcoatNormalMap&&(b.clearcoatNormalMap.value=A.clearcoatNormalMap,t(A.clearcoatNormalMap,b.clearcoatNormalMapTransform),b.clearcoatNormalScale.value.copy(A.clearcoatNormalScale),A.side===qr&&b.clearcoatNormalScale.value.negate())),A.dispersion>0&&(b.dispersion.value=A.dispersion),A.iridescence>0&&(b.iridescence.value=A.iridescence,b.iridescenceIOR.value=A.iridescenceIOR,b.iridescenceThicknessMinimum.value=A.iridescenceThicknessRange[0],b.iridescenceThicknessMaximum.value=A.iridescenceThicknessRange[1],A.iridescenceMap&&(b.iridescenceMap.value=A.iridescenceMap,t(A.iridescenceMap,b.iridescenceMapTransform)),A.iridescenceThicknessMap&&(b.iridescenceThicknessMap.value=A.iridescenceThicknessMap,t(A.iridescenceThicknessMap,b.iridescenceThicknessMapTransform))),A.transmission>0&&(b.transmission.value=A.transmission,b.transmissionSamplerMap.value=C.texture,b.transmissionSamplerSize.value.set(C.width,C.height),A.transmissionMap&&(b.transmissionMap.value=A.transmissionMap,t(A.transmissionMap,b.transmissionMapTransform)),b.thickness.value=A.thickness,A.thicknessMap&&(b.thicknessMap.value=A.thicknessMap,t(A.thicknessMap,b.thicknessMapTransform)),b.attenuationDistance.value=A.attenuationDistance,b.attenuationColor.value.copy(A.attenuationColor)),A.anisotropy>0&&(b.anisotropyVector.value.set(A.anisotropy*Math.cos(A.anisotropyRotation),A.anisotropy*Math.sin(A.anisotropyRotation)),A.anisotropyMap&&(b.anisotropyMap.value=A.anisotropyMap,t(A.anisotropyMap,b.anisotropyMapTransform))),b.specularIntensity.value=A.specularIntensity,b.specularColor.value.copy(A.specularColor),A.specularColorMap&&(b.specularColorMap.value=A.specularColorMap,t(A.specularColorMap,b.specularColorMapTransform)),A.specularIntensityMap&&(b.specularIntensityMap.value=A.specularIntensityMap,t(A.specularIntensityMap,b.specularIntensityMapTransform))}function S(b,A){A.matcap&&(b.matcap.value=A.matcap)}function M(b,A){const C=e.get(A).light;b.referencePosition.value.setFromMatrixPosition(C.matrixWorld),b.nearDistance.value=C.shadow.camera.near,b.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function e7(i,e,t,n){let r={},s={},a=[];const l=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function c(C,w){const B=w.program;n.uniformBlockBinding(C,B)}function h(C,w){let B=r[C.id];B===void 0&&(S(C),B=m(C),r[C.id]=B,C.addEventListener("dispose",b));const L=w.program;n.updateUBOMapping(C,L);const N=e.render.frame;s[C.id]!==N&&(v(C),s[C.id]=N)}function m(C){const w=g();C.__bindingPointIndex=w;const B=i.createBuffer(),L=C.__size,N=C.usage;return i.bindBuffer(i.UNIFORM_BUFFER,B),i.bufferData(i.UNIFORM_BUFFER,L,N),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,w,B),B}function g(){for(let C=0;C<l;C++)if(a.indexOf(C)===-1)return a.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(C){const w=r[C.id],B=C.uniforms,L=C.__cache;i.bindBuffer(i.UNIFORM_BUFFER,w);for(let N=0,I=B.length;N<I;N++){const P=Array.isArray(B[N])?B[N]:[B[N]];for(let U=0,O=P.length;U<O;U++){const H=P[U];if(_(H,N,U,L)===!0){const V=H.__offset,W=Array.isArray(H.value)?H.value:[H.value];let K=0;for(let ae=0;ae<W.length;ae++){const G=W[ae],q=M(G);typeof G=="number"||typeof G=="boolean"?(H.__data[0]=G,i.bufferSubData(i.UNIFORM_BUFFER,V+K,H.__data)):G.isMatrix3?(H.__data[0]=G.elements[0],H.__data[1]=G.elements[1],H.__data[2]=G.elements[2],H.__data[3]=0,H.__data[4]=G.elements[3],H.__data[5]=G.elements[4],H.__data[6]=G.elements[5],H.__data[7]=0,H.__data[8]=G.elements[6],H.__data[9]=G.elements[7],H.__data[10]=G.elements[8],H.__data[11]=0):(G.toArray(H.__data,K),K+=q.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,V,H.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function _(C,w,B,L){const N=C.value,I=w+"_"+B;if(L[I]===void 0)return typeof N=="number"||typeof N=="boolean"?L[I]=N:L[I]=N.clone(),!0;{const P=L[I];if(typeof N=="number"||typeof N=="boolean"){if(P!==N)return L[I]=N,!0}else if(P.equals(N)===!1)return P.copy(N),!0}return!1}function S(C){const w=C.uniforms;let B=0;const L=16;for(let I=0,P=w.length;I<P;I++){const U=Array.isArray(w[I])?w[I]:[w[I]];for(let O=0,H=U.length;O<H;O++){const V=U[O],W=Array.isArray(V.value)?V.value:[V.value];for(let K=0,ae=W.length;K<ae;K++){const G=W[K],q=M(G),$=B%L,pe=$%q.boundary,z=$+pe;B+=pe,z!==0&&L-z<q.storage&&(B+=L-z),V.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),V.__offset=B,B+=q.storage}}}const N=B%L;return N>0&&(B+=L-N),C.__size=B,C.__cache={},this}function M(C){const w={boundary:0,storage:0};return typeof C=="number"||typeof C=="boolean"?(w.boundary=4,w.storage=4):C.isVector2?(w.boundary=8,w.storage=8):C.isVector3||C.isColor?(w.boundary=16,w.storage=12):C.isVector4?(w.boundary=16,w.storage=16):C.isMatrix3?(w.boundary=48,w.storage=48):C.isMatrix4?(w.boundary=64,w.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),w}function b(C){const w=C.target;w.removeEventListener("dispose",b);const B=a.indexOf(w.__bindingPointIndex);a.splice(B,1),i.deleteBuffer(r[w.id]),delete r[w.id],delete s[w.id]}function A(){for(const C in r)i.deleteBuffer(r[C]);a=[],r={},s={}}return{bind:c,update:h,dispose:A}}class z2{constructor(e={}){const{canvas:t=VL(),context:n=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:h=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reverseDepthBuffer:v=!1}=e;this.isWebGLRenderer=!0;let _;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=n.getContextAttributes().alpha}else _=a;const S=new Uint32Array(4),M=new Int32Array(4);let b=null,A=null;const C=[],w=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=zl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const B=this;let L=!1;this._outputColorSpace=si;let N=0,I=0,P=null,U=-1,O=null;const H=new Kn,V=new Kn;let W=null;const K=new wt(0);let ae=0,G=t.width,q=t.height,$=1,pe=null,z=null;const oe=new Kn(0,0,G,q),ve=new Kn(0,0,G,q);let Ae=!1;const se=new Vg;let Te=!1,we=!1;const Fe=new an,Ue=new an,dt=new te,At=new Kn,zt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Lt=!1;function ot(){return P===null?$:1}let Z=n;function et(Y,ie){return t.getContext(Y,ie)}try{const Y={alpha:!0,depth:r,stencil:s,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:h,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${vp}`),t.addEventListener("webglcontextlost",gt,!1),t.addEventListener("webglcontextrestored",ut,!1),t.addEventListener("webglcontextcreationerror",Ze,!1),Z===null){const ie="webgl2";if(Z=et(ie,Y),Z===null)throw et(ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Y){throw console.error("THREE.WebGLRenderer: "+Y.message),Y}let Ke,ce,je,Mt,rt,ht,qt,ne,j,xe,Ge,ze,Pe,mt,vt,Rt,St,Je,ft,Bt,ue,Se,$e,re;function Be(){Ke=new hV(Z),Ke.init(),Se=new VN(Z,Ke),ce=new sV(Z,Ke,e,Se),je=new jk(Z,Ke),ce.reverseDepthBuffer&&v&&je.buffers.depth.setReversed(!0),Mt=new mV(Z),rt=new Uk,ht=new qk(Z,Ke,je,rt,ce,Se,Mt),qt=new oV(B),ne=new fV(B),j=new S6(Z),$e=new iV(Z,j),xe=new dV(Z,j,Mt,$e),Ge=new vV(Z,xe,j,Mt),ft=new gV(Z,ce,ht),Rt=new aV(rt),ze=new Ok(B,qt,ne,Ke,ce,$e,Rt),Pe=new $k(B,rt),mt=new Nk,vt=new Gk(Ke),Je=new nV(B,qt,ne,je,Ge,_,c),St=new Xk(B,Ge,ce),re=new e7(Z,Mt,ce,je),Bt=new rV(Z,Ke,Mt),ue=new pV(Z,Ke,Mt),Mt.programs=ze.programs,B.capabilities=ce,B.extensions=Ke,B.properties=rt,B.renderLists=mt,B.shadowMap=St,B.state=je,B.info=Mt}Be();const qe=new Zk(B,Z);this.xr=qe,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const Y=Ke.get("WEBGL_lose_context");Y&&Y.loseContext()},this.forceContextRestore=function(){const Y=Ke.get("WEBGL_lose_context");Y&&Y.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(Y){Y!==void 0&&($=Y,this.setSize(G,q,!1))},this.getSize=function(Y){return Y.set(G,q)},this.setSize=function(Y,ie,fe=!0){if(qe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=Y,q=ie,t.width=Math.floor(Y*$),t.height=Math.floor(ie*$),fe===!0&&(t.style.width=Y+"px",t.style.height=ie+"px"),this.setViewport(0,0,Y,ie)},this.getDrawingBufferSize=function(Y){return Y.set(G*$,q*$).floor()},this.setDrawingBufferSize=function(Y,ie,fe){G=Y,q=ie,$=fe,t.width=Math.floor(Y*fe),t.height=Math.floor(ie*fe),this.setViewport(0,0,Y,ie)},this.getCurrentViewport=function(Y){return Y.copy(H)},this.getViewport=function(Y){return Y.copy(oe)},this.setViewport=function(Y,ie,fe,le){Y.isVector4?oe.set(Y.x,Y.y,Y.z,Y.w):oe.set(Y,ie,fe,le),je.viewport(H.copy(oe).multiplyScalar($).round())},this.getScissor=function(Y){return Y.copy(ve)},this.setScissor=function(Y,ie,fe,le){Y.isVector4?ve.set(Y.x,Y.y,Y.z,Y.w):ve.set(Y,ie,fe,le),je.scissor(V.copy(ve).multiplyScalar($).round())},this.getScissorTest=function(){return Ae},this.setScissorTest=function(Y){je.setScissorTest(Ae=Y)},this.setOpaqueSort=function(Y){pe=Y},this.setTransparentSort=function(Y){z=Y},this.getClearColor=function(Y){return Y.copy(Je.getClearColor())},this.setClearColor=function(){Je.setClearColor(...arguments)},this.getClearAlpha=function(){return Je.getClearAlpha()},this.setClearAlpha=function(){Je.setClearAlpha(...arguments)},this.clear=function(Y=!0,ie=!0,fe=!0){let le=0;if(Y){let ge=!1;if(P!==null){const Re=P.texture.format;ge=Re===sb||Re===rb||Re===Ky}if(ge){const Re=P.texture.type,Xe=Re===hr||Re===Vl||Re===Sg||Re===rp||Re===nb||Re===ib,it=Je.getClearColor(),st=Je.getClearAlpha(),_t=it.r,bt=it.g,Ct=it.b;Xe?(S[0]=_t,S[1]=bt,S[2]=Ct,S[3]=st,Z.clearBufferuiv(Z.COLOR,0,S)):(M[0]=_t,M[1]=bt,M[2]=Ct,M[3]=st,Z.clearBufferiv(Z.COLOR,0,M))}else le|=Z.COLOR_BUFFER_BIT}ie&&(le|=Z.DEPTH_BUFFER_BIT),fe&&(le|=Z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Z.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",gt,!1),t.removeEventListener("webglcontextrestored",ut,!1),t.removeEventListener("webglcontextcreationerror",Ze,!1),Je.dispose(),mt.dispose(),vt.dispose(),rt.dispose(),qt.dispose(),ne.dispose(),Ge.dispose(),$e.dispose(),re.dispose(),ze.dispose(),qe.dispose(),qe.removeEventListener("sessionstart",pt),qe.removeEventListener("sessionend",Ht),Dt.stop()};function gt(Y){Y.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),L=!0}function ut(){console.log("THREE.WebGLRenderer: Context Restored."),L=!1;const Y=Mt.autoReset,ie=St.enabled,fe=St.autoUpdate,le=St.needsUpdate,ge=St.type;Be(),Mt.autoReset=Y,St.enabled=ie,St.autoUpdate=fe,St.needsUpdate=le,St.type=ge}function Ze(Y){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Y.statusMessage)}function Tt(Y){const ie=Y.target;ie.removeEventListener("dispose",Tt),Pt(ie)}function Pt(Y){fn(Y),rt.remove(Y)}function fn(Y){const ie=rt.get(Y).programs;ie!==void 0&&(ie.forEach(function(fe){ze.releaseProgram(fe)}),Y.isShaderMaterial&&ze.releaseShaderCache(Y))}this.renderBufferDirect=function(Y,ie,fe,le,ge,Re){ie===null&&(ie=zt);const Xe=ge.isMesh&&ge.matrixWorld.determinant()<0,it=de(Y,ie,fe,le,ge);je.setMaterial(le,Xe);let st=fe.index,_t=1;if(le.wireframe===!0){if(st=xe.getWireframeAttribute(fe),st===void 0)return;_t=2}const bt=fe.drawRange,Ct=fe.attributes.position;let Gt=bt.start*_t,Kt=(bt.start+bt.count)*_t;Re!==null&&(Gt=Math.max(Gt,Re.start*_t),Kt=Math.min(Kt,(Re.start+Re.count)*_t)),st!==null?(Gt=Math.max(Gt,0),Kt=Math.min(Kt,st.count)):Ct!=null&&(Gt=Math.max(Gt,0),Kt=Math.min(Kt,Ct.count));const On=Kt-Gt;if(On<0||On===1/0)return;$e.setup(ge,le,it,fe,st);let Vt,Qt=Bt;if(st!==null&&(Vt=j.get(st),Qt=ue,Qt.setIndex(Vt)),ge.isMesh)le.wireframe===!0?(je.setLineWidth(le.wireframeLinewidth*ot()),Qt.setMode(Z.LINES)):Qt.setMode(Z.TRIANGLES);else if(ge.isLine){let kt=le.linewidth;kt===void 0&&(kt=1),je.setLineWidth(kt*ot()),ge.isLineSegments?Qt.setMode(Z.LINES):ge.isLineLoop?Qt.setMode(Z.LINE_LOOP):Qt.setMode(Z.LINE_STRIP)}else ge.isPoints?Qt.setMode(Z.POINTS):ge.isSprite&&Qt.setMode(Z.TRIANGLES);if(ge.isBatchedMesh)if(ge._multiDrawInstances!==null)lg("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Qt.renderMultiDrawInstances(ge._multiDrawStarts,ge._multiDrawCounts,ge._multiDrawCount,ge._multiDrawInstances);else if(Ke.get("WEBGL_multi_draw"))Qt.renderMultiDraw(ge._multiDrawStarts,ge._multiDrawCounts,ge._multiDrawCount);else{const kt=ge._multiDrawStarts,di=ge._multiDrawCounts,hn=ge._multiDrawCount,vn=st?j.get(st).bytesPerElement:1,vi=rt.get(le).currentProgram.getUniforms();for(let rn=0;rn<hn;rn++)vi.setValue(Z,"_gl_DrawID",rn),Qt.render(kt[rn]/vn,di[rn])}else if(ge.isInstancedMesh)Qt.renderInstances(Gt,On,ge.count);else if(fe.isInstancedBufferGeometry){const kt=fe._maxInstanceCount!==void 0?fe._maxInstanceCount:1/0,di=Math.min(fe.instanceCount,kt);Qt.renderInstances(Gt,On,di)}else Qt.render(Gt,On)};function Et(Y,ie,fe){Y.transparent===!0&&Y.side===Hs&&Y.forceSinglePass===!1?(Y.side=qr,Y.needsUpdate=!0,tn(Y,ie,fe),Y.side=Gl,Y.needsUpdate=!0,tn(Y,ie,fe),Y.side=Hs):tn(Y,ie,fe)}this.compile=function(Y,ie,fe=null){fe===null&&(fe=Y),A=vt.get(fe),A.init(ie),w.push(A),fe.traverseVisible(function(ge){ge.isLight&&ge.layers.test(ie.layers)&&(A.pushLight(ge),ge.castShadow&&A.pushShadow(ge))}),Y!==fe&&Y.traverseVisible(function(ge){ge.isLight&&ge.layers.test(ie.layers)&&(A.pushLight(ge),ge.castShadow&&A.pushShadow(ge))}),A.setupLights();const le=new Set;return Y.traverse(function(ge){if(!(ge.isMesh||ge.isPoints||ge.isLine||ge.isSprite))return;const Re=ge.material;if(Re)if(Array.isArray(Re))for(let Xe=0;Xe<Re.length;Xe++){const it=Re[Xe];Et(it,fe,ge),le.add(it)}else Et(Re,fe,ge),le.add(Re)}),A=w.pop(),le},this.compileAsync=function(Y,ie,fe=null){const le=this.compile(Y,ie,fe);return new Promise(ge=>{function Re(){if(le.forEach(function(Xe){rt.get(Xe).currentProgram.isReady()&&le.delete(Xe)}),le.size===0){ge(Y);return}setTimeout(Re,10)}Ke.get("KHR_parallel_shader_compile")!==null?Re():setTimeout(Re,10)})};let It=null;function Jt(Y){It&&It(Y)}function pt(){Dt.stop()}function Ht(){Dt.start()}const Dt=new IN;Dt.setAnimationLoop(Jt),typeof self<"u"&&Dt.setContext(self),this.setAnimationLoop=function(Y){It=Y,qe.setAnimationLoop(Y),Y===null?Dt.stop():Dt.start()},qe.addEventListener("sessionstart",pt),qe.addEventListener("sessionend",Ht),this.render=function(Y,ie){if(ie!==void 0&&ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(L===!0)return;if(Y.matrixWorldAutoUpdate===!0&&Y.updateMatrixWorld(),ie.parent===null&&ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),qe.enabled===!0&&qe.isPresenting===!0&&(qe.cameraAutoUpdate===!0&&qe.updateCamera(ie),ie=qe.getCamera()),Y.isScene===!0&&Y.onBeforeRender(B,Y,ie,P),A=vt.get(Y,w.length),A.init(ie),w.push(A),Ue.multiplyMatrices(ie.projectionMatrix,ie.matrixWorldInverse),se.setFromProjectionMatrix(Ue),we=this.localClippingEnabled,Te=Rt.init(this.clippingPlanes,we),b=mt.get(Y,C.length),b.init(),C.push(b),qe.enabled===!0&&qe.isPresenting===!0){const Re=B.xr.getDepthSensingMesh();Re!==null&&Wt(Re,ie,-1/0,B.sortObjects)}Wt(Y,ie,0,B.sortObjects),b.finish(),B.sortObjects===!0&&b.sort(pe,z),Lt=qe.enabled===!1||qe.isPresenting===!1||qe.hasDepthSensing()===!1,Lt&&Je.addToRenderList(b,Y),this.info.render.frame++,Te===!0&&Rt.beginShadows();const fe=A.state.shadowsArray;St.render(fe,Y,ie),Te===!0&&Rt.endShadows(),this.info.autoReset===!0&&this.info.reset();const le=b.opaque,ge=b.transmissive;if(A.setupLights(),ie.isArrayCamera){const Re=ie.cameras;if(ge.length>0)for(let Xe=0,it=Re.length;Xe<it;Xe++){const st=Re[Xe];en(le,ge,Y,st)}Lt&&Je.render(Y);for(let Xe=0,it=Re.length;Xe<it;Xe++){const st=Re[Xe];ai(b,Y,st,st.viewport)}}else ge.length>0&&en(le,ge,Y,ie),Lt&&Je.render(Y),ai(b,Y,ie);P!==null&&I===0&&(ht.updateMultisampleRenderTarget(P),ht.updateRenderTargetMipmap(P)),Y.isScene===!0&&Y.onAfterRender(B,Y,ie),$e.resetDefaultState(),U=-1,O=null,w.pop(),w.length>0?(A=w[w.length-1],Te===!0&&Rt.setGlobalState(B.clippingPlanes,A.state.camera)):A=null,C.pop(),C.length>0?b=C[C.length-1]:b=null};function Wt(Y,ie,fe,le){if(Y.visible===!1)return;if(Y.layers.test(ie.layers)){if(Y.isGroup)fe=Y.renderOrder;else if(Y.isLOD)Y.autoUpdate===!0&&Y.update(ie);else if(Y.isLight)A.pushLight(Y),Y.castShadow&&A.pushShadow(Y);else if(Y.isSprite){if(!Y.frustumCulled||se.intersectsSprite(Y)){le&&At.setFromMatrixPosition(Y.matrixWorld).applyMatrix4(Ue);const Xe=Ge.update(Y),it=Y.material;it.visible&&b.push(Y,Xe,it,fe,At.z,null)}}else if((Y.isMesh||Y.isLine||Y.isPoints)&&(!Y.frustumCulled||se.intersectsObject(Y))){const Xe=Ge.update(Y),it=Y.material;if(le&&(Y.boundingSphere!==void 0?(Y.boundingSphere===null&&Y.computeBoundingSphere(),At.copy(Y.boundingSphere.center)):(Xe.boundingSphere===null&&Xe.computeBoundingSphere(),At.copy(Xe.boundingSphere.center)),At.applyMatrix4(Y.matrixWorld).applyMatrix4(Ue)),Array.isArray(it)){const st=Xe.groups;for(let _t=0,bt=st.length;_t<bt;_t++){const Ct=st[_t],Gt=it[Ct.materialIndex];Gt&&Gt.visible&&b.push(Y,Xe,Gt,fe,At.z,Ct)}}else it.visible&&b.push(Y,Xe,it,fe,At.z,null)}}const Re=Y.children;for(let Xe=0,it=Re.length;Xe<it;Xe++)Wt(Re[Xe],ie,fe,le)}function ai(Y,ie,fe,le){const ge=Y.opaque,Re=Y.transmissive,Xe=Y.transparent;A.setupLightsView(fe),Te===!0&&Rt.setGlobalState(B.clippingPlanes,fe),le&&je.viewport(H.copy(le)),ge.length>0&&Nt(ge,ie,fe),Re.length>0&&Nt(Re,ie,fe),Xe.length>0&&Nt(Xe,ie,fe),je.buffers.depth.setTest(!0),je.buffers.depth.setMask(!0),je.buffers.color.setMask(!0),je.setPolygonOffset(!1)}function en(Y,ie,fe,le){if((fe.isScene===!0?fe.overrideMaterial:null)!==null)return;A.state.transmissionRenderTarget[le.id]===void 0&&(A.state.transmissionRenderTarget[le.id]=new dr(1,1,{generateMipmaps:!0,type:Ke.has("EXT_color_buffer_half_float")||Ke.has("EXT_color_buffer_float")?Wr:hr,minFilter:Wo,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Wn.workingColorSpace}));const Re=A.state.transmissionRenderTarget[le.id],Xe=le.viewport||H;Re.setSize(Xe.z*B.transmissionResolutionScale,Xe.w*B.transmissionResolutionScale);const it=B.getRenderTarget();B.setRenderTarget(Re),B.getClearColor(K),ae=B.getClearAlpha(),ae<1&&B.setClearColor(16777215,.5),B.clear(),Lt&&Je.render(fe);const st=B.toneMapping;B.toneMapping=zl;const _t=le.viewport;if(le.viewport!==void 0&&(le.viewport=void 0),A.setupLightsView(le),Te===!0&&Rt.setGlobalState(B.clippingPlanes,le),Nt(Y,fe,le),ht.updateMultisampleRenderTarget(Re),ht.updateRenderTargetMipmap(Re),Ke.has("WEBGL_multisampled_render_to_texture")===!1){let bt=!1;for(let Ct=0,Gt=ie.length;Ct<Gt;Ct++){const Kt=ie[Ct],On=Kt.object,Vt=Kt.geometry,Qt=Kt.material,kt=Kt.group;if(Qt.side===Hs&&On.layers.test(le.layers)){const di=Qt.side;Qt.side=qr,Qt.needsUpdate=!0,ii(On,fe,le,Vt,Qt,kt),Qt.side=di,Qt.needsUpdate=!0,bt=!0}}bt===!0&&(ht.updateMultisampleRenderTarget(Re),ht.updateRenderTargetMipmap(Re))}B.setRenderTarget(it),B.setClearColor(K,ae),_t!==void 0&&(le.viewport=_t),B.toneMapping=st}function Nt(Y,ie,fe){const le=ie.isScene===!0?ie.overrideMaterial:null;for(let ge=0,Re=Y.length;ge<Re;ge++){const Xe=Y[ge],it=Xe.object,st=Xe.geometry,_t=Xe.group;let bt=Xe.material;bt.allowOverride===!0&&le!==null&&(bt=le),it.layers.test(fe.layers)&&ii(it,ie,fe,st,bt,_t)}}function ii(Y,ie,fe,le,ge,Re){Y.onBeforeRender(B,ie,fe,le,ge,Re),Y.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,Y.matrixWorld),Y.normalMatrix.getNormalMatrix(Y.modelViewMatrix),ge.onBeforeRender(B,ie,fe,le,Y,Re),ge.transparent===!0&&ge.side===Hs&&ge.forceSinglePass===!1?(ge.side=qr,ge.needsUpdate=!0,B.renderBufferDirect(fe,ie,le,ge,Y,Re),ge.side=Gl,ge.needsUpdate=!0,B.renderBufferDirect(fe,ie,le,ge,Y,Re),ge.side=Hs):B.renderBufferDirect(fe,ie,le,ge,Y,Re),Y.onAfterRender(B,ie,fe,le,ge,Re)}function tn(Y,ie,fe){ie.isScene!==!0&&(ie=zt);const le=rt.get(Y),ge=A.state.lights,Re=A.state.shadowsArray,Xe=ge.state.version,it=ze.getParameters(Y,ge.state,Re,ie,fe),st=ze.getProgramCacheKey(it);let _t=le.programs;le.environment=Y.isMeshStandardMaterial?ie.environment:null,le.fog=ie.fog,le.envMap=(Y.isMeshStandardMaterial?ne:qt).get(Y.envMap||le.environment),le.envMapRotation=le.environment!==null&&Y.envMap===null?ie.environmentRotation:Y.envMapRotation,_t===void 0&&(Y.addEventListener("dispose",Tt),_t=new Map,le.programs=_t);let bt=_t.get(st);if(bt!==void 0){if(le.currentProgram===bt&&le.lightsStateVersion===Xe)return J(Y,it),bt}else it.uniforms=ze.getUniforms(Y),Y.onBeforeCompile(it,B),bt=ze.acquireProgram(it,st),_t.set(st,bt),le.uniforms=it.uniforms;const Ct=le.uniforms;return(!Y.isShaderMaterial&&!Y.isRawShaderMaterial||Y.clipping===!0)&&(Ct.clippingPlanes=Rt.uniform),J(Y,it),le.needsLights=De(Y),le.lightsStateVersion=Xe,le.needsLights&&(Ct.ambientLightColor.value=ge.state.ambient,Ct.lightProbe.value=ge.state.probe,Ct.directionalLights.value=ge.state.directional,Ct.directionalLightShadows.value=ge.state.directionalShadow,Ct.spotLights.value=ge.state.spot,Ct.spotLightShadows.value=ge.state.spotShadow,Ct.rectAreaLights.value=ge.state.rectArea,Ct.ltc_1.value=ge.state.rectAreaLTC1,Ct.ltc_2.value=ge.state.rectAreaLTC2,Ct.pointLights.value=ge.state.point,Ct.pointLightShadows.value=ge.state.pointShadow,Ct.hemisphereLights.value=ge.state.hemi,Ct.directionalShadowMap.value=ge.state.directionalShadowMap,Ct.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,Ct.spotShadowMap.value=ge.state.spotShadowMap,Ct.spotLightMatrix.value=ge.state.spotLightMatrix,Ct.spotLightMap.value=ge.state.spotLightMap,Ct.pointShadowMap.value=ge.state.pointShadowMap,Ct.pointShadowMatrix.value=ge.state.pointShadowMatrix),le.currentProgram=bt,le.uniformsList=null,bt}function X(Y){if(Y.uniformsList===null){const ie=Y.currentProgram.getUniforms();Y.uniformsList=_S.seqWithValue(ie.seq,Y.uniforms)}return Y.uniformsList}function J(Y,ie){const fe=rt.get(Y);fe.outputColorSpace=ie.outputColorSpace,fe.batching=ie.batching,fe.batchingColor=ie.batchingColor,fe.instancing=ie.instancing,fe.instancingColor=ie.instancingColor,fe.instancingMorph=ie.instancingMorph,fe.skinning=ie.skinning,fe.morphTargets=ie.morphTargets,fe.morphNormals=ie.morphNormals,fe.morphColors=ie.morphColors,fe.morphTargetsCount=ie.morphTargetsCount,fe.numClippingPlanes=ie.numClippingPlanes,fe.numIntersection=ie.numClipIntersection,fe.vertexAlphas=ie.vertexAlphas,fe.vertexTangents=ie.vertexTangents,fe.toneMapping=ie.toneMapping}function de(Y,ie,fe,le,ge){ie.isScene!==!0&&(ie=zt),ht.resetTextureUnits();const Re=ie.fog,Xe=le.isMeshStandardMaterial?ie.environment:null,it=P===null?B.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:mo,st=(le.isMeshStandardMaterial?ne:qt).get(le.envMap||Xe),_t=le.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,bt=!!fe.attributes.tangent&&(!!le.normalMap||le.anisotropy>0),Ct=!!fe.morphAttributes.position,Gt=!!fe.morphAttributes.normal,Kt=!!fe.morphAttributes.color;let On=zl;le.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(On=B.toneMapping);const Vt=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,Qt=Vt!==void 0?Vt.length:0,kt=rt.get(le),di=A.state.lights;if(Te===!0&&(we===!0||Y!==O)){const yi=Y===O&&le.id===U;Rt.setState(le,Y,yi)}let hn=!1;le.version===kt.__version?(kt.needsLights&&kt.lightsStateVersion!==di.state.version||kt.outputColorSpace!==it||ge.isBatchedMesh&&kt.batching===!1||!ge.isBatchedMesh&&kt.batching===!0||ge.isBatchedMesh&&kt.batchingColor===!0&&ge.colorTexture===null||ge.isBatchedMesh&&kt.batchingColor===!1&&ge.colorTexture!==null||ge.isInstancedMesh&&kt.instancing===!1||!ge.isInstancedMesh&&kt.instancing===!0||ge.isSkinnedMesh&&kt.skinning===!1||!ge.isSkinnedMesh&&kt.skinning===!0||ge.isInstancedMesh&&kt.instancingColor===!0&&ge.instanceColor===null||ge.isInstancedMesh&&kt.instancingColor===!1&&ge.instanceColor!==null||ge.isInstancedMesh&&kt.instancingMorph===!0&&ge.morphTexture===null||ge.isInstancedMesh&&kt.instancingMorph===!1&&ge.morphTexture!==null||kt.envMap!==st||le.fog===!0&&kt.fog!==Re||kt.numClippingPlanes!==void 0&&(kt.numClippingPlanes!==Rt.numPlanes||kt.numIntersection!==Rt.numIntersection)||kt.vertexAlphas!==_t||kt.vertexTangents!==bt||kt.morphTargets!==Ct||kt.morphNormals!==Gt||kt.morphColors!==Kt||kt.toneMapping!==On||kt.morphTargetsCount!==Qt)&&(hn=!0):(hn=!0,kt.__version=le.version);let vn=kt.currentProgram;hn===!0&&(vn=tn(le,ie,ge));let vi=!1,rn=!1,Cn=!1;const Mn=vn.getUniforms(),Ri=kt.uniforms;if(je.useProgram(vn.program)&&(vi=!0,rn=!0,Cn=!0),le.id!==U&&(U=le.id,rn=!0),vi||O!==Y){je.buffers.depth.getReversed()?(Fe.copy(Y.projectionMatrix),WH(Fe),KH(Fe),Mn.setValue(Z,"projectionMatrix",Fe)):Mn.setValue(Z,"projectionMatrix",Y.projectionMatrix),Mn.setValue(Z,"viewMatrix",Y.matrixWorldInverse);const Tr=Mn.map.cameraPosition;Tr!==void 0&&Tr.setValue(Z,dt.setFromMatrixPosition(Y.matrixWorld)),ce.logarithmicDepthBuffer&&Mn.setValue(Z,"logDepthBufFC",2/(Math.log(Y.far+1)/Math.LN2)),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&Mn.setValue(Z,"isOrthographic",Y.isOrthographicCamera===!0),O!==Y&&(O=Y,rn=!0,Cn=!0)}if(ge.isSkinnedMesh){Mn.setOptional(Z,ge,"bindMatrix"),Mn.setOptional(Z,ge,"bindMatrixInverse");const yi=ge.skeleton;yi&&(yi.boneTexture===null&&yi.computeBoneTexture(),Mn.setValue(Z,"boneTexture",yi.boneTexture,ht))}ge.isBatchedMesh&&(Mn.setOptional(Z,ge,"batchingTexture"),Mn.setValue(Z,"batchingTexture",ge._matricesTexture,ht),Mn.setOptional(Z,ge,"batchingIdTexture"),Mn.setValue(Z,"batchingIdTexture",ge._indirectTexture,ht),Mn.setOptional(Z,ge,"batchingColorTexture"),ge._colorsTexture!==null&&Mn.setValue(Z,"batchingColorTexture",ge._colorsTexture,ht));const kn=fe.morphAttributes;if((kn.position!==void 0||kn.normal!==void 0||kn.color!==void 0)&&ft.update(ge,fe,vn),(rn||kt.receiveShadow!==ge.receiveShadow)&&(kt.receiveShadow=ge.receiveShadow,Mn.setValue(Z,"receiveShadow",ge.receiveShadow)),le.isMeshGouraudMaterial&&le.envMap!==null&&(Ri.envMap.value=st,Ri.flipEnvMap.value=st.isCubeTexture&&st.isRenderTargetTexture===!1?-1:1),le.isMeshStandardMaterial&&le.envMap===null&&ie.environment!==null&&(Ri.envMapIntensity.value=ie.environmentIntensity),rn&&(Mn.setValue(Z,"toneMappingExposure",B.toneMappingExposure),kt.needsLights&&be(Ri,Cn),Re&&le.fog===!0&&Pe.refreshFogUniforms(Ri,Re),Pe.refreshMaterialUniforms(Ri,le,$,q,A.state.transmissionRenderTarget[Y.id]),_S.upload(Z,X(kt),Ri,ht)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(_S.upload(Z,X(kt),Ri,ht),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&Mn.setValue(Z,"center",ge.center),Mn.setValue(Z,"modelViewMatrix",ge.modelViewMatrix),Mn.setValue(Z,"normalMatrix",ge.normalMatrix),Mn.setValue(Z,"modelMatrix",ge.matrixWorld),le.isShaderMaterial||le.isRawShaderMaterial){const yi=le.uniformsGroups;for(let Tr=0,ls=yi.length;Tr<ls;Tr++){const xo=yi[Tr];re.update(xo,vn),re.bind(xo,vn)}}return vn}function be(Y,ie){Y.ambientLightColor.needsUpdate=ie,Y.lightProbe.needsUpdate=ie,Y.directionalLights.needsUpdate=ie,Y.directionalLightShadows.needsUpdate=ie,Y.pointLights.needsUpdate=ie,Y.pointLightShadows.needsUpdate=ie,Y.spotLights.needsUpdate=ie,Y.spotLightShadows.needsUpdate=ie,Y.rectAreaLights.needsUpdate=ie,Y.hemisphereLights.needsUpdate=ie}function De(Y){return Y.isMeshLambertMaterial||Y.isMeshToonMaterial||Y.isMeshPhongMaterial||Y.isMeshStandardMaterial||Y.isShadowMaterial||Y.isShaderMaterial&&Y.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(Y,ie,fe){const le=rt.get(Y);le.__autoAllocateDepthBuffer=Y.resolveDepthBuffer===!1,le.__autoAllocateDepthBuffer===!1&&(le.__useRenderToTexture=!1),rt.get(Y.texture).__webglTexture=ie,rt.get(Y.depthTexture).__webglTexture=le.__autoAllocateDepthBuffer?void 0:fe,le.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Y,ie){const fe=rt.get(Y);fe.__webglFramebuffer=ie,fe.__useDefaultFramebuffer=ie===void 0};const He=Z.createFramebuffer();this.setRenderTarget=function(Y,ie=0,fe=0){P=Y,N=ie,I=fe;let le=!0,ge=null,Re=!1,Xe=!1;if(Y){const st=rt.get(Y);if(st.__useDefaultFramebuffer!==void 0)je.bindFramebuffer(Z.FRAMEBUFFER,null),le=!1;else if(st.__webglFramebuffer===void 0)ht.setupRenderTarget(Y);else if(st.__hasExternalTextures)ht.rebindTextures(Y,rt.get(Y.texture).__webglTexture,rt.get(Y.depthTexture).__webglTexture);else if(Y.depthBuffer){const Ct=Y.depthTexture;if(st.__boundDepthTexture!==Ct){if(Ct!==null&&rt.has(Ct)&&(Y.width!==Ct.image.width||Y.height!==Ct.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ht.setupDepthRenderbuffer(Y)}}const _t=Y.texture;(_t.isData3DTexture||_t.isDataArrayTexture||_t.isCompressedArrayTexture)&&(Xe=!0);const bt=rt.get(Y).__webglFramebuffer;Y.isWebGLCubeRenderTarget?(Array.isArray(bt[ie])?ge=bt[ie][fe]:ge=bt[ie],Re=!0):Y.samples>0&&ht.useMultisampledRTT(Y)===!1?ge=rt.get(Y).__webglMultisampledFramebuffer:Array.isArray(bt)?ge=bt[fe]:ge=bt,H.copy(Y.viewport),V.copy(Y.scissor),W=Y.scissorTest}else H.copy(oe).multiplyScalar($).floor(),V.copy(ve).multiplyScalar($).floor(),W=Ae;if(fe!==0&&(ge=He),je.bindFramebuffer(Z.FRAMEBUFFER,ge)&&le&&je.drawBuffers(Y,ge),je.viewport(H),je.scissor(V),je.setScissorTest(W),Re){const st=rt.get(Y.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+ie,st.__webglTexture,fe)}else if(Xe){const st=rt.get(Y.texture),_t=ie;Z.framebufferTextureLayer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,st.__webglTexture,fe,_t)}else if(Y!==null&&fe!==0){const st=rt.get(Y.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,st.__webglTexture,fe)}U=-1},this.readRenderTargetPixels=function(Y,ie,fe,le,ge,Re,Xe,it=0){if(!(Y&&Y.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let st=rt.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&Xe!==void 0&&(st=st[Xe]),st){je.bindFramebuffer(Z.FRAMEBUFFER,st);try{const _t=Y.textures[it],bt=_t.format,Ct=_t.type;if(!ce.textureFormatReadable(bt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ce.textureTypeReadable(Ct)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ie>=0&&ie<=Y.width-le&&fe>=0&&fe<=Y.height-ge&&(Y.textures.length>1&&Z.readBuffer(Z.COLOR_ATTACHMENT0+it),Z.readPixels(ie,fe,le,ge,Se.convert(bt),Se.convert(Ct),Re))}finally{const _t=P!==null?rt.get(P).__webglFramebuffer:null;je.bindFramebuffer(Z.FRAMEBUFFER,_t)}}},this.readRenderTargetPixelsAsync=async function(Y,ie,fe,le,ge,Re,Xe,it=0){if(!(Y&&Y.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let st=rt.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&Xe!==void 0&&(st=st[Xe]),st)if(ie>=0&&ie<=Y.width-le&&fe>=0&&fe<=Y.height-ge){je.bindFramebuffer(Z.FRAMEBUFFER,st);const _t=Y.textures[it],bt=_t.format,Ct=_t.type;if(!ce.textureFormatReadable(bt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ce.textureTypeReadable(Ct))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Gt=Z.createBuffer();Z.bindBuffer(Z.PIXEL_PACK_BUFFER,Gt),Z.bufferData(Z.PIXEL_PACK_BUFFER,Re.byteLength,Z.STREAM_READ),Y.textures.length>1&&Z.readBuffer(Z.COLOR_ATTACHMENT0+it),Z.readPixels(ie,fe,le,ge,Se.convert(bt),Se.convert(Ct),0);const Kt=P!==null?rt.get(P).__webglFramebuffer:null;je.bindFramebuffer(Z.FRAMEBUFFER,Kt);const On=Z.fenceSync(Z.SYNC_GPU_COMMANDS_COMPLETE,0);return Z.flush(),await qH(Z,On,4),Z.bindBuffer(Z.PIXEL_PACK_BUFFER,Gt),Z.getBufferSubData(Z.PIXEL_PACK_BUFFER,0,Re),Z.deleteBuffer(Gt),Z.deleteSync(On),Re}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Y,ie=null,fe=0){const le=Math.pow(2,-fe),ge=Math.floor(Y.image.width*le),Re=Math.floor(Y.image.height*le),Xe=ie!==null?ie.x:0,it=ie!==null?ie.y:0;ht.setTexture2D(Y,0),Z.copyTexSubImage2D(Z.TEXTURE_2D,fe,0,0,Xe,it,ge,Re),je.unbindTexture()};const lt=Z.createFramebuffer(),Qe=Z.createFramebuffer();this.copyTextureToTexture=function(Y,ie,fe=null,le=null,ge=0,Re=null){Re===null&&(ge!==0?(lg("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Re=ge,ge=0):Re=0);let Xe,it,st,_t,bt,Ct,Gt,Kt,On;const Vt=Y.isCompressedTexture?Y.mipmaps[Re]:Y.image;if(fe!==null)Xe=fe.max.x-fe.min.x,it=fe.max.y-fe.min.y,st=fe.isBox3?fe.max.z-fe.min.z:1,_t=fe.min.x,bt=fe.min.y,Ct=fe.isBox3?fe.min.z:0;else{const kn=Math.pow(2,-ge);Xe=Math.floor(Vt.width*kn),it=Math.floor(Vt.height*kn),Y.isDataArrayTexture?st=Vt.depth:Y.isData3DTexture?st=Math.floor(Vt.depth*kn):st=1,_t=0,bt=0,Ct=0}le!==null?(Gt=le.x,Kt=le.y,On=le.z):(Gt=0,Kt=0,On=0);const Qt=Se.convert(ie.format),kt=Se.convert(ie.type);let di;ie.isData3DTexture?(ht.setTexture3D(ie,0),di=Z.TEXTURE_3D):ie.isDataArrayTexture||ie.isCompressedArrayTexture?(ht.setTexture2DArray(ie,0),di=Z.TEXTURE_2D_ARRAY):(ht.setTexture2D(ie,0),di=Z.TEXTURE_2D),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,ie.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,ie.unpackAlignment);const hn=Z.getParameter(Z.UNPACK_ROW_LENGTH),vn=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),vi=Z.getParameter(Z.UNPACK_SKIP_PIXELS),rn=Z.getParameter(Z.UNPACK_SKIP_ROWS),Cn=Z.getParameter(Z.UNPACK_SKIP_IMAGES);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Vt.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Vt.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,_t),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,bt),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,Ct);const Mn=Y.isDataArrayTexture||Y.isData3DTexture,Ri=ie.isDataArrayTexture||ie.isData3DTexture;if(Y.isDepthTexture){const kn=rt.get(Y),yi=rt.get(ie),Tr=rt.get(kn.__renderTarget),ls=rt.get(yi.__renderTarget);je.bindFramebuffer(Z.READ_FRAMEBUFFER,Tr.__webglFramebuffer),je.bindFramebuffer(Z.DRAW_FRAMEBUFFER,ls.__webglFramebuffer);for(let xo=0;xo<st;xo++)Mn&&(Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,rt.get(Y).__webglTexture,ge,Ct+xo),Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,rt.get(ie).__webglTexture,Re,On+xo)),Z.blitFramebuffer(_t,bt,Xe,it,Gt,Kt,Xe,it,Z.DEPTH_BUFFER_BIT,Z.NEAREST);je.bindFramebuffer(Z.READ_FRAMEBUFFER,null),je.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else if(ge!==0||Y.isRenderTargetTexture||rt.has(Y)){const kn=rt.get(Y),yi=rt.get(ie);je.bindFramebuffer(Z.READ_FRAMEBUFFER,lt),je.bindFramebuffer(Z.DRAW_FRAMEBUFFER,Qe);for(let Tr=0;Tr<st;Tr++)Mn?Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,kn.__webglTexture,ge,Ct+Tr):Z.framebufferTexture2D(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,kn.__webglTexture,ge),Ri?Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,yi.__webglTexture,Re,On+Tr):Z.framebufferTexture2D(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,yi.__webglTexture,Re),ge!==0?Z.blitFramebuffer(_t,bt,Xe,it,Gt,Kt,Xe,it,Z.COLOR_BUFFER_BIT,Z.NEAREST):Ri?Z.copyTexSubImage3D(di,Re,Gt,Kt,On+Tr,_t,bt,Xe,it):Z.copyTexSubImage2D(di,Re,Gt,Kt,_t,bt,Xe,it);je.bindFramebuffer(Z.READ_FRAMEBUFFER,null),je.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else Ri?Y.isDataTexture||Y.isData3DTexture?Z.texSubImage3D(di,Re,Gt,Kt,On,Xe,it,st,Qt,kt,Vt.data):ie.isCompressedArrayTexture?Z.compressedTexSubImage3D(di,Re,Gt,Kt,On,Xe,it,st,Qt,Vt.data):Z.texSubImage3D(di,Re,Gt,Kt,On,Xe,it,st,Qt,kt,Vt):Y.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,Re,Gt,Kt,Xe,it,Qt,kt,Vt.data):Y.isCompressedTexture?Z.compressedTexSubImage2D(Z.TEXTURE_2D,Re,Gt,Kt,Vt.width,Vt.height,Qt,Vt.data):Z.texSubImage2D(Z.TEXTURE_2D,Re,Gt,Kt,Xe,it,Qt,kt,Vt);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,hn),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,vn),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,vi),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,rn),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,Cn),Re===0&&ie.generateMipmaps&&Z.generateMipmap(di),je.unbindTexture()},this.copyTextureToTexture3D=function(Y,ie,fe=null,le=null,ge=0){return lg('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Y,ie,fe,le,ge)},this.initRenderTarget=function(Y){rt.get(Y).__webglFramebuffer===void 0&&ht.setupRenderTarget(Y)},this.initTexture=function(Y){Y.isCubeTexture?ht.setTextureCube(Y,0):Y.isData3DTexture?ht.setTexture3D(Y,0):Y.isDataArrayTexture||Y.isCompressedArrayTexture?ht.setTexture2DArray(Y,0):ht.setTexture2D(Y,0),je.unbindTexture()},this.resetState=function(){N=0,I=0,P=null,je.reset(),$e.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ko}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Wn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Wn._getUnpackColorSpace()}}const t7=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:JC,AddEquation:Gf,AddOperation:_L,AdditiveAnimationBlendMode:n2,AdditiveBlending:TT,AgXToneMapping:ML,AlphaFormat:QC,AlwaysCompare:zL,AlwaysDepth:GS,AlwaysStencilFunc:DT,AmbientLight:EN,AnimationAction:NN,AnimationClip:Rg,AnimationLoader:x8,AnimationMixer:Y8,AnimationObjectGroup:k8,AnimationUtils:g8,ArcCurve:eN,ArrayCamera:ON,ArrowHelper:h6,AttachedBindMode:RT,Audio:UN,AudioAnalyser:U8,AudioContext:O2,AudioListener:B8,AudioLoader:C8,AxesHelper:d6,BackSide:qr,BasicDepthPacking:lh,BasicShadowMap:$U,BatchedMesh:ZL,Bone:fb,BooleanKeyframeTrack:xp,Box2:Q8,Box3:Ss,Box3Helper:c6,BoxGeometry:_p,BoxHelper:u6,BufferAttribute:$n,BufferGeometry:xn,BufferGeometryLoader:BN,ByteType:eb,Cache:Ec,Camera:Jy,CameraHelper:l6,CanvasTexture:z5,CapsuleGeometry:gb,CatmullRomCurve3:tN,CineonToneMapping:AL,CircleGeometry:vb,ClampToEdgeWrapping:Ar,Clock:U2,Color:wt,ColorKeyframeTrack:T2,ColorManagement:Wn,CompressedArrayTexture:I5,CompressedCubeTexture:F5,CompressedTexture:pb,CompressedTextureLoader:S8,ConeGeometry:t_,ConstantAlphaFactor:gL,ConstantColorFactor:pL,Controls:m6,CubeCamera:qL,CubeReflectionMapping:Hu,CubeRefractionMapping:eh,CubeTexture:Zy,CubeTextureLoader:AN,CubeUVReflectionMapping:Gg,CubicBezierCurve:g2,CubicBezierCurve3:nN,CubicInterpolant:_N,CullFaceBack:ET,CullFaceFront:QU,CullFaceFrontBack:Zz,CullFaceNone:ZU,Curve:Yl,CurvePath:rN,CustomBlending:eL,CustomToneMapping:bL,CylinderGeometry:e_,Cylindrical:Z8,Data3DTexture:lb,DataArrayTexture:ob,DataTexture:Hl,DataTextureLoader:C2,DataUtils:Pd,DecrementStencilOp:oH,DecrementWrapStencilOp:uH,DefaultLoadingManager:Zm,DepthFormat:Ag,DepthStencilFormat:sp,DepthTexture:mb,DetachedBindMode:TL,DirectionalLight:D2,DirectionalLightHelper:o6,DiscreteInterpolant:xN,DodecahedronGeometry:yb,DoubleSide:Hs,DstAlphaFactor:uL,DstColorFactor:fL,DynamicCopyUsage:MH,DynamicDrawUsage:yH,DynamicReadUsage:SH,EdgesGeometry:$L,EllipseCurve:_b,EqualCompare:NL,EqualDepth:kS,EqualStencilFunc:dH,EquirectangularReflectionMapping:_g,EquirectangularRefractionMapping:vy,Euler:go,EventDispatcher:_o,ExtrudeGeometry:xb,FileLoader:As,Float16BufferAttribute:g5,Float32BufferAttribute:jt,FloatType:qi,Fog:cb,FogExp2:ub,FramebufferTexture:P5,FrontSide:Gl,Frustum:Vg,FrustumArray:hb,GLBufferAttribute:J8,GLSL1:TH,GLSL3:OT,GreaterCompare:PL,GreaterDepth:YS,GreaterEqualCompare:FL,GreaterEqualDepth:XS,GreaterEqualStencilFunc:vH,GreaterStencilFunc:mH,GridHelper:s6,Group:Mc,HalfFloatType:Wr,HemisphereLight:MN,HemisphereLightHelper:r6,IcosahedronGeometry:n_,ImageBitmapLoader:DN,ImageLoader:Ty,ImageUtils:kL,IncrementStencilOp:aH,IncrementWrapStencilOp:lH,InstancedBufferAttribute:op,InstancedBufferGeometry:RN,InstancedInterleavedBuffer:K8,InstancedMesh:h2,Int16BufferAttribute:p5,Int32BufferAttribute:m5,Int8BufferAttribute:f5,IntType:qy,InterleavedBuffer:Qy,InterleavedBufferAttribute:nh,Interpolant:kg,InterpolateDiscrete:bg,InterpolateLinear:Mg,InterpolateSmooth:vS,InterpolationSamplingMode:RH,InterpolationSamplingType:wH,InvertStencilOp:cH,KeepStencilOp:Td,KeyframeTrack:il,LOD:JL,LatheGeometry:Sb,Layers:Tg,LessCompare:LL,LessDepth:VS,LessEqualCompare:r2,LessEqualDepth:ip,LessEqualStencilFunc:pH,LessStencilFunc:hH,Light:hh,LightProbe:wN,Line:Bc,Line3:$8,LineBasicMaterial:js,LineCurve:v2,LineCurve3:iN,LineDashedMaterial:gN,LineLoop:d2,LineSegments:Xl,LinearFilter:Jn,LinearInterpolant:E2,LinearMipMapLinearFilter:BT,LinearMipMapNearestFilter:eH,LinearMipmapLinearFilter:Wo,LinearMipmapNearestFilter:og,LinearSRGBColorSpace:mo,LinearToneMapping:xL,LinearTransfer:_y,Loader:Ms,LoaderUtils:Kf,LoadingManager:wb,LoopOnce:CL,LoopPingPong:RL,LoopRepeat:wL,MOUSE:Md,Material:Er,MaterialLoader:Rb,MathUtils:HL,Matrix2:I2,Matrix3:Tn,Matrix4:an,MaxEquation:rL,Mesh:zi,MeshBasicMaterial:Ia,MeshDepthMaterial:A2,MeshDistanceMaterial:b2,MeshLambertMaterial:pN,MeshMatcapMaterial:mN,MeshNormalMaterial:S2,MeshPhongMaterial:hN,MeshPhysicalMaterial:nl,MeshStandardMaterial:s_,MeshToonMaterial:dN,MinEquation:iL,MirroredRepeatWrapping:xg,MixOperation:yL,MultiplyBlending:wT,MultiplyOperation:jy,NearestFilter:fr,NearestMipMapLinearFilter:$z,NearestMipMapNearestFilter:Qz,NearestMipmapLinearFilter:Ud,NearestMipmapNearestFilter:$A,NeutralToneMapping:EL,NeverCompare:UL,NeverDepth:HS,NeverStencilFunc:fH,NoBlending:xs,NoColorSpace:Pl,NoToneMapping:zl,NormalAnimationBlendMode:ab,NormalBlending:Xd,NotEqualCompare:IL,NotEqualDepth:jS,NotEqualStencilFunc:gH,NumberKeyframeTrack:up,Object3D:Qn,ObjectLoader:E8,ObjectSpaceNormalMap:OL,OctahedronGeometry:i_,OneFactor:aL,OneMinusConstantAlphaFactor:vL,OneMinusConstantColorFactor:mL,OneMinusDstAlphaFactor:cL,OneMinusDstColorFactor:hL,OneMinusSrcAlphaFactor:zS,OneMinusSrcColorFactor:lL,OrthographicCamera:Nu,PCFShadowMap:QA,PCFSoftShadowMap:Vv,PMREMGenerator:HT,Path:bA,PerspectiveCamera:er,Plane:xc,PlaneGeometry:fh,PlaneHelper:f6,PointLight:B2,PointLightHelper:n6,Points:p2,PointsMaterial:db,PolarGridHelper:a6,PolyhedronGeometry:ch,PositionalAudio:O8,PropertyBinding:ni,PropertyMixer:LN,QuadraticBezierCurve:y2,QuadraticBezierCurve3:_2,Quaternion:ss,QuaternionKeyframeTrack:cp,QuaternionLinearInterpolant:SN,RED_GREEN_RGTC2_Format:vA,RED_RGTC1_Format:t2,REVISION:vp,RGBADepthPacking:DL,RGBAFormat:br,RGBAIntegerFormat:sb,RGBA_ASTC_10x10_Format:fA,RGBA_ASTC_10x5_Format:lA,RGBA_ASTC_10x6_Format:uA,RGBA_ASTC_10x8_Format:cA,RGBA_ASTC_12x10_Format:hA,RGBA_ASTC_12x12_Format:dA,RGBA_ASTC_4x4_Format:eA,RGBA_ASTC_5x4_Format:tA,RGBA_ASTC_5x5_Format:nA,RGBA_ASTC_6x5_Format:iA,RGBA_ASTC_6x6_Format:rA,RGBA_ASTC_8x5_Format:sA,RGBA_ASTC_8x6_Format:aA,RGBA_ASTC_8x8_Format:oA,RGBA_BPTC_Format:qv,RGBA_ETC2_EAC_Format:$S,RGBA_PVRTC_2BPPV1_Format:JS,RGBA_PVRTC_4BPPV1_Format:KS,RGBA_S3TC_DXT1_Format:Xv,RGBA_S3TC_DXT3_Format:Yv,RGBA_S3TC_DXT5_Format:jv,RGBDepthPacking:nH,RGBFormat:$C,RGBIntegerFormat:tH,RGB_BPTC_SIGNED_Format:pA,RGB_BPTC_UNSIGNED_Format:mA,RGB_ETC1_Format:ZS,RGB_ETC2_Format:QS,RGB_PVRTC_2BPPV1_Format:WS,RGB_PVRTC_4BPPV1_Format:qS,RGB_S3TC_DXT1_Format:kv,RGDepthPacking:iH,RGFormat:e2,RGIntegerFormat:rb,RawShaderMaterial:fN,Ray:yp,Raycaster:P2,RectAreaLight:TN,RedFormat:Wy,RedIntegerFormat:Ky,ReinhardToneMapping:SL,RenderTarget:a2,RenderTarget3D:j8,RepeatWrapping:th,ReplaceStencilOp:sH,ReverseSubtractEquation:nL,RingGeometry:Ab,SIGNED_RED_GREEN_RGTC2_Format:yA,SIGNED_RED_RGTC1_Format:gA,SRGBColorSpace:si,SRGBTransfer:bi,Scene:ap,ShaderChunk:Dn,ShaderLib:Nl,ShaderMaterial:pr,ShadowMaterial:cN,Shape:jd,ShapeGeometry:bb,ShapePath:p6,ShapeUtils:Il,ShortType:tb,Skeleton:$y,SkeletonHelper:t6,SkinnedMesh:f2,Source:Vf,Sphere:as,SphereGeometry:r_,Spherical:FT,SphericalHarmonics3:CN,SplineCurve:x2,SpotLight:R2,SpotLightHelper:e6,Sprite:KL,SpriteMaterial:c2,SrcAlphaFactor:FS,SrcAlphaSaturateFactor:dL,SrcColorFactor:oL,StaticCopyUsage:bH,StaticDrawUsage:xy,StaticReadUsage:xH,StereoCamera:w8,StreamCopyUsage:EH,StreamDrawUsage:_H,StreamReadUsage:AH,StringKeyframeTrack:Sp,SubtractEquation:tL,SubtractiveBlending:CT,TOUCH:Ed,TangentSpaceNormalMap:uh,TetrahedronGeometry:Mb,Texture:hi,TextureLoader:bN,TextureUtils:x6,TimestampQuery:CH,TorusGeometry:Eb,TorusKnotGeometry:Tb,Triangle:Pa,TriangleFanDrawMode:_A,TriangleStripDrawMode:i2,TrianglesDrawMode:BL,TubeGeometry:Cb,UVMapping:$f,Uint16BufferAttribute:o2,Uint32BufferAttribute:l2,Uint8BufferAttribute:h5,Uint8ClampedBufferAttribute:d5,Uniform:ri,UniformsGroup:W8,UniformsLib:Ut,UniformsUtils:jL,UnsignedByteType:hr,UnsignedInt248Type:rp,UnsignedInt5999Type:ZC,UnsignedIntType:Vl,UnsignedShort4444Type:nb,UnsignedShort5551Type:ib,UnsignedShortType:Sg,VSMShadowMap:Ll,Vector2:Ye,Vector3:te,Vector4:Kn,VectorKeyframeTrack:fp,VideoFrameTexture:N5,VideoTexture:QL,WebGL3DRenderTarget:e5,WebGLArrayRenderTarget:$H,WebGLCoordinateSystem:Ko,WebGLCubeRenderTarget:u2,WebGLRenderTarget:dr,WebGLRenderer:z2,WebGLUtils:VN,WebGPUCoordinateSystem:Sy,WebXRController:yS,WireframeGeometry:uN,WrapAroundEnding:yy,ZeroCurvatureEnding:Ld,ZeroFactor:sL,ZeroSlopeEnding:Nd,ZeroStencilOp:rH,createCanvasElement:VL},Symbol.toStringTag,{value:"Module"}));var ME={exports:{}},vc={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s3;function n7(){return s3||(s3=1,vc.ConcurrentRoot=1,vc.ContinuousEventPriority=8,vc.DefaultEventPriority=32,vc.DiscreteEventPriority=2,vc.IdleEventPriority=268435456,vc.LegacyRoot=0,vc.NoEventPriority=0),vc}var a3;function i7(){return a3||(a3=1,ME.exports=n7()),ME.exports}var xS=i7(),EE={exports:{}},TE={},CE={exports:{}},wE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o3;function r7(){if(o3)return wE;o3=1;var i=tl();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var t=typeof Object.is=="function"?Object.is:e,n=i.useState,r=i.useEffect,s=i.useLayoutEffect,a=i.useDebugValue;function l(g,v){var _=v(),S=n({inst:{value:_,getSnapshot:v}}),M=S[0].inst,b=S[1];return s(function(){M.value=_,M.getSnapshot=v,c(M)&&b({inst:M})},[g,_,v]),r(function(){return c(M)&&b({inst:M}),g(function(){c(M)&&b({inst:M})})},[g]),a(_),_}function c(g){var v=g.getSnapshot;g=g.value;try{var _=v();return!t(g,_)}catch{return!0}}function h(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:l;return wE.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:m,wE}var l3;function s7(){return l3||(l3=1,CE.exports=r7()),CE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u3;function a7(){if(u3)return TE;u3=1;var i=tl(),e=s7();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=i.useRef,a=i.useEffect,l=i.useMemo,c=i.useDebugValue;return TE.useSyncExternalStoreWithSelector=function(h,m,g,v,_){var S=s(null);if(S.current===null){var M={hasValue:!1,value:null};S.current=M}else M=S.current;S=l(function(){function A(N){if(!C){if(C=!0,w=N,N=v(N),_!==void 0&&M.hasValue){var I=M.value;if(_(I,N))return B=I}return B=N}if(I=B,n(w,N))return I;var P=v(N);return _!==void 0&&_(I,P)?(w=N,I):(w=N,B=P)}var C=!1,w,B,L=g===void 0?null:g;return[function(){return A(m())},L===null?void 0:function(){return A(L())}]},[m,g,v,_]);var b=r(h,S[0],S[1]);return a(function(){M.hasValue=!0,M.value=b},[b]),c(b),b},TE}var c3;function o7(){return c3||(c3=1,EE.exports=a7()),EE.exports}var l7=o7();const u7=WA(l7),f3=i=>{let e;const t=new Set,n=(h,m)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const v=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(_=>_(e,v))}},r=()=>e,l={setState:n,getState:r,getInitialState:()=>c,subscribe:h=>(t.add(h),()=>t.delete(h))},c=e=i(n,r,l);return l},kN=i=>i?f3(i):f3,{useSyncExternalStoreWithSelector:c7}=u7,f7=i=>i;function h7(i,e=f7,t){const n=c7(i.subscribe,i.getState,i.getInitialState,e,t);return Fl.useDebugValue(n),n}const h3=(i,e)=>{const t=kN(i),n=(r,s=e)=>h7(t,r,s);return Object.assign(n,t),n},XN=(i,e)=>i?h3(i,e):h3;var RE={exports:{}},BE={exports:{}},DE={exports:{}},OE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3;function d7(){return d3||(d3=1,function(i){function e(G,q){var $=G.length;G.push(q);e:for(;0<$;){var pe=$-1>>>1,z=G[pe];if(0<r(z,q))G[pe]=q,G[$]=z,$=pe;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var q=G[0],$=G.pop();if($!==q){G[0]=$;e:for(var pe=0,z=G.length,oe=z>>>1;pe<oe;){var ve=2*(pe+1)-1,Ae=G[ve],se=ve+1,Te=G[se];if(0>r(Ae,$))se<z&&0>r(Te,Ae)?(G[pe]=Te,G[se]=$,pe=se):(G[pe]=Ae,G[ve]=$,pe=ve);else if(se<z&&0>r(Te,$))G[pe]=Te,G[se]=$,pe=se;else break e}}return q}function r(G,q){var $=G.sortIndex-q.sortIndex;return $!==0?$:G.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();i.unstable_now=function(){return a.now()-l}}var c=[],h=[],m=1,g=null,v=3,_=!1,S=!1,M=!1,b=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function w(G){for(var q=t(h);q!==null;){if(q.callback===null)n(h);else if(q.startTime<=G)n(h),q.sortIndex=q.expirationTime,e(c,q);else break;q=t(h)}}function B(G){if(M=!1,w(G),!S)if(t(c)!==null)S=!0,K();else{var q=t(h);q!==null&&ae(B,q.startTime-G)}}var L=!1,N=-1,I=5,P=-1;function U(){return!(i.unstable_now()-P<I)}function O(){if(L){var G=i.unstable_now();P=G;var q=!0;try{e:{S=!1,M&&(M=!1,A(N),N=-1),_=!0;var $=v;try{t:{for(w(G),g=t(c);g!==null&&!(g.expirationTime>G&&U());){var pe=g.callback;if(typeof pe=="function"){g.callback=null,v=g.priorityLevel;var z=pe(g.expirationTime<=G);if(G=i.unstable_now(),typeof z=="function"){g.callback=z,w(G),q=!0;break t}g===t(c)&&n(c),w(G)}else n(c);g=t(c)}if(g!==null)q=!0;else{var oe=t(h);oe!==null&&ae(B,oe.startTime-G),q=!1}}break e}finally{g=null,v=$,_=!1}q=void 0}}finally{q?H():L=!1}}}var H;if(typeof C=="function")H=function(){C(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,W=V.port2;V.port1.onmessage=O,H=function(){W.postMessage(null)}}else H=function(){b(O,0)};function K(){L||(L=!0,H())}function ae(G,q){N=b(function(){G(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_continueExecution=function(){S||_||(S=!0,K())},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return t(c)},i.unstable_next=function(G){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var $=v;v=q;try{return G()}finally{v=$}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(G,q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var $=v;v=G;try{return q()}finally{v=$}},i.unstable_scheduleCallback=function(G,q,$){var pe=i.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?pe+$:pe):$=pe,G){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=$+z,G={id:m++,callback:q,priorityLevel:G,startTime:$,expirationTime:z,sortIndex:-1},$>pe?(G.sortIndex=$,e(h,G),t(c)===null&&G===t(h)&&(M?(A(N),N=-1):M=!0,ae(B,$-pe))):(G.sortIndex=z,e(c,G),S||_||(S=!0,K())),G},i.unstable_shouldYield=U,i.unstable_wrapCallback=function(G){var q=v;return function(){var $=v;v=q;try{return G.apply(this,arguments)}finally{v=$}}}}(OE)),OE}var p3;function p7(){return p3||(p3=1,DE.exports=d7()),DE.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m3;function m7(){return m3||(m3=1,function(i){i.exports=function(e){function t(f,d,x,T){return new b0(f,d,x,T)}function n(){}function r(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(f){return f===null||typeof f!="object"?null:(f=gl&&f[gl]||f["@@iterator"],typeof f=="function"?f:null)}function a(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===C0?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case ou:return"Fragment";case ba:return"Portal";case jp:return"Profiler";case Vh:return"StrictMode";case qp:return"Suspense";case tf:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case qa:return(f.displayName||"Context")+".Provider";case E0:return(f._context.displayName||"Context")+".Consumer";case Xh:var d=f.render;return f=f.displayName,f||(f=d.displayName||d.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case Wp:return d=f.displayName||null,d!==null?d:a(f.type)||"Memo";case Ma:d=f._payload,f=f._init;try{return a(f(d))}catch{}}return null}function l(f){if(Eo===void 0)try{throw Error()}catch(x){var d=x.stack.trim().match(/\n( *(at )?)/);Eo=d&&d[1]||"",vl=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Eo+f+vl}function c(f,d){if(!f||ju)return"";ju=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(d){var Ot=function(){throw Error()};if(Object.defineProperty(Ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ot,[])}catch(_n){var Ft=_n}Reflect.construct(f,[],Ot)}else{try{Ot.call()}catch(_n){Ft=_n}f.call(Ot.prototype)}}else{try{throw Error()}catch(_n){Ft=_n}(Ot=f())&&typeof Ot.catch=="function"&&Ot.catch(function(){})}}catch(_n){if(_n&&Ft&&typeof _n.stack=="string")return[_n.stack,Ft.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=T.DetermineComponentFrameRoot(),ee=F[0],me=F[1];if(ee&&me){var Ce=ee.split(`
`),tt=me.split(`
`);for(D=T=0;T<Ce.length&&!Ce[T].includes("DetermineComponentFrameRoot");)T++;for(;D<tt.length&&!tt[D].includes("DetermineComponentFrameRoot");)D++;if(T===Ce.length||D===tt.length)for(T=Ce.length-1,D=tt.length-1;1<=T&&0<=D&&Ce[T]!==tt[D];)D--;for(;1<=T&&0<=D;T--,D--)if(Ce[T]!==tt[D]){if(T!==1||D!==1)do if(T--,D--,0>D||Ce[T]!==tt[D]){var xt=`
`+Ce[T].replace(" at new "," at ");return f.displayName&&xt.includes("<anonymous>")&&(xt=xt.replace("<anonymous>",f.displayName)),xt}while(1<=T&&0<=D);break}}}finally{ju=!1,Error.prepareStackTrace=x}return(x=f?f.displayName||f.name:"")?l(x):""}function h(f){switch(f.tag){case 26:case 27:case 5:return l(f.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return f=c(f.type,!1),f;case 11:return f=c(f.type.render,!1),f;case 1:return f=c(f.type,!0),f;default:return""}}function m(f){try{var d="";do d+=h(f),f=f.return;while(f);return d}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function g(f){var d=f,x=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,(d.flags&4098)!==0&&(x=d.return),f=d.return;while(f)}return d.tag===3?x:null}function v(f){if(g(f)!==f)throw Error(r(188))}function _(f){var d=f.alternate;if(!d){if(d=g(f),d===null)throw Error(r(188));return d!==f?null:f}for(var x=f,T=d;;){var D=x.return;if(D===null)break;var F=D.alternate;if(F===null){if(T=D.return,T!==null){x=T;continue}break}if(D.child===F.child){for(F=D.child;F;){if(F===x)return v(D),f;if(F===T)return v(D),d;F=F.sibling}throw Error(r(188))}if(x.return!==T.return)x=D,T=F;else{for(var ee=!1,me=D.child;me;){if(me===x){ee=!0,x=D,T=F;break}if(me===T){ee=!0,T=D,x=F;break}me=me.sibling}if(!ee){for(me=F.child;me;){if(me===x){ee=!0,x=F,T=D;break}if(me===T){ee=!0,T=F,x=D;break}me=me.sibling}if(!ee)throw Error(r(189))}}if(x.alternate!==T)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?f:d}function S(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(d=S(f),d!==null)return d;f=f.sibling}return null}function M(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(d=M(f),d!==null))return d;f=f.sibling}return null}function b(f){return{current:f}}function A(f){0>Sl||(f.current=Ji[Sl],Ji[Sl]=null,Sl--)}function C(f,d){Sl++,Ji[Sl]=f.current,f.current=d}function w(f){return f>>>=0,f===0?32:31-(y1(f)/_1|0)|0}function B(f){var d=f&42;if(d!==0)return d;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function L(f,d){var x=f.pendingLanes;if(x===0)return 0;var T=0,D=f.suspendedLanes,F=f.pingedLanes,ee=f.warmLanes;f=f.finishedLanes!==0;var me=x&134217727;return me!==0?(x=me&~D,x!==0?T=B(x):(F&=me,F!==0?T=B(F):f||(ee=me&~ee,ee!==0&&(T=B(ee))))):(me=x&~D,me!==0?T=B(me):F!==0?T=B(F):f||(ee=x&~ee,ee!==0&&(T=B(ee)))),T===0?0:d!==0&&d!==T&&(d&D)===0&&(D=T&-T,ee=d&-d,D>=ee||D===32&&(ee&4194176)!==0)?d:T}function N(f,d){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&d)===0}function I(f,d){switch(f){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var f=Co;return Co<<=1,(Co&4194176)===0&&(Co=128),f}function U(){var f=Ku;return Ku<<=1,(Ku&62914560)===0&&(Ku=4194304),f}function O(f){for(var d=[],x=0;31>x;x++)d.push(f);return d}function H(f,d){f.pendingLanes|=d,d!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function V(f,d,x,T,D,F){var ee=f.pendingLanes;f.pendingLanes=x,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=x,f.entangledLanes&=x,f.errorRecoveryDisabledLanes&=x,f.shellSuspendCounter=0;var me=f.entanglements,Ce=f.expirationTimes,tt=f.hiddenUpdates;for(x=ee&~x;0<x;){var xt=31-ps(x),Ot=1<<xt;me[xt]=0,Ce[xt]=-1;var Ft=tt[xt];if(Ft!==null)for(tt[xt]=null,xt=0;xt<Ft.length;xt++){var _n=Ft[xt];_n!==null&&(_n.lane&=-536870913)}x&=~Ot}T!==0&&W(f,T,0),F!==0&&D===0&&f.tag!==0&&(f.suspendedLanes|=F&~(ee&~d))}function W(f,d,x){f.pendingLanes|=d,f.suspendedLanes&=~d;var T=31-ps(d);f.entangledLanes|=d,f.entanglements[T]=f.entanglements[T]|1073741824|x&4194218}function K(f,d){var x=f.entangledLanes|=d;for(f=f.entanglements;x;){var T=31-ps(x),D=1<<T;D&d|f[T]&d&&(f[T]|=d),x&=~D}}function ae(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function G(f){if(Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(Zi,f,void 0,(f.current.flags&128)===128)}catch{}}function q(f){if(typeof A1=="function"&&Rr(f),Ds&&typeof Ds.setStrictMode=="function")try{Ds.setStrictMode(Zi,f)}catch{}}function $(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}function pe(f,d){if(typeof f=="object"&&f!==null){var x=j0.get(f);return x!==void 0?x:(d={value:f,source:d,stack:m(d)},j0.set(f,d),d)}return{value:f,source:d,stack:m(d)}}function z(f,d){Ju[Zu++]=ff,Ju[Zu++]=Qu,Qu=f,ff=d}function oe(f,d,x){Zs[Qs++]=Ja,Zs[Qs++]=Za,Zs[Qs++]=pu,pu=f;var T=Ja;f=Za;var D=32-ps(T)-1;T&=~(1<<D),x+=1;var F=32-ps(d)+D;if(30<F){var ee=D-D%5;F=(T&(1<<ee)-1).toString(32),T>>=ee,D-=ee,Ja=1<<32-ps(d)+D|x<<D|T,Za=F+f}else Ja=1<<F|x<<D|T,Za=f}function ve(f){f.return!==null&&(z(f,1),oe(f,1,0))}function Ae(f){for(;f===Qu;)Qu=Ju[--Zu],Ju[Zu]=null,ff=Ju[--Zu],Ju[Zu]=null;for(;f===pu;)pu=Zs[--Qs],Zs[Qs]=null,Za=Zs[--Qs],Zs[Qs]=null,Ja=Zs[--Qs],Zs[Qs]=null}function se(f,d){C(wo,d),C(hf,f),C(gr,null),f=I_(d),A(gr),C(gr,f)}function Te(){A(gr),A(hf),A(wo)}function we(f){f.memoizedState!==null&&C($u,f);var d=gr.current,x=af(d,f.type);d!==x&&(C(hf,f),C(gr,x))}function Fe(f){hf.current===f&&(A(gr),A(hf)),$u.current===f&&(A($u),hs?Wa._currentValue=uu:Wa._currentValue2=uu)}function Ue(f){var d=Error(r(418,""));throw ot(pe(d,f)),$h}function dt(f,d){if(!Vr)throw Error(r(175));l1(f.stateNode,f.type,f.memoizedProps,d,f)||Ue(f)}function At(f){for(kr=f.return;kr;)switch(kr.tag){case 3:case 27:Br=!0;return;case 5:case 13:Br=!1;return;default:kr=kr.return}}function zt(f){if(!Vr||f!==kr)return!1;if(!Xn)return At(f),Xn=!0,!1;var d=!1;if(_i?f.tag!==3&&f.tag!==27&&(f.tag!==5||im(f.type)&&!An(f.type,f.memoizedProps))&&(d=!0):f.tag!==3&&(f.tag!==5||im(f.type)&&!An(f.type,f.memoizedProps))&&(d=!0),d&&Xr&&Ue(f),At(f),f.tag===13){if(!Vr)throw Error(r(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));Xr=c1(f)}else Xr=kr?V0(f.stateNode):null;return!0}function Lt(){Vr&&(Xr=kr=null,Xn=!1)}function ot(f){Ca===null?Ca=[f]:Ca.push(f)}function Z(){for(var f=ec,d=Qa=ec=0;d<f;){var x=wa[d];wa[d++]=null;var T=wa[d];wa[d++]=null;var D=wa[d];wa[d++]=null;var F=wa[d];if(wa[d++]=null,T!==null&&D!==null){var ee=T.pending;ee===null?D.next=D:(D.next=ee.next,ee.next=D),T.pending=D}F!==0&&je(x,D,F)}}function et(f,d,x,T){wa[ec++]=f,wa[ec++]=d,wa[ec++]=x,wa[ec++]=T,Qa|=T,f.lanes|=T,f=f.alternate,f!==null&&(f.lanes|=T)}function Ke(f,d,x,T){return et(f,d,x,T),Mt(f)}function ce(f,d){return et(f,null,null,d),Mt(f)}function je(f,d,x){f.lanes|=x;var T=f.alternate;T!==null&&(T.lanes|=x);for(var D=!1,F=f.return;F!==null;)F.childLanes|=x,T=F.alternate,T!==null&&(T.childLanes|=x),F.tag===22&&(f=F.stateNode,f===null||f._visibility&1||(D=!0)),f=F,F=F.return;D&&d!==null&&f.tag===3&&(F=f.stateNode,D=31-ps(x),F=F.hiddenUpdates,f=F[D],f===null?F[D]=[d]:f.push(d),d.lane=x|536870912)}function Mt(f){if(50<Sf)throw Sf=0,ym=null,Error(r(185));for(var d=f.return;d!==null;)f=d,d=f.return;return f.tag===3?f.stateNode:null}function rt(f){f!==Al&&f.next===null&&(Al===null?ed=Al=f:Al=Al.next=f),Mi=!0,tc||(tc=!0,Ge(qt))}function ht(f,d){if(!q0&&Mi){q0=!0;do for(var x=!1,T=ed;T!==null;){if(f!==0){var D=T.pendingLanes;if(D===0)var F=0;else{var ee=T.suspendedLanes,me=T.pingedLanes;F=(1<<31-ps(42|f)+1)-1,F&=D&~(ee&~me),F=F&201326677?F&201326677|1:F?F|2:0}F!==0&&(x=!0,xe(T,F))}else F=In,F=L(T,T===ui?F:0),(F&3)===0||N(T,F)||(x=!0,xe(T,F));T=T.next}while(x);q0=!1}}function qt(){Mi=tc=!1;var f=0;df!==0&&(G_()&&(f=df),df=0);for(var d=Ta(),x=null,T=ed;T!==null;){var D=T.next,F=ne(T,d);F===0?(T.next=null,x===null?ed=D:x.next=D,D===null&&(Al=x)):(x=T,(f!==0||(F&3)!==0)&&(Mi=!0)),T=D}ht(f)}function ne(f,d){for(var x=f.suspendedLanes,T=f.pingedLanes,D=f.expirationTimes,F=f.pendingLanes&-62914561;0<F;){var ee=31-ps(F),me=1<<ee,Ce=D[ee];Ce===-1?((me&x)===0||(me&T)!==0)&&(D[ee]=I(me,d)):Ce<=d&&(f.expiredLanes|=me),F&=~me}if(d=ui,x=In,x=L(f,f===d?x:0),T=f.callbackNode,x===0||f===d&&mi===2||f.cancelPendingCommit!==null)return T!==null&&T!==null&&om(T),f.callbackNode=null,f.callbackPriority=0;if((x&3)===0||N(f,x)){if(d=x&-x,d===f.callbackPriority)return d;switch(T!==null&&om(T),ae(x)){case 2:case 8:x=S1;break;case 32:x=cm;break;case 268435456:x=$b;break;default:x=cm}return T=j.bind(null,f),x=Qh(x,T),f.callbackPriority=d,f.callbackNode=x,d}return T!==null&&T!==null&&om(T),f.callbackPriority=2,f.callbackNode=null,2}function j(f,d){var x=f.callbackNode;if(ja()&&f.callbackNode!==x)return null;var T=In;return T=L(f,f===ui?T:0),T===0?null:(nu(f,T,d),ne(f,Ta()),f.callbackNode!=null&&f.callbackNode===x?j.bind(null,f):null)}function xe(f,d){if(ja())return null;nu(f,d,!0)}function Ge(f){O0?xl(function(){(qn&6)!==0?Qh(um,f):f()}):Qh(um,f)}function ze(){return df===0&&(df=P()),df}function Pe(f,d){if(pf===null){var x=pf=[];nc=0,$s=ze(),ic={status:"pending",value:void 0,then:function(T){x.push(T)}}}return nc++,d.then(mt,mt),d}function mt(){if(--nc===0&&pf!==null){ic!==null&&(ic.status="fulfilled");var f=pf;pf=null,$s=0,ic=null;for(var d=0;d<f.length;d++)(0,f[d])()}}function vt(f,d){var x=[],T={status:"pending",value:null,reason:null,then:function(D){x.push(D)}};return f.then(function(){T.status="fulfilled",T.value=d;for(var D=0;D<x.length;D++)(0,x[D])(d)},function(D){for(T.status="rejected",T.reason=D,D=0;D<x.length;D++)(0,x[D])(void 0)}),T}function Rt(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function St(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Je(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function ft(f,d,x){var T=f.updateQueue;if(T===null)return null;if(T=T.shared,(qn&2)!==0){var D=T.pending;return D===null?d.next=d:(d.next=D.next,D.next=d),T.pending=d,d=Mt(f),je(f,null,x),d}return et(f,T,d,x),Mt(f)}function Bt(f,d,x){if(d=d.updateQueue,d!==null&&(d=d.shared,(x&4194176)!==0)){var T=d.lanes;T&=f.pendingLanes,x|=T,d.lanes=x,K(f,x)}}function ue(f,d){var x=f.updateQueue,T=f.alternate;if(T!==null&&(T=T.updateQueue,x===T)){var D=null,F=null;if(x=x.firstBaseUpdate,x!==null){do{var ee={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};F===null?D=F=ee:F=F.next=ee,x=x.next}while(x!==null);F===null?D=F=d:F=F.next=d}else D=F=d;x={baseState:T.baseState,firstBaseUpdate:D,lastBaseUpdate:F,shared:T.shared,callbacks:T.callbacks},f.updateQueue=x;return}f=x.lastBaseUpdate,f===null?x.firstBaseUpdate=d:f.next=d,x.lastBaseUpdate=d}function Se(){if(rc){var f=ic;if(f!==null)throw f}}function $e(f,d,x,T){rc=!1;var D=f.updateQueue;bl=!1;var F=D.firstBaseUpdate,ee=D.lastBaseUpdate,me=D.shared.pending;if(me!==null){D.shared.pending=null;var Ce=me,tt=Ce.next;Ce.next=null,ee===null?F=tt:ee.next=tt,ee=Ce;var xt=f.alternate;xt!==null&&(xt=xt.updateQueue,me=xt.lastBaseUpdate,me!==ee&&(me===null?xt.firstBaseUpdate=tt:me.next=tt,xt.lastBaseUpdate=Ce))}if(F!==null){var Ot=D.baseState;ee=0,xt=tt=Ce=null,me=F;do{var Ft=me.lane&-536870913,_n=Ft!==me.lane;if(_n?(In&Ft)===Ft:(T&Ft)===Ft){Ft!==0&&Ft===$s&&(rc=!0),xt!==null&&(xt=xt.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});e:{var oa=f,bu=me;Ft=d;var Mu=x;switch(bu.tag){case 1:if(oa=bu.payload,typeof oa=="function"){Ot=oa.call(Mu,Ot,Ft);break e}Ot=oa;break e;case 3:oa.flags=oa.flags&-65537|128;case 0:if(oa=bu.payload,Ft=typeof oa=="function"?oa.call(Mu,Ot,Ft):oa,Ft==null)break e;Ot=Yp({},Ot,Ft);break e;case 2:bl=!0}}Ft=me.callback,Ft!==null&&(f.flags|=64,_n&&(f.flags|=8192),_n=D.callbacks,_n===null?D.callbacks=[Ft]:_n.push(Ft))}else _n={lane:Ft,tag:me.tag,payload:me.payload,callback:me.callback,next:null},xt===null?(tt=xt=_n,Ce=Ot):xt=xt.next=_n,ee|=Ft;if(me=me.next,me===null){if(me=D.shared.pending,me===null)break;_n=me,me=_n.next,_n.next=null,D.lastBaseUpdate=_n,D.shared.pending=null}}while(!0);xt===null&&(Ce=Ot),D.baseState=Ce,D.firstBaseUpdate=tt,D.lastBaseUpdate=xt,F===null&&(D.shared.lanes=0),sa|=ee,f.lanes=ee,f.memoizedState=Ot}}function re(f,d){if(typeof f!="function")throw Error(r(191,f));f.call(d)}function Be(f,d){var x=f.callbacks;if(x!==null)for(f.callbacks=null,f=0;f<x.length;f++)re(x[f],d)}function qe(f,d){if(Os(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var x=Object.keys(f),T=Object.keys(d);if(x.length!==T.length)return!1;for(T=0;T<x.length;T++){var D=x[T];if(!Ro.call(d,D)||!Os(f[D],d[D]))return!1}return!0}function gt(f){return f=f.status,f==="fulfilled"||f==="rejected"}function ut(){}function Ze(f,d,x){switch(x=f[x],x===void 0?f.push(d):x!==d&&(d.then(ut,ut),d=x),d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,f===mf?Error(r(483)):f;default:if(typeof d.status=="string")d.then(ut,ut);else{if(f=ui,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=d,f.status="pending",f.then(function(T){if(d.status==="pending"){var D=d;D.status="fulfilled",D.value=T}},function(T){if(d.status==="pending"){var D=d;D.status="rejected",D.reason=T}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,f===mf?Error(r(483)):f}throw mu=d,mf}}function Tt(){if(mu===null)throw Error(r(459));var f=mu;return mu=null,f}function Pt(f){var d=vu;return vu+=1,gu===null&&(gu=[]),Ze(gu,f,d)}function fn(f,d){d=d.props.ref,f.ref=d!==void 0?d:null}function Et(f,d){throw d.$$typeof===jb?Error(r(525)):(f=Object.prototype.toString.call(d),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":f)))}function It(f){var d=f._init;return d(f._payload)}function Jt(f){function d(Ne,ye){if(f){var ke=Ne.deletions;ke===null?(Ne.deletions=[ye],Ne.flags|=16):ke.push(ye)}}function x(Ne,ye){if(!f)return null;for(;ye!==null;)d(Ne,ye),ye=ye.sibling;return null}function T(Ne){for(var ye=new Map;Ne!==null;)Ne.key!==null?ye.set(Ne.key,Ne):ye.set(Ne.index,Ne),Ne=Ne.sibling;return ye}function D(Ne,ye){return Ne=Aa(Ne,ye),Ne.index=0,Ne.sibling=null,Ne}function F(Ne,ye,ke){return Ne.index=ke,f?(ke=Ne.alternate,ke!==null?(ke=ke.index,ke<ye?(Ne.flags|=33554434,ye):ke):(Ne.flags|=33554434,ye)):(Ne.flags|=1048576,ye)}function ee(Ne){return f&&Ne.alternate===null&&(Ne.flags|=33554434),Ne}function me(Ne,ye,ke,yt){return ye===null||ye.tag!==6?(ye=kp(ke,Ne.mode,yt),ye.return=Ne,ye):(ye=D(ye,ke),ye.return=Ne,ye)}function Ce(Ne,ye,ke,yt){var Zt=ke.type;return Zt===ou?xt(Ne,ye,ke.props.children,yt,ke.key):ye!==null&&(ye.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===Ma&&It(Zt)===ye.type)?(ye=D(ye,ke.props),fn(ye,ke),ye.return=Ne,ye):(ye=Mo(ke.type,ke.key,ke.props,null,Ne.mode,yt),fn(ye,ke),ye.return=Ne,ye)}function tt(Ne,ye,ke,yt){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==ke.containerInfo||ye.stateNode.implementation!==ke.implementation?(ye=M0(ke,Ne.mode,yt),ye.return=Ne,ye):(ye=D(ye,ke.children||[]),ye.return=Ne,ye)}function xt(Ne,ye,ke,yt,Zt){return ye===null||ye.tag!==7?(ye=Hi(ke,Ne.mode,yt,Zt),ye.return=Ne,ye):(ye=D(ye,ke),ye.return=Ne,ye)}function Ot(Ne,ye,ke){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=kp(""+ye,Ne.mode,ke),ye.return=Ne,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case Gh:return ke=Mo(ye.type,ye.key,ye.props,null,Ne.mode,ke),fn(ke,ye),ke.return=Ne,ke;case ba:return ye=M0(ye,Ne.mode,ke),ye.return=Ne,ye;case Ma:var yt=ye._init;return ye=yt(ye._payload),Ot(Ne,ye,ke)}if(nf(ye)||s(ye))return ye=Hi(ye,Ne.mode,ke,null),ye.return=Ne,ye;if(typeof ye.then=="function")return Ot(Ne,Pt(ye),ke);if(ye.$$typeof===qa)return Ot(Ne,Th(Ne,ye),ke);Et(Ne,ye)}return null}function Ft(Ne,ye,ke,yt){var Zt=ye!==null?ye.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return Zt!==null?null:me(Ne,ye,""+ke,yt);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case Gh:return ke.key===Zt?Ce(Ne,ye,ke,yt):null;case ba:return ke.key===Zt?tt(Ne,ye,ke,yt):null;case Ma:return Zt=ke._init,ke=Zt(ke._payload),Ft(Ne,ye,ke,yt)}if(nf(ke)||s(ke))return Zt!==null?null:xt(Ne,ye,ke,yt,null);if(typeof ke.then=="function")return Ft(Ne,ye,Pt(ke),yt);if(ke.$$typeof===qa)return Ft(Ne,ye,Th(Ne,ke),yt);Et(Ne,ke)}return null}function _n(Ne,ye,ke,yt,Zt){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return Ne=Ne.get(ke)||null,me(ye,Ne,""+yt,Zt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case Gh:return Ne=Ne.get(yt.key===null?ke:yt.key)||null,Ce(ye,Ne,yt,Zt);case ba:return Ne=Ne.get(yt.key===null?ke:yt.key)||null,tt(ye,Ne,yt,Zt);case Ma:var Di=yt._init;return yt=Di(yt._payload),_n(Ne,ye,ke,yt,Zt)}if(nf(yt)||s(yt))return Ne=Ne.get(ke)||null,xt(ye,Ne,yt,Zt,null);if(typeof yt.then=="function")return _n(Ne,ye,ke,Pt(yt),Zt);if(yt.$$typeof===qa)return _n(Ne,ye,ke,Th(ye,yt),Zt);Et(ye,yt)}return null}function oa(Ne,ye,ke,yt){for(var Zt=null,Di=null,pn=ye,ti=ye=0,Qi=null;pn!==null&&ti<ke.length;ti++){pn.index>ti?(Qi=pn,pn=null):Qi=pn.sibling;var Ln=Ft(Ne,pn,ke[ti],yt);if(Ln===null){pn===null&&(pn=Qi);break}f&&pn&&Ln.alternate===null&&d(Ne,pn),ye=F(Ln,ye,ti),Di===null?Zt=Ln:Di.sibling=Ln,Di=Ln,pn=Qi}if(ti===ke.length)return x(Ne,pn),Xn&&z(Ne,ti),Zt;if(pn===null){for(;ti<ke.length;ti++)pn=Ot(Ne,ke[ti],yt),pn!==null&&(ye=F(pn,ye,ti),Di===null?Zt=pn:Di.sibling=pn,Di=pn);return Xn&&z(Ne,ti),Zt}for(pn=T(pn);ti<ke.length;ti++)Qi=_n(pn,Ne,ti,ke[ti],yt),Qi!==null&&(f&&Qi.alternate!==null&&pn.delete(Qi.key===null?ti:Qi.key),ye=F(Qi,ye,ti),Di===null?Zt=Qi:Di.sibling=Qi,Di=Qi);return f&&pn.forEach(function(Io){return d(Ne,Io)}),Xn&&z(Ne,ti),Zt}function bu(Ne,ye,ke,yt){if(ke==null)throw Error(r(151));for(var Zt=null,Di=null,pn=ye,ti=ye=0,Qi=null,Ln=ke.next();pn!==null&&!Ln.done;ti++,Ln=ke.next()){pn.index>ti?(Qi=pn,pn=null):Qi=pn.sibling;var Io=Ft(Ne,pn,Ln.value,yt);if(Io===null){pn===null&&(pn=Qi);break}f&&pn&&Io.alternate===null&&d(Ne,pn),ye=F(Io,ye,ti),Di===null?Zt=Io:Di.sibling=Io,Di=Io,pn=Qi}if(Ln.done)return x(Ne,pn),Xn&&z(Ne,ti),Zt;if(pn===null){for(;!Ln.done;ti++,Ln=ke.next())Ln=Ot(Ne,Ln.value,yt),Ln!==null&&(ye=F(Ln,ye,ti),Di===null?Zt=Ln:Di.sibling=Ln,Di=Ln);return Xn&&z(Ne,ti),Zt}for(pn=T(pn);!Ln.done;ti++,Ln=ke.next())Ln=_n(pn,Ne,ti,Ln.value,yt),Ln!==null&&(f&&Ln.alternate!==null&&pn.delete(Ln.key===null?ti:Ln.key),ye=F(Ln,ye,ti),Di===null?Zt=Ln:Di.sibling=Ln,Di=Ln);return f&&pn.forEach(function(_m){return d(Ne,_m)}),Xn&&z(Ne,ti),Zt}function Mu(Ne,ye,ke,yt){if(typeof ke=="object"&&ke!==null&&ke.type===ou&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case Gh:e:{for(var Zt=ke.key;ye!==null;){if(ye.key===Zt){if(Zt=ke.type,Zt===ou){if(ye.tag===7){x(Ne,ye.sibling),yt=D(ye,ke.props.children),yt.return=Ne,Ne=yt;break e}}else if(ye.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===Ma&&It(Zt)===ye.type){x(Ne,ye.sibling),yt=D(ye,ke.props),fn(yt,ke),yt.return=Ne,Ne=yt;break e}x(Ne,ye);break}else d(Ne,ye);ye=ye.sibling}ke.type===ou?(yt=Hi(ke.props.children,Ne.mode,yt,ke.key),yt.return=Ne,Ne=yt):(yt=Mo(ke.type,ke.key,ke.props,null,Ne.mode,yt),fn(yt,ke),yt.return=Ne,Ne=yt)}return ee(Ne);case ba:e:{for(Zt=ke.key;ye!==null;){if(ye.key===Zt)if(ye.tag===4&&ye.stateNode.containerInfo===ke.containerInfo&&ye.stateNode.implementation===ke.implementation){x(Ne,ye.sibling),yt=D(ye,ke.children||[]),yt.return=Ne,Ne=yt;break e}else{x(Ne,ye);break}else d(Ne,ye);ye=ye.sibling}yt=M0(ke,Ne.mode,yt),yt.return=Ne,Ne=yt}return ee(Ne);case Ma:return Zt=ke._init,ke=Zt(ke._payload),Mu(Ne,ye,ke,yt)}if(nf(ke))return oa(Ne,ye,ke,yt);if(s(ke)){if(Zt=s(ke),typeof Zt!="function")throw Error(r(150));return ke=Zt.call(ke),bu(Ne,ye,ke,yt)}if(typeof ke.then=="function")return Mu(Ne,ye,Pt(ke),yt);if(ke.$$typeof===qa)return Mu(Ne,ye,Th(Ne,ke),yt);Et(Ne,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,ye!==null&&ye.tag===6?(x(Ne,ye.sibling),yt=D(ye,ke),yt.return=Ne,Ne=yt):(x(Ne,ye),yt=kp(ke,Ne.mode,yt),yt.return=Ne,Ne=yt),ee(Ne)):x(Ne,ye)}return function(Ne,ye,ke,yt){try{vu=0;var Zt=Mu(Ne,ye,ke,yt);return gu=null,Zt}catch(pn){if(pn===mf)throw pn;var Di=t(29,pn,null,Ne.mode);return Di.lanes=yt,Di.return=Ne,Di}finally{}}}function pt(f,d){f=es,C(gf,f),C(Ei,d),es=f|d.baseLanes}function Ht(){C(gf,es),C(Ei,Ei.current)}function Dt(){es=gf.current,A(Ei),A(gf)}function Wt(f){var d=f.alternate;C(vr,vr.current&1),C(ea,f),xi===null&&(d===null||Ei.current!==null||d.memoizedState!==null)&&(xi=f)}function ai(f){if(f.tag===22){if(C(vr,vr.current),C(ea,f),xi===null){var d=f.alternate;d!==null&&d.memoizedState!==null&&(xi=f)}}else en()}function en(){C(vr,vr.current),C(ea,ea.current)}function Nt(f){A(ea),xi===f&&(xi=null),A(vr)}function ii(f){for(var d=f;d!==null;){if(d.tag===13){var x=d.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||em(x)||tm(x)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function tn(){throw Error(r(321))}function X(f,d){if(d===null)return!1;for(var x=0;x<d.length&&x<f.length;x++)if(!Os(f[x],d[x]))return!1;return!0}function J(f,d,x,T,D,F){return Ml=F,wn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,dn.H=f===null||f.memoizedState===null?xu:ms,_u=!1,F=x(T,D),_u=!1,sc&&(F=be(d,x,T,D)),de(f),F}function de(f){dn.H=Gi;var d=sn!==null&&sn.next!==null;if(Ml=0,jn=sn=wn=null,Ra=!1,ac=0,Dr=null,d)throw Error(r(300));f===null||Si||(f=f.dependencies,f!==null&&Eh(f)&&(Si=!0))}function be(f,d,x,T){wn=f;var D=0;do{if(sc&&(Dr=null),ac=0,sc=!1,25<=D)throw Error(r(301));if(D+=1,jn=sn=null,f.updateQueue!=null){var F=f.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}dn.H=ta,F=d(x,T)}while(sc);return F}function De(){var f=dn.H,d=f.useState()[0];return d=typeof d.then=="function"?fe(d):d,f=f.useState()[0],(sn!==null?sn.memoizedState:null)!==f&&(wn.flags|=1024),d}function He(){var f=fm!==0;return fm=0,f}function lt(f,d,x){d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~x}function Qe(f){if(Ra){for(f=f.memoizedState;f!==null;){var d=f.queue;d!==null&&(d.pending=null),f=f.next}Ra=!1}Ml=0,jn=sn=wn=null,sc=!1,ac=fm=0,Dr=null}function Y(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?wn.memoizedState=jn=f:jn=jn.next=f,jn}function ie(){if(sn===null){var f=wn.alternate;f=f!==null?f.memoizedState:null}else f=sn.next;var d=jn===null?wn.memoizedState:jn.next;if(d!==null)jn=d,sn=f;else{if(f===null)throw wn.alternate===null?Error(r(467)):Error(r(310));sn=f,f={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},jn===null?wn.memoizedState=jn=f:jn=jn.next=f}return jn}function fe(f){var d=ac;return ac+=1,Dr===null&&(Dr=[]),f=Ze(Dr,f,d),d=wn,(jn===null?d.memoizedState:jn.next)===null&&(d=d.alternate,dn.H=d===null||d.memoizedState===null?xu:ms),f}function le(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return fe(f);if(f.$$typeof===qa)return Fr(f)}throw Error(r(438,String(f)))}function ge(f){var d=null,x=wn.updateQueue;if(x!==null&&(d=x.memoCache),d==null){var T=wn.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(d={data:T.data.map(function(D){return D.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),x===null&&(x=hm(),wn.updateQueue=x),x.memoCache=d,x=d.data[d.index],x===void 0)for(x=d.data[d.index]=Array(f),T=0;T<f;T++)x[T]=P_;return d.index++,x}function Re(f,d){return typeof d=="function"?d(f):d}function Xe(f){var d=ie();return it(d,sn,f)}function it(f,d,x){var T=f.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=x;var D=f.baseQueue,F=T.pending;if(F!==null){if(D!==null){var ee=D.next;D.next=F.next,F.next=ee}d.baseQueue=D=F,T.pending=null}if(F=f.baseState,D===null)f.memoizedState=F;else{d=D.next;var me=ee=null,Ce=null,tt=d,xt=!1;do{var Ot=tt.lane&-536870913;if(Ot!==tt.lane?(In&Ot)===Ot:(Ml&Ot)===Ot){var Ft=tt.revertLane;if(Ft===0)Ce!==null&&(Ce=Ce.next={lane:0,revertLane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),Ot===$s&&(xt=!0);else if((Ml&Ft)===Ft){tt=tt.next,Ft===$s&&(xt=!0);continue}else Ot={lane:0,revertLane:tt.revertLane,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},Ce===null?(me=Ce=Ot,ee=F):Ce=Ce.next=Ot,wn.lanes|=Ft,sa|=Ft;Ot=tt.action,_u&&x(F,Ot),F=tt.hasEagerState?tt.eagerState:x(F,Ot)}else Ft={lane:Ot,revertLane:tt.revertLane,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},Ce===null?(me=Ce=Ft,ee=F):Ce=Ce.next=Ft,wn.lanes|=Ot,sa|=Ot;tt=tt.next}while(tt!==null&&tt!==d);if(Ce===null?ee=F:Ce.next=me,!Os(F,f.memoizedState)&&(Si=!0,xt&&(x=ic,x!==null)))throw x;f.memoizedState=F,f.baseState=ee,f.baseQueue=Ce,T.lastRenderedState=F}return D===null&&(T.lanes=0),[f.memoizedState,T.dispatch]}function st(f){var d=ie(),x=d.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=f;var T=x.dispatch,D=x.pending,F=d.memoizedState;if(D!==null){x.pending=null;var ee=D=D.next;do F=f(F,ee.action),ee=ee.next;while(ee!==D);Os(F,d.memoizedState)||(Si=!0),d.memoizedState=F,d.baseQueue===null&&(d.baseState=F),x.lastRenderedState=F}return[F,T]}function _t(f,d,x){var T=wn,D=ie(),F=Xn;if(F){if(x===void 0)throw Error(r(407));x=x()}else x=d();var ee=!Os((sn||D).memoizedState,x);if(ee&&(D.memoizedState=x,Si=!0),D=D.queue,Kg(Gt.bind(null,T,D,f),[f]),D.getSnapshot!==d||ee||jn!==null&&jn.memoizedState.tag&1){if(T.flags|=2048,ls(9,Ct.bind(null,T,D,x,d),{destroy:void 0},null),ui===null)throw Error(r(349));F||(Ml&60)!==0||bt(T,d,x)}return x}function bt(f,d,x){f.flags|=16384,f={getSnapshot:d,value:x},d=wn.updateQueue,d===null?(d=hm(),wn.updateQueue=d,d.stores=[f]):(x=d.stores,x===null?d.stores=[f]:x.push(f))}function Ct(f,d,x,T){d.value=x,d.getSnapshot=T,Kt(d)&&On(f)}function Gt(f,d,x){return x(function(){Kt(d)&&On(f)})}function Kt(f){var d=f.getSnapshot;f=f.value;try{var x=d();return!Os(f,x)}catch{return!0}}function On(f){var d=ce(f,2);d!==null&&wr(d,f,2)}function Vt(f){var d=Y();if(typeof f=="function"){var x=f;if(f=x(),_u){q(!0);try{x()}finally{q(!1)}}}return d.memoizedState=d.baseState=f,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Re,lastRenderedState:f},d}function Qt(f,d,x,T){return f.baseState=x,it(f,sn,typeof T=="function"?T:Re)}function kt(f,d,x,T,D){if(xh(f))throw Error(r(485));if(f=d.action,f!==null){var F={payload:D,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){F.listeners.push(ee)}};dn.T!==null?x(!0):F.isTransition=!1,T(F),x=d.pending,x===null?(F.next=d.pending=F,di(d,F)):(F.next=x.next,d.pending=x.next=F)}}function di(f,d){var x=d.action,T=d.payload,D=f.state;if(d.isTransition){var F=dn.T,ee={};dn.T=ee;try{var me=x(D,T),Ce=dn.S;Ce!==null&&Ce(ee,me),hn(f,d,me)}catch(tt){vi(f,d,tt)}finally{dn.T=F}}else try{F=x(D,T),hn(f,d,F)}catch(tt){vi(f,d,tt)}}function hn(f,d,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(T){vn(f,d,T)},function(T){return vi(f,d,T)}):vn(f,d,x)}function vn(f,d,x){d.status="fulfilled",d.value=x,rn(d),f.state=x,d=f.pending,d!==null&&(x=d.next,x===d?f.pending=null:(x=x.next,d.next=x,di(f,x)))}function vi(f,d,x){var T=f.pending;if(f.pending=null,T!==null){T=T.next;do d.status="rejected",d.reason=x,rn(d),d=d.next;while(d!==T)}f.action=null}function rn(f){f=f.listeners;for(var d=0;d<f.length;d++)(0,f[d])()}function Cn(f,d){return d}function Mn(f,d){if(Xn){var x=ui.formState;if(x!==null){e:{var T=wn;if(Xn){if(Xr){var D=G0(Xr,Br);if(D){Xr=V0(D),T=r1(D);break e}}Ue(T)}T=!1}T&&(d=x[0])}}x=Y(),x.memoizedState=x.baseState=d,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:d},x.queue=T,x=$g.bind(null,wn,T),T.dispatch=x,T=Vt(!1);var F=Fc.bind(null,wn,!1,T.queue);return T=Y(),D={state:d,dispatch:null,action:f,pending:null},T.queue=D,x=kt.bind(null,wn,D,F,x),D.dispatch=x,T.memoizedState=f,[d,x,!1]}function Ri(f){var d=ie();return kn(d,sn,f)}function kn(f,d,x){d=it(f,d,Cn)[0],f=Xe(Re)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?fe(d):d;var T=ie(),D=T.queue,F=D.dispatch;return x!==T.memoizedState&&(wn.flags|=2048,ls(9,yi.bind(null,D,x),{destroy:void 0},null)),[d,F,f]}function yi(f,d){f.action=d}function Tr(f){var d=ie(),x=sn;if(x!==null)return kn(d,x,f);ie(),d=d.memoizedState,x=ie();var T=x.queue.dispatch;return x.memoizedState=f,[d,T,!1]}function ls(f,d,x,T){return f={tag:f,create:d,inst:x,deps:T,next:null},d=wn.updateQueue,d===null&&(d=hm(),wn.updateQueue=d),x=d.lastEffect,x===null?d.lastEffect=f.next=f:(T=x.next,x.next=f,f.next=T,d.lastEffect=f),f}function xo(){return ie().memoizedState}function mh(f,d,x,T){var D=Y();wn.flags|=f,D.memoizedState=ls(1|d,x,{destroy:void 0},T===void 0?null:T)}function gh(f,d,x,T){var D=ie();T=T===void 0?null:T;var F=D.memoizedState.inst;sn!==null&&T!==null&&X(T,sn.memoizedState.deps)?D.memoizedState=ls(d,x,F,T):(wn.flags|=f,D.memoizedState=ls(1|d,x,F,T))}function bp(f,d){mh(8390656,8,f,d)}function Kg(f,d){gh(2048,8,f,d)}function p_(f,d){return gh(4,2,f,d)}function vh(f,d){return gh(4,4,f,d)}function Mp(f,d){if(typeof d=="function"){f=f();var x=d(f);return function(){typeof x=="function"?x():d(null)}}if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function Ep(f,d,x){x=x!=null?x.concat([f]):null,gh(4,4,Mp.bind(null,d,f),x)}function jl(){}function Vu(f,d){var x=ie();d=d===void 0?null:d;var T=x.memoizedState;return d!==null&&X(d,T[1])?T[0]:(x.memoizedState=[f,d],f)}function Jg(f,d){var x=ie();d=d===void 0?null:d;var T=x.memoizedState;if(d!==null&&X(d,T[1]))return T[0];if(T=f(),_u){q(!0);try{f()}finally{q(!1)}}return x.memoizedState=[T,d],T}function yh(f,d,x){return x===void 0||(Ml&1073741824)!==0?f.memoizedState=d:(f.memoizedState=x,f=y0(),wn.lanes|=f,sa|=f,x)}function Zg(f,d,x,T){return Os(x,d)?x:Ei.current!==null?(f=yh(f,x,T),Os(f,d)||(Si=!0),f):(Ml&42)===0?(Si=!0,f.memoizedState=x):(f=y0(),wn.lanes|=f,sa|=f,d)}function Pc(f,d,x,T,D){var F=_l();Qr(F!==0&&8>F?F:8);var ee=dn.T,me={};dn.T=me,Fc(f,!1,d,x);try{var Ce=D(),tt=dn.S;if(tt!==null&&tt(me,Ce),Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var xt=vt(Ce,T);ql(f,d,xt,Wi(f))}else ql(f,d,T,Wi(f))}catch(Ot){ql(f,d,{then:function(){},status:"rejected",reason:Ot},Wi())}finally{Qr(F),dn.T=ee}}function So(f){var d=f.memoizedState;if(d!==null)return d;d={memoizedState:uu,baseState:uu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Re,lastRenderedState:uu},next:null};var x={};return d.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Re,lastRenderedState:x},next:null},f.memoizedState=d,f=f.alternate,f!==null&&(f.memoizedState=d),d}function _h(){return Fr(Wa)}function Ic(){return ie().memoizedState}function rl(){return ie().memoizedState}function Qg(f){for(var d=f.return;d!==null;){switch(d.tag){case 24:case 3:var x=Wi();f=Je(x);var T=ft(d,f,x);T!==null&&(wr(T,d,x),Bt(T,d,x)),d={cache:Zl()},f.payload=d;return}d=d.return}}function Tp(f,d,x){var T=Wi();x={lane:T,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},xh(f)?us(d,x):(x=Ke(f,d,x,T),x!==null&&(wr(x,f,T),Wl(x,d,T)))}function $g(f,d,x){var T=Wi();ql(f,d,x,T)}function ql(f,d,x,T){var D={lane:T,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(xh(f))us(d,D);else{var F=f.alternate;if(f.lanes===0&&(F===null||F.lanes===0)&&(F=d.lastRenderedReducer,F!==null))try{var ee=d.lastRenderedState,me=F(ee,x);if(D.hasEagerState=!0,D.eagerState=me,Os(me,ee))return et(f,d,D,0),ui===null&&Z(),!1}catch{}finally{}if(x=Ke(f,d,D,T),x!==null)return wr(x,f,T),Wl(x,d,T),!0}return!1}function Fc(f,d,x,T){if(T={lane:2,revertLane:ze(),action:T,hasEagerState:!1,eagerState:null,next:null},xh(f)){if(d)throw Error(r(479))}else d=Ke(f,x,T,2),d!==null&&wr(d,f,2)}function xh(f){var d=f.alternate;return f===wn||d!==null&&d===wn}function us(f,d){sc=Ra=!0;var x=f.pending;x===null?d.next=d:(d.next=x.next,x.next=d),f.pending=d}function Wl(f,d,x){if((x&4194176)!==0){var T=d.lanes;T&=f.pendingLanes,x|=T,d.lanes=x,K(f,x)}}function zc(f,d,x,T){d=f.memoizedState,x=x(T,d),x=x==null?d:Yp({},d,x),f.memoizedState=x,f.lanes===0&&(f.updateQueue.baseState=x)}function Hc(f,d,x,T,D,F,ee){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(T,F,ee):d.prototype&&d.prototype.isPureReactComponent?!qe(x,T)||!qe(D,F):!0}function m_(f,d,x,T){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(x,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(x,T),d.state!==f&&Do.enqueueReplaceState(d,d.state,null)}function sl(f,d){var x=d;if("ref"in d){x={};for(var T in d)T!=="ref"&&(x[T]=d[T])}if(f=f.defaultProps){x===d&&(x=Yp({},x));for(var D in f)x[D]===void 0&&(x[D]=f[D])}return x}function Gc(f,d){try{var x=f.onUncaughtError;x(d.value,{componentStack:d.stack})}catch(T){setTimeout(function(){throw T})}}function Vc(f,d,x){try{var T=f.onCaughtError;T(x.value,{componentStack:x.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function kc(f,d,x){return x=Je(x),x.tag=3,x.payload={element:null},x.callback=function(){Gc(f,d)},x}function e0(f){return f=Je(f),f.tag=3,f}function g_(f,d,x,T){var D=x.type.getDerivedStateFromError;if(typeof D=="function"){var F=T.value;f.payload=function(){return D(F)},f.callback=function(){Vc(d,x,T)}}var ee=x.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(f.callback=function(){Vc(d,x,T),typeof D!="function"&&(Su===null?Su=new Set([this]):Su.add(this));var me=T.stack;this.componentDidCatch(T.value,{componentStack:me!==null?me:""})})}function Vb(f,d,x,T,D){if(x.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(d=x.alternate,d!==null&&Mh(d,x,D,!0),x=ea.current,x!==null){switch(x.tag){case 13:return xi===null?dl():x.alternate===null&&Ai===0&&(Ai=3),x.flags&=-257,x.flags|=65536,x.lanes=D,T===nd?x.flags|=16384:(d=x.updateQueue,d===null?x.updateQueue=new Set([T]):d.add(T),Yu(f,T,D)),!1;case 22:return x.flags|=65536,T===nd?x.flags|=16384:(d=x.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([T])},x.updateQueue=d):(x=d.retryQueue,x===null?d.retryQueue=new Set([T]):x.add(T)),Yu(f,T,D)),!1}throw Error(r(435,x.tag))}return Yu(f,T,D),dl(),!1}if(Xn)return d=ea.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=D,T!==$h&&(f=Error(r(422),{cause:T}),ot(pe(f,x)))):(T!==$h&&(d=Error(r(423),{cause:T}),ot(pe(d,x))),f=f.current.alternate,f.flags|=65536,D&=-D,f.lanes|=D,T=pe(T,x),D=kc(f.stateNode,T,D),ue(f,D),Ai!==4&&(Ai=2)),!1;var F=Error(r(520),{cause:T});if(F=pe(F,x),lc===null?lc=[F]:lc.push(F),Ai!==4&&(Ai=2),d===null)return!0;T=pe(T,x),x=d;do{switch(x.tag){case 3:return x.flags|=65536,f=D&-D,x.lanes|=f,f=kc(x.stateNode,T,f),ue(x,f),!1;case 1:if(d=x.type,F=x.stateNode,(x.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Su===null||!Su.has(F))))return x.flags|=65536,D&=-D,x.lanes|=D,D=e0(D),g_(D,f,x,T),ue(x,D),!1}x=x.return}while(x!==null);return!1}function Ir(f,d,x,T){d.child=f===null?Bo(d,null,x,T):yu(d,f.child,x,T)}function Cp(f,d,x,T,D){x=x.render;var F=d.ref;if("ref"in T){var ee={};for(var me in T)me!=="ref"&&(ee[me]=T[me])}else ee=T;return Jl(d),T=J(f,d,x,ee,F,D),me=He(),f!==null&&!Si?(lt(f,d,D),al(f,d,D)):(Xn&&me&&ve(d),d.flags|=1,Ir(f,d,T,D),d.child)}function v_(f,d,x,T,D){if(f===null){var F=x.type;return typeof F=="function"&&!Ih(F)&&F.defaultProps===void 0&&x.compare===null?(d.tag=15,d.type=F,y_(f,d,F,T,D)):(f=Mo(x.type,null,T,d,d.mode,D),f.ref=d.ref,f.return=d,d.child=f)}if(F=f.child,!s0(f,D)){var ee=F.memoizedProps;if(x=x.compare,x=x!==null?x:qe,x(ee,T)&&f.ref===d.ref)return al(f,d,D)}return d.flags|=1,f=Aa(F,T),f.ref=d.ref,f.return=d,d.child=f}function y_(f,d,x,T,D){if(f!==null){var F=f.memoizedProps;if(qe(F,T)&&f.ref===d.ref)if(Si=!1,d.pendingProps=T=F,s0(f,D))(f.flags&131072)!==0&&(Si=!0);else return d.lanes=f.lanes,al(f,d,D)}return wp(f,d,x,T,D)}function __(f,d,x){var T=d.pendingProps,D=T.children,F=(d.stateNode._pendingVisibility&2)!==0,ee=f!==null?f.memoizedState:null;if(Sh(f,d),T.mode==="hidden"||F){if((d.flags&128)!==0){if(T=ee!==null?ee.baseLanes|x:x,f!==null){for(D=d.child=f.child,F=0;D!==null;)F=F|D.lanes|D.childLanes,D=D.sibling;d.childLanes=F&~T}else d.childLanes=0,d.child=null;return x_(f,d,T,x)}if((x&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},f!==null&&Bp(d,ee!==null?ee.cachePool:null),ee!==null?pt(d,ee):Ht(),ai(d);else return d.lanes=d.childLanes=536870912,x_(f,d,ee!==null?ee.baseLanes|x:x,x)}else ee!==null?(Bp(d,ee.cachePool),pt(d,ee),en(),d.memoizedState=null):(f!==null&&Bp(d,null),Ht(),en());return Ir(f,d,D,x),d.child}function x_(f,d,x,T){var D=o0();return D=D===null?null:{parent:hs?Ti._currentValue:Ti._currentValue2,pool:D},d.memoizedState={baseLanes:x,cachePool:D},f!==null&&Bp(d,null),Ht(),ai(d),f!==null&&Mh(f,d,T,!0),null}function Sh(f,d){var x=d.ref;if(x===null)f!==null&&f.ref!==null&&(d.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(f===null||f.ref!==x)&&(d.flags|=2097664)}}function wp(f,d,x,T,D){return Jl(d),x=J(f,d,x,T,void 0,D),T=He(),f!==null&&!Si?(lt(f,d,D),al(f,d,D)):(Xn&&T&&ve(d),d.flags|=1,Ir(f,d,x,D),d.child)}function S_(f,d,x,T,D,F){return Jl(d),d.updateQueue=null,x=be(d,T,x,D),de(f),T=He(),f!==null&&!Si?(lt(f,d,F),al(f,d,F)):(Xn&&T&&ve(d),d.flags|=1,Ir(f,d,x,F),d.child)}function A_(f,d,x,T,D){if(Jl(d),d.stateNode===null){var F=du,ee=x.contextType;typeof ee=="object"&&ee!==null&&(F=Fr(ee)),F=new x(T,F),d.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=Do,d.stateNode=F,F._reactInternals=d,F=d.stateNode,F.props=T,F.state=d.memoizedState,F.refs={},Rt(d),ee=x.contextType,F.context=typeof ee=="object"&&ee!==null?Fr(ee):du,F.state=d.memoizedState,ee=x.getDerivedStateFromProps,typeof ee=="function"&&(zc(d,x,ee,T),F.state=d.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(ee=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),ee!==F.state&&Do.enqueueReplaceState(F,F.state,null),$e(d,T,F,D),Se(),F.state=d.memoizedState),typeof F.componentDidMount=="function"&&(d.flags|=4194308),T=!0}else if(f===null){F=d.stateNode;var me=d.memoizedProps,Ce=sl(x,me);F.props=Ce;var tt=F.context,xt=x.contextType;ee=du,typeof xt=="object"&&xt!==null&&(ee=Fr(xt));var Ot=x.getDerivedStateFromProps;xt=typeof Ot=="function"||typeof F.getSnapshotBeforeUpdate=="function",me=d.pendingProps!==me,xt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(me||tt!==ee)&&m_(d,F,T,ee),bl=!1;var Ft=d.memoizedState;F.state=Ft,$e(d,T,F,D),Se(),tt=d.memoizedState,me||Ft!==tt||bl?(typeof Ot=="function"&&(zc(d,x,Ot,T),tt=d.memoizedState),(Ce=bl||Hc(d,x,Ce,T,Ft,tt,ee))?(xt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(d.flags|=4194308)):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=tt),F.props=T,F.state=tt,F.context=ee,T=Ce):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{F=d.stateNode,St(f,d),ee=d.memoizedProps,xt=sl(x,ee),F.props=xt,Ot=d.pendingProps,Ft=F.context,tt=x.contextType,Ce=du,typeof tt=="object"&&tt!==null&&(Ce=Fr(tt)),me=x.getDerivedStateFromProps,(tt=typeof me=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ee!==Ot||Ft!==Ce)&&m_(d,F,T,Ce),bl=!1,Ft=d.memoizedState,F.state=Ft,$e(d,T,F,D),Se();var _n=d.memoizedState;ee!==Ot||Ft!==_n||bl||f!==null&&f.dependencies!==null&&Eh(f.dependencies)?(typeof me=="function"&&(zc(d,x,me,T),_n=d.memoizedState),(xt=bl||Hc(d,x,xt,T,Ft,_n,Ce)||f!==null&&f.dependencies!==null&&Eh(f.dependencies))?(tt||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(T,_n,Ce),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(T,_n,Ce)),typeof F.componentDidUpdate=="function"&&(d.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof F.componentDidUpdate!="function"||ee===f.memoizedProps&&Ft===f.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ee===f.memoizedProps&&Ft===f.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=_n),F.props=T,F.state=_n,F.context=Ce,T=xt):(typeof F.componentDidUpdate!="function"||ee===f.memoizedProps&&Ft===f.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ee===f.memoizedProps&&Ft===f.memoizedState||(d.flags|=1024),T=!1)}return F=T,Sh(f,d),T=(d.flags&128)!==0,F||T?(F=d.stateNode,x=T&&typeof x.getDerivedStateFromError!="function"?null:F.render(),d.flags|=1,f!==null&&T?(d.child=yu(d,f.child,null,D),d.child=yu(d,null,x,D)):Ir(f,d,x,D),d.memoizedState=F.state,f=d.child):f=al(f,d,D),f}function b_(f,d,x,T){return Lt(),d.flags|=256,Ir(f,d,x,T),d.child}function t0(f){return{baseLanes:f,cachePool:l0()}}function Ah(f,d,x){return f=f!==null?f.childLanes&~x:0,d&&(f|=aa),f}function M_(f,d,x){var T=d.pendingProps,D=!1,F=(d.flags&128)!==0,ee;if((ee=F)||(ee=f!==null&&f.memoizedState===null?!1:(vr.current&2)!==0),ee&&(D=!0,d.flags&=-129),ee=(d.flags&32)!==0,d.flags&=-33,f===null){if(Xn){if(D?Wt(d):en(),Xn){var me=Xr,Ce;(Ce=me)&&(me=o1(me,Br),me!==null?(d.memoizedState={dehydrated:me,treeContext:pu!==null?{id:Ja,overflow:Za}:null,retryLane:536870912},Ce=t(18,null,null,0),Ce.stateNode=me,Ce.return=d,d.child=Ce,kr=d,Xr=null,Ce=!0):Ce=!1),Ce||Ue(d)}if(me=d.memoizedState,me!==null&&(me=me.dehydrated,me!==null))return tm(me)?d.lanes=16:d.lanes=536870912,null;Nt(d)}return me=T.children,T=T.fallback,D?(en(),D=d.mode,me=i0({mode:"hidden",children:me},D),T=Hi(T,D,x,null),me.return=d,T.return=d,me.sibling=T,d.child=me,D=d.child,D.memoizedState=t0(x),D.childLanes=Ah(f,ee,x),d.memoizedState=mm,T):(Wt(d),n0(d,me))}if(Ce=f.memoizedState,Ce!==null&&(me=Ce.dehydrated,me!==null)){if(F)d.flags&256?(Wt(d),d.flags&=-257,d=Rp(f,d,x)):d.memoizedState!==null?(en(),d.child=f.child,d.flags|=128,d=null):(en(),D=T.fallback,me=d.mode,T=i0({mode:"visible",children:T.children},me),D=Hi(D,me,x,null),D.flags|=2,T.return=d,D.return=d,T.sibling=D,d.child=T,yu(d,f.child,null,x),T=d.child,T.memoizedState=t0(x),T.childLanes=Ah(f,ee,x),d.memoizedState=mm,d=D);else if(Wt(d),tm(me))ee=n1(me).digest,T=Error(r(419)),T.stack="",T.digest=ee,ot({value:T,source:null,stack:null}),d=Rp(f,d,x);else if(Si||Mh(f,d,x,!1),ee=(x&f.childLanes)!==0,Si||ee){if(ee=ui,ee!==null){if(T=x&-x,(T&42)!==0)T=1;else switch(T){case 2:T=1;break;case 8:T=4;break;case 32:T=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:T=64;break;case 268435456:T=134217728;break;default:T=0}if(T=(T&(ee.suspendedLanes|x))!==0?0:T,T!==0&&T!==Ce.retryLane)throw Ce.retryLane=T,ce(f,T),wr(ee,f,T),pm}em(me)||dl(),d=Rp(f,d,x)}else em(me)?(d.flags|=128,d.child=f.child,d=pl.bind(null,f),i1(me,d),d=null):(f=Ce.treeContext,Vr&&(Xr=a1(me),kr=d,Xn=!0,Ca=null,Br=!1,f!==null&&(Zs[Qs++]=Ja,Zs[Qs++]=Za,Zs[Qs++]=pu,Ja=f.id,Za=f.overflow,pu=d)),d=n0(d,T.children),d.flags|=4096);return d}return D?(en(),D=T.fallback,me=d.mode,Ce=f.child,F=Ce.sibling,T=Aa(Ce,{mode:"hidden",children:T.children}),T.subtreeFlags=Ce.subtreeFlags&31457280,F!==null?D=Aa(F,D):(D=Hi(D,me,x,null),D.flags|=2),D.return=d,T.return=d,T.sibling=D,d.child=T,T=D,D=d.child,me=f.child.memoizedState,me===null?me=t0(x):(Ce=me.cachePool,Ce!==null?(F=hs?Ti._currentValue:Ti._currentValue2,Ce=Ce.parent!==F?{parent:F,pool:F}:Ce):Ce=l0(),me={baseLanes:me.baseLanes|x,cachePool:Ce}),D.memoizedState=me,D.childLanes=Ah(f,ee,x),d.memoizedState=mm,T):(Wt(d),x=f.child,f=x.sibling,x=Aa(x,{mode:"visible",children:T.children}),x.return=d,x.sibling=null,f!==null&&(ee=d.deletions,ee===null?(d.deletions=[f],d.flags|=16):ee.push(f)),d.child=x,d.memoizedState=null,x)}function n0(f,d){return d=i0({mode:"visible",children:d},f.mode),d.return=f,f.child=d}function i0(f,d){return zh(f,d,0,null)}function Rp(f,d,x){return yu(d,f.child,null,x),f=n0(d,d.pendingProps.children),f.flags|=2,d.memoizedState=null,f}function E_(f,d,x){f.lanes|=d;var T=f.alternate;T!==null&&(T.lanes|=d),bh(f.return,d,x)}function r0(f,d,x,T,D){var F=f.memoizedState;F===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:x,tailMode:D}:(F.isBackwards=d,F.rendering=null,F.renderingStartTime=0,F.last=T,F.tail=x,F.tailMode=D)}function T_(f,d,x){var T=d.pendingProps,D=T.revealOrder,F=T.tail;if(Ir(f,d,T.children,x),T=vr.current,(T&2)!==0)T=T&1|2,d.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&E_(f,x,d);else if(f.tag===19)E_(f,x,d);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}T&=1}switch(C(vr,T),D){case"forwards":for(x=d.child,D=null;x!==null;)f=x.alternate,f!==null&&ii(f)===null&&(D=x),x=x.sibling;x=D,x===null?(D=d.child,d.child=null):(D=x.sibling,x.sibling=null),r0(d,!1,D,x,F);break;case"backwards":for(x=null,D=d.child,d.child=null;D!==null;){if(f=D.alternate,f!==null&&ii(f)===null){d.child=D;break}f=D.sibling,D.sibling=x,x=D,D=f}r0(d,!0,x,null,F);break;case"together":r0(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function al(f,d,x){if(f!==null&&(d.dependencies=f.dependencies),sa|=d.lanes,(x&d.childLanes)===0)if(f!==null){if(Mh(f,d,x,!1),(x&d.childLanes)===0)return null}else return null;if(f!==null&&d.child!==f.child)throw Error(r(153));if(d.child!==null){for(f=d.child,x=Aa(f,f.pendingProps),d.child=x,x.return=d;f.sibling!==null;)f=f.sibling,x=x.sibling=Aa(f,f.pendingProps),x.return=d;x.sibling=null}return d.child}function s0(f,d){return(f.lanes&d)!==0?!0:(f=f.dependencies,!!(f!==null&&Eh(f)))}function kb(f,d,x){switch(d.tag){case 3:se(d,d.stateNode.containerInfo),Kl(d,Ti,f.memoizedState.cache),Lt();break;case 27:case 5:we(d);break;case 4:se(d,d.stateNode.containerInfo);break;case 10:Kl(d,d.type,d.memoizedProps.value);break;case 13:var T=d.memoizedState;if(T!==null)return T.dehydrated!==null?(Wt(d),d.flags|=128,null):(x&d.child.childLanes)!==0?M_(f,d,x):(Wt(d),f=al(f,d,x),f!==null?f.sibling:null);Wt(d);break;case 19:var D=(f.flags&128)!==0;if(T=(x&d.childLanes)!==0,T||(Mh(f,d,x,!1),T=(x&d.childLanes)!==0),D){if(T)return T_(f,d,x);d.flags|=128}if(D=d.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),C(vr,vr.current),T)break;return null;case 22:case 23:return d.lanes=0,__(f,d,x);case 24:Kl(d,Ti,f.memoizedState.cache)}return al(f,d,x)}function C_(f,d,x){if(f!==null)if(f.memoizedProps!==d.pendingProps)Si=!0;else{if(!s0(f,x)&&(d.flags&128)===0)return Si=!1,kb(f,d,x);Si=(f.flags&131072)!==0}else Si=!1,Xn&&(d.flags&1048576)!==0&&oe(d,ff,d.index);switch(d.lanes=0,d.tag){case 16:e:{f=d.pendingProps;var T=d.elementType,D=T._init;if(T=D(T._payload),d.type=T,typeof T=="function")Ih(T)?(f=sl(T,f),d.tag=1,d=A_(null,d,T,f,x)):(d.tag=0,d=wp(null,d,T,f,x));else{if(T!=null){if(D=T.$$typeof,D===Xh){d.tag=11,d=Cp(null,d,T,f,x);break e}else if(D===Wp){d.tag=14,d=v_(null,d,T,f,x);break e}}throw d=a(T)||T,Error(r(306,d,""))}}return d;case 0:return wp(f,d,d.type,d.pendingProps,x);case 1:return T=d.type,D=sl(T,d.pendingProps),A_(f,d,T,D,x);case 3:e:{if(se(d,d.stateNode.containerInfo),f===null)throw Error(r(387));var F=d.pendingProps;D=d.memoizedState,T=D.element,St(f,d),$e(d,F,null,x);var ee=d.memoizedState;if(F=ee.cache,Kl(d,Ti,F),F!==D.cache&&ku(d,[Ti],x,!0),Se(),F=ee.element,Vr&&D.isDehydrated)if(D={element:F,isDehydrated:!1,cache:ee.cache},d.updateQueue.baseState=D,d.memoizedState=D,d.flags&256){d=b_(f,d,F,x);break e}else if(F!==T){T=pe(Error(r(424)),d),ot(T),d=b_(f,d,F,x);break e}else for(Vr&&(Xr=s1(d.stateNode.containerInfo),kr=d,Xn=!0,Ca=null,Br=!0),x=Bo(d,null,F,x),d.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Lt(),F===T){d=al(f,d,x);break e}Ir(f,d,F,x)}d=d.child}return d;case 26:if(Js)return Sh(f,d),f===null?(x=Y0(d.type,null,d.pendingProps,null))?d.memoizedState=x:Xn||(d.stateNode=am(d.type,d.pendingProps,wo.current,d)):d.memoizedState=Y0(d.type,f.memoizedProps,d.pendingProps,f.memoizedState),null;case 27:if(_i)return we(d),f===null&&_i&&Xn&&(T=d.stateNode=Ka(d.type,d.pendingProps,wo.current,gr.current,!1),kr=d,Br=!0,Xr=nm(T)),T=d.pendingProps.children,f!==null||Xn?Ir(f,d,T,x):d.child=yu(d,null,T,x),Sh(f,d),d.child;case 5:return f===null&&Xn&&(rm(d.type,d.pendingProps,gr.current),(D=T=Xr)&&(T=Jb(T,d.type,d.pendingProps,Br),T!==null?(d.stateNode=T,kr=d,Xr=nm(T),Br=!1,D=!0):D=!1),D||Ue(d)),we(d),D=d.type,F=d.pendingProps,ee=f!==null?f.memoizedProps:null,T=F.children,An(D,F)?T=null:ee!==null&&An(D,ee)&&(d.flags|=32),d.memoizedState!==null&&(D=J(f,d,De,null,null,x),hs?Wa._currentValue=D:Wa._currentValue2=D),Sh(f,d),Ir(f,d,T,x),d.child;case 6:return f===null&&Xn&&(h1(d.pendingProps,gr.current),(f=x=Xr)&&(x=k0(x,d.pendingProps,Br),x!==null?(d.stateNode=x,kr=d,Xr=null,f=!0):f=!1),f||Ue(d)),null;case 13:return M_(f,d,x);case 4:return se(d,d.stateNode.containerInfo),T=d.pendingProps,f===null?d.child=yu(d,null,T,x):Ir(f,d,T,x),d.child;case 11:return Cp(f,d,d.type,d.pendingProps,x);case 7:return Ir(f,d,d.pendingProps,x),d.child;case 8:return Ir(f,d,d.pendingProps.children,x),d.child;case 12:return Ir(f,d,d.pendingProps.children,x),d.child;case 10:return T=d.pendingProps,Kl(d,d.type,T.value),Ir(f,d,T.children,x),d.child;case 9:return D=d.type._context,T=d.pendingProps.children,Jl(d),D=Fr(D),T=T(D),d.flags|=1,Ir(f,d,T,x),d.child;case 14:return v_(f,d,d.type,d.pendingProps,x);case 15:return y_(f,d,d.type,d.pendingProps,x);case 19:return T_(f,d,x);case 22:return __(f,d,x);case 24:return Jl(d),T=Fr(Ti),f===null?(D=o0(),D===null&&(D=ui,F=Zl(),D.pooledCache=F,F.refCount++,F!==null&&(D.pooledCacheLanes|=x),D=F),d.memoizedState={parent:T,cache:D},Rt(d),Kl(d,Ti,D)):((f.lanes&x)!==0&&(St(f,d),$e(d,null,null,x),Se()),D=f.memoizedState,F=d.memoizedState,D.parent!==T?(D={parent:T,cache:T},d.memoizedState=D,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=D),Kl(d,Ti,T)):(T=F.cache,Kl(d,Ti,T),T!==D.cache&&ku(d,[Ti],x,!0))),Ir(f,d,d.pendingProps.children,x),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Kl(f,d,x){hs?(C(El,d._currentValue),d._currentValue=x):(C(El,d._currentValue2),d._currentValue2=x)}function ol(f){var d=El.current;hs?f._currentValue=d:f._currentValue2=d,A(El)}function bh(f,d,x){for(;f!==null;){var T=f.alternate;if((f.childLanes&d)!==d?(f.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),f===x)break;f=f.return}}function ku(f,d,x,T){var D=f.child;for(D!==null&&(D.return=f);D!==null;){var F=D.dependencies;if(F!==null){var ee=D.child;F=F.firstContext;e:for(;F!==null;){var me=F;F=D;for(var Ce=0;Ce<d.length;Ce++)if(me.context===d[Ce]){F.lanes|=x,me=F.alternate,me!==null&&(me.lanes|=x),bh(F.return,x,f),T||(ee=null);break e}F=me.next}}else if(D.tag===18){if(ee=D.return,ee===null)throw Error(r(341));ee.lanes|=x,F=ee.alternate,F!==null&&(F.lanes|=x),bh(ee,x,f),ee=null}else ee=D.child;if(ee!==null)ee.return=D;else for(ee=D;ee!==null;){if(ee===f){ee=null;break}if(D=ee.sibling,D!==null){D.return=ee.return,ee=D;break}ee=ee.return}D=ee}}function Mh(f,d,x,T){f=null;for(var D=d,F=!1;D!==null;){if(!F){if((D.flags&524288)!==0)F=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var ee=D.alternate;if(ee===null)throw Error(r(387));if(ee=ee.memoizedProps,ee!==null){var me=D.type;Os(D.pendingProps.value,ee.value)||(f!==null?f.push(me):f=[me])}}else if(D===$u.current){if(ee=D.alternate,ee===null)throw Error(r(387));ee.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(f!==null?f.push(Wa):f=[Wa])}D=D.return}f!==null&&ku(d,f,x,T),d.flags|=262144}function Eh(f){for(f=f.firstContext;f!==null;){var d=f.context;if(!Os(hs?d._currentValue:d._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function Jl(f){eo=f,na=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Fr(f){return a0(eo,f)}function Th(f,d){return eo===null&&Jl(f),a0(f,d)}function a0(f,d){var x=hs?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:x,next:null},na===null){if(f===null)throw Error(r(308));na=d,f.dependencies={lanes:0,firstContext:d},f.flags|=524288}else na=na.next=d;return x}function Zl(){return{controller:new vf,data:new Map,refCount:0}}function Ch(f){f.refCount--,f.refCount===0&&b1(M1,function(){f.controller.abort()})}function o0(){var f=Oo.current;return f!==null?f:ui.pooledCache}function Bp(f,d){d===null?C(Oo,Oo.current):C(Oo,d.pool)}function l0(){var f=o0();return f===null?null:{parent:hs?Ti._currentValue:Ti._currentValue2,pool:f}}function Es(f){f.flags|=4}function Xc(f,d){if(f!==null&&f.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(f=d.child;f!==null;){if((f.flags&13878)!==0||(f.subtreeFlags&13878)!==0)return!0;f=f.sibling}return!1}function Xu(f,d,x,T){if(mr)for(x=d.child;x!==null;){if(x.tag===5||x.tag===6)jh(f,x.stateNode);else if(!(x.tag===4||_i&&x.tag===27)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===d)break;for(;x.sibling===null;){if(x.return===null||x.return===d)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else if(Ea)for(var D=d.child;D!==null;){if(D.tag===5){var F=D.stateNode;x&&T&&(F=z0(F,D.type,D.memoizedProps)),jh(f,F)}else if(D.tag===6)F=D.stateNode,x&&T&&(F=H0(F,D.memoizedProps)),jh(f,F);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)F=D.child,F!==null&&(F.return=D),Xu(f,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===d)break;for(;D.sibling===null;){if(D.return===null||D.return===d)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function w_(f,d,x,T){if(Ea)for(var D=d.child;D!==null;){if(D.tag===5){var F=D.stateNode;x&&T&&(F=z0(F,D.type,D.memoizedProps)),F0(f,F)}else if(D.tag===6)F=D.stateNode,x&&T&&(F=H0(F,D.memoizedProps)),F0(f,F);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)F=D.child,F!==null&&(F.return=D),w_(f,D,!(D.memoizedProps!==null&&D.memoizedProps.mode==="manual"),!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===d)break;for(;D.sibling===null;){if(D.return===null||D.return===d)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function wh(f,d){if(Ea&&Xc(f,d)){f=d.stateNode;var x=f.containerInfo,T=qh();w_(T,d,!1,!1),f.pendingChildren=T,Es(d),$p(x,T)}}function Dp(f,d,x,T){if(mr)f.memoizedProps!==T&&Es(d);else if(Ea){var D=f.stateNode,F=f.memoizedProps;if((f=Xc(f,d))||F!==T){var ee=gr.current;F=lf(D,x,F,T,!f,null),F===D?d.stateNode=D:(yl(F,x,T,ee)&&Es(d),d.stateNode=F,f?Xu(F,d,!1,!1):Es(d))}else d.stateNode=D}}function Op(f,d,x){if(B0(d,x)){if(f.flags|=16777216,!Zp(d,x))if(iu())f.flags|=8192;else throw mu=nd,td}else f.flags&=-16777217}function Up(f,d){if(m1(d)){if(f.flags|=16777216,!Wu(d))if(iu())f.flags|=8192;else throw mu=nd,td}else f.flags&=-16777217}function Yc(f,d){d!==null&&(f.flags|=4),f.flags&16384&&(d=f.tag!==22?U():536870912,f.lanes|=d,No|=d)}function jc(f,d){if(!Xn)switch(f.tailMode){case"hidden":d=f.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?f.tail=null:x.sibling=null;break;case"collapsed":x=f.tail;for(var T=null;x!==null;)x.alternate!==null&&(T=x),x=x.sibling;T===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:T.sibling=null}}function Li(f){var d=f.alternate!==null&&f.alternate.child===f.child,x=0,T=0;if(d)for(var D=f.child;D!==null;)x|=D.lanes|D.childLanes,T|=D.subtreeFlags&31457280,T|=D.flags&31457280,D.return=f,D=D.sibling;else for(D=f.child;D!==null;)x|=D.lanes|D.childLanes,T|=D.subtreeFlags,T|=D.flags,D.return=f,D=D.sibling;return f.subtreeFlags|=T,f.childLanes=x,d}function R_(f,d,x){var T=d.pendingProps;switch(Ae(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(d),null;case 1:return Li(d),null;case 3:return x=d.stateNode,T=null,f!==null&&(T=f.memoizedState.cache),d.memoizedState.cache!==T&&(d.flags|=2048),ol(Ti),Te(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(f===null||f.child===null)&&(zt(d)?Es(d):f===null||f.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ca!==null&&(Nh(Ca),Ca=null))),wh(f,d),Li(d),null;case 26:if(Js){x=d.type;var D=d.memoizedState;return f===null?(Es(d),D!==null?(Li(d),Up(d,D)):(Li(d),Op(d,x,T))):D?D!==f.memoizedState?(Es(d),Li(d),Up(d,D)):(Li(d),d.flags&=-16777217):(mr?f.memoizedProps!==T&&Es(d):Dp(f,d,x,T),Li(d),Op(d,x,T)),null}case 27:if(_i){if(Fe(d),x=wo.current,D=d.type,f!==null&&d.stateNode!=null)mr?f.memoizedProps!==T&&Es(d):Dp(f,d,D,T);else{if(!T){if(d.stateNode===null)throw Error(r(166));return Li(d),null}f=gr.current,zt(d)?dt(d,f):(f=Ka(D,T,x,f,!0),d.stateNode=f,Es(d))}return Li(d),null}case 5:if(Fe(d),x=d.type,f!==null&&d.stateNode!=null)Dp(f,d,x,T);else{if(!T){if(d.stateNode===null)throw Error(r(166));return Li(d),null}f=gr.current,zt(d)?dt(d,f):(D=R0(x,T,wo.current,f,d),Xu(D,d,!1,!1),d.stateNode=D,yl(D,x,T,f)&&Es(d))}return Li(d),Op(d,d.type,d.pendingProps),null;case 6:if(f&&d.stateNode!=null)x=f.memoizedProps,mr?x!==T&&Es(d):Ea&&(x!==T?(d.stateNode=pi(T,wo.current,gr.current,d),Es(d)):d.stateNode=f.stateNode);else{if(typeof T!="string"&&d.stateNode===null)throw Error(r(166));if(f=wo.current,x=gr.current,zt(d)){if(!Vr)throw Error(r(176));if(f=d.stateNode,x=d.memoizedProps,T=null,D=kr,D!==null)switch(D.tag){case 27:case 5:T=D.memoizedProps}X0(f,x,d,T)||Ue(d)}else d.stateNode=pi(T,f,x,d)}return Li(d),null;case 13:if(T=d.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(D=zt(d),T!==null&&T.dehydrated!==null){if(f===null){if(!D)throw Error(r(318));if(!Vr)throw Error(r(344));if(D=d.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));u1(D,d)}else Lt(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Li(d),D=!1}else Ca!==null&&(Nh(Ca),Ca=null),D=!0;if(!D)return d.flags&256?(Nt(d),d):(Nt(d),null)}if(Nt(d),(d.flags&128)!==0)return d.lanes=x,d;if(x=T!==null,f=f!==null&&f.memoizedState!==null,x){T=d.child,D=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(D=T.alternate.memoizedState.cachePool.pool);var F=null;T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(F=T.memoizedState.cachePool.pool),F!==D&&(T.flags|=2048)}return x!==f&&x&&(d.child.flags|=8192),Yc(d,d.updateQueue),Li(d),null;case 4:return Te(),wh(f,d),f===null&&Ki(d.stateNode.containerInfo),Li(d),null;case 10:return ol(d.type),Li(d),null;case 19:if(A(vr),D=d.memoizedState,D===null)return Li(d),null;if(T=(d.flags&128)!==0,F=D.rendering,F===null)if(T)jc(D,!1);else{if(Ai!==0||f!==null&&(f.flags&128)!==0)for(f=d.child;f!==null;){if(F=ii(f),F!==null){for(d.flags|=128,jc(D,!1),f=F.updateQueue,d.updateQueue=f,Yc(d,f),d.subtreeFlags=0,f=x,x=d.child;x!==null;)Fh(x,f),x=x.sibling;return C(vr,vr.current&1|2),d.child}f=f.sibling}D.tail!==null&&Ta()>xf&&(d.flags|=128,T=!0,jc(D,!1),d.lanes=4194304)}else{if(!T)if(f=ii(F),f!==null){if(d.flags|=128,T=!0,f=f.updateQueue,d.updateQueue=f,Yc(d,f),jc(D,!0),D.tail===null&&D.tailMode==="hidden"&&!F.alternate&&!Xn)return Li(d),null}else 2*Ta()-D.renderingStartTime>xf&&x!==536870912&&(d.flags|=128,T=!0,jc(D,!1),d.lanes=4194304);D.isBackwards?(F.sibling=d.child,d.child=F):(f=D.last,f!==null?f.sibling=F:d.child=F,D.last=F)}return D.tail!==null?(d=D.tail,D.rendering=d,D.tail=d.sibling,D.renderingStartTime=Ta(),d.sibling=null,f=vr.current,C(vr,T?f&1|2:f&1),d):(Li(d),null);case 22:case 23:return Nt(d),Dt(),T=d.memoizedState!==null,f!==null?f.memoizedState!==null!==T&&(d.flags|=8192):T&&(d.flags|=8192),T?(x&536870912)!==0&&(d.flags&128)===0&&(Li(d),d.subtreeFlags&6&&(d.flags|=8192)):Li(d),x=d.updateQueue,x!==null&&Yc(d,x.retryQueue),x=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),T=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(T=d.memoizedState.cachePool.pool),T!==x&&(d.flags|=2048),f!==null&&A(Oo),null;case 24:return x=null,f!==null&&(x=f.memoizedState.cache),d.memoizedState.cache!==x&&(d.flags|=2048),ol(Ti),Li(d),null;case 25:return null}throw Error(r(156,d.tag))}function Xb(f,d){switch(Ae(d),d.tag){case 1:return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 3:return ol(Ti),Te(),f=d.flags,(f&65536)!==0&&(f&128)===0?(d.flags=f&-65537|128,d):null;case 26:case 27:case 5:return Fe(d),null;case 13:if(Nt(d),f=d.memoizedState,f!==null&&f.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Lt()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 19:return A(vr),null;case 4:return Te(),null;case 10:return ol(d.type),null;case 22:case 23:return Nt(d),Dt(),f!==null&&A(Oo),f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 24:return ol(Ti),null;case 25:return null;default:return null}}function B_(f,d){switch(Ae(d),d.tag){case 3:ol(Ti),Te();break;case 26:case 27:case 5:Fe(d);break;case 4:Te();break;case 13:Nt(d);break;case 19:A(vr);break;case 10:ol(d.type);break;case 22:case 23:Nt(d),Dt(),f!==null&&A(Oo);break;case 24:ol(Ti)}}function Rh(f,d){try{var x=d.updateQueue,T=x!==null?x.lastEffect:null;if(T!==null){var D=T.next;x=D;do{if((x.tag&f)===f){T=void 0;var F=x.create,ee=x.inst;T=F(),ee.destroy=T}x=x.next}while(x!==D)}}catch(me){oi(d,d.return,me)}}function Ql(f,d,x){try{var T=d.updateQueue,D=T!==null?T.lastEffect:null;if(D!==null){var F=D.next;T=F;do{if((T.tag&f)===f){var ee=T.inst,me=ee.destroy;if(me!==void 0){ee.destroy=void 0,D=d;var Ce=x;try{me()}catch(tt){oi(D,Ce,tt)}}}T=T.next}while(T!==F)}}catch(tt){oi(d,d.return,tt)}}function D_(f){var d=f.updateQueue;if(d!==null){var x=f.stateNode;try{Be(d,x)}catch(T){oi(f,f.return,T)}}}function Ts(f,d,x){x.props=sl(f.type,f.memoizedProps),x.state=f.memoizedState;try{x.componentWillUnmount()}catch(T){oi(f,d,T)}}function Ya(f,d){try{var x=f.ref;if(x!==null){var T=f.stateNode;switch(f.tag){case 26:case 27:case 5:var D=sf(T);break;default:D=T}typeof x=="function"?f.refCleanup=x(D):x.current=D}}catch(F){oi(f,d,F)}}function Cs(f,d){var x=f.ref,T=f.refCleanup;if(x!==null)if(typeof T=="function")try{T()}catch(D){oi(f,d,D)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(D){oi(f,d,D)}else x.current=null}function u0(f){var d=f.type,x=f.memoizedProps,T=f.stateNode;try{Wb(T,d,x,f)}catch(D){oi(f,f.return,D)}}function c0(f,d,x){try{W_(f.stateNode,f.type,x,d,f)}catch(T){oi(f,f.return,T)}}function f0(f){return f.tag===5||f.tag===3||(Js?f.tag===26:!1)||(_i?f.tag===27:!1)||f.tag===4}function Bh(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||f0(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&(!_i||f.tag!==27)&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function h0(f,d,x){var T=f.tag;if(T===5||T===6)f=f.stateNode,d?J_(x,f,d):N0(x,f);else if(!(T===4||_i&&T===27)&&(f=f.child,f!==null))for(h0(f,d,x),f=f.sibling;f!==null;)h0(f,d,x),f=f.sibling}function ll(f,d,x){var T=f.tag;if(T===5||T===6)f=f.stateNode,d?K_(x,f,d):j_(x,f);else if(!(T===4||_i&&T===27)&&(f=f.child,f!==null))for(ll(f,d,x),f=f.sibling;f!==null;)ll(f,d,x),f=f.sibling}function Lp(f,d,x){f=f.containerInfo;try{uf(f,x)}catch(T){oi(d,d.return,T)}}function Dh(f,d){for(Kp(f.containerInfo),yn=d;yn!==null;)if(f=yn,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,yn=d;else for(;yn!==null;){f=yn;var x=f.alternate;switch(d=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&x!==null){d=void 0;var T=f,D=x.memoizedProps;x=x.memoizedState;var F=T.stateNode;try{var ee=sl(T.type,D,T.elementType===T.type);d=F.getSnapshotBeforeUpdate(ee,x),F.__reactInternalSnapshotBeforeUpdate=d}catch(me){oi(T,T.return,me)}}break;case 3:(d&1024)!==0&&mr&&t1(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=f.sibling,d!==null){d.return=f.return,yn=d;break}yn=f.return}return ee=Un,Un=!1,ee}function Np(f,d,x){var T=x.flags;switch(x.tag){case 0:case 11:case 15:cl(f,x),T&4&&Rh(5,x);break;case 1:if(cl(f,x),T&4)if(f=x.stateNode,d===null)try{f.componentDidMount()}catch(me){oi(x,x.return,me)}else{var D=sl(x.type,d.memoizedProps);d=d.memoizedState;try{f.componentDidUpdate(D,d,f.__reactInternalSnapshotBeforeUpdate)}catch(me){oi(x,x.return,me)}}T&64&&D_(x),T&512&&Ya(x,x.return);break;case 3:if(cl(f,x),T&64&&(T=x.updateQueue,T!==null)){if(f=null,x.child!==null)switch(x.child.tag){case 27:case 5:f=sf(x.child.stateNode);break;case 1:f=x.child.stateNode}try{Be(T,f)}catch(me){oi(x,x.return,me)}}break;case 26:if(Js){cl(f,x),T&512&&Ya(x,x.return);break}case 27:case 5:cl(f,x),d===null&&T&4&&u0(x),T&512&&Ya(x,x.return);break;case 12:cl(f,x);break;case 13:cl(f,x),T&4&&Pp(f,x);break;case 22:if(D=x.memoizedState!==null||Uo,!D){d=d!==null&&d.memoizedState!==null||Vi;var F=Uo,ee=Vi;Uo=D,(Vi=d)&&!ee?fl(f,x,(x.subtreeFlags&8772)!==0):cl(f,x),Uo=F,Vi=ee}T&512&&(x.memoizedProps.mode==="manual"?Ya(x,x.return):Cs(x,x.return));break;default:cl(f,x)}}function d0(f){var d=f.alternate;d!==null&&(f.alternate=null,d0(d)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(d=f.stateNode,d!==null&&qb(d)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function zr(f,d,x){for(x=x.child;x!==null;)$l(f,d,x),x=x.sibling}function $l(f,d,x){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(Zi,x)}catch{}switch(x.tag){case 26:if(Js){Vi||Cs(x,d),zr(f,d,x),x.memoizedState?qu(x.memoizedState):x.stateNode&&cf(x.stateNode);break}case 27:if(_i){Vi||Cs(x,d);var T=nn,D=En;nn=x.stateNode,zr(f,d,x),hu(x.stateNode),nn=T,En=D;break}case 5:Vi||Cs(x,d);case 6:if(mr){if(T=nn,D=En,nn=null,zr(f,d,x),nn=T,En=D,nn!==null)if(En)try{Z_(nn,x.stateNode)}catch(F){oi(x,d,F)}else try{P0(nn,x.stateNode)}catch(F){oi(x,d,F)}}else zr(f,d,x);break;case 18:mr&&nn!==null&&(En?Wh(nn,x.stateNode):f1(nn,x.stateNode));break;case 4:mr?(T=nn,D=En,nn=x.stateNode.containerInfo,En=!0,zr(f,d,x),nn=T,En=D):(Ea&&Lp(x.stateNode,x,qh()),zr(f,d,x));break;case 0:case 11:case 14:case 15:Vi||Ql(2,x,d),Vi||Ql(4,x,d),zr(f,d,x);break;case 1:Vi||(Cs(x,d),T=x.stateNode,typeof T.componentWillUnmount=="function"&&Ts(x,d,T)),zr(f,d,x);break;case 21:zr(f,d,x);break;case 22:Vi||Cs(x,d),Vi=(T=Vi)||x.memoizedState!==null,zr(f,d,x),Vi=T;break;default:zr(f,d,x)}}function Pp(f,d){if(Vr&&d.memoizedState===null&&(f=d.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{Qb(f)}catch(x){oi(d,d.return,x)}}function O_(f){switch(f.tag){case 13:case 19:var d=f.stateNode;return d===null&&(d=f.stateNode=new li),d;case 22:return f=f.stateNode,d=f._retryCache,d===null&&(d=f._retryCache=new li),d;default:throw Error(r(435,f.tag))}}function ul(f,d){var x=O_(f);d.forEach(function(T){var D=au.bind(null,f,T);x.has(T)||(x.add(T),T.then(D,D))})}function cs(f,d){var x=d.deletions;if(x!==null)for(var T=0;T<x.length;T++){var D=x[T],F=f,ee=d;if(mr){var me=ee;e:for(;me!==null;){switch(me.tag){case 27:case 5:nn=me.stateNode,En=!1;break e;case 3:nn=me.stateNode.containerInfo,En=!0;break e;case 4:nn=me.stateNode.containerInfo,En=!0;break e}me=me.return}if(nn===null)throw Error(r(160));$l(F,ee,D),nn=null,En=!1}else $l(F,ee,D);F=D.alternate,F!==null&&(F.return=null),D.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)p0(d,f),d=d.sibling}function p0(f,d){var x=f.alternate,T=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:cs(d,f),ws(f),T&4&&(Ql(3,f,f.return),Rh(3,f),Ql(5,f,f.return));break;case 1:cs(d,f),ws(f),T&512&&(Vi||x===null||Cs(x,x.return)),T&64&&Uo&&(f=f.updateQueue,f!==null&&(T=f.callbacks,T!==null&&(x=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=x===null?T:x.concat(T))));break;case 26:if(Js){var D=Ii;cs(d,f),ws(f),T&512&&(Vi||x===null||Cs(x,x.return)),T&4&&(T=x!==null?x.memoizedState:null,d=f.memoizedState,x===null?d===null?f.stateNode===null?f.stateNode=Jh(D,f.type,f.memoizedProps,f):Zh(D,f.type,f.stateNode):f.stateNode=d1(D,d,f.memoizedProps):T!==d?(T===null?x.stateNode!==null&&cf(x.stateNode):qu(T),d===null?Zh(D,f.type,f.stateNode):d1(D,d,f.memoizedProps)):d===null&&f.stateNode!==null&&c0(f,f.memoizedProps,x.memoizedProps));break}case 27:if(_i&&T&4&&f.alternate===null){D=f.stateNode;var F=f.memoizedProps;try{fu(D),v1(f.type,F,D,f)}catch(xt){oi(f,f.return,xt)}}case 5:if(cs(d,f),ws(f),T&512&&(Vi||x===null||Cs(x,x.return)),mr){if(f.flags&32){d=f.stateNode;try{I0(d)}catch(xt){oi(f,f.return,xt)}}T&4&&f.stateNode!=null&&(d=f.memoizedProps,c0(f,d,x!==null?x.memoizedProps:d)),T&1024&&(K0=!0)}break;case 6:if(cs(d,f),ws(f),T&4&&mr){if(f.stateNode===null)throw Error(r(162));T=f.memoizedProps,x=x!==null?x.memoizedProps:T,d=f.stateNode;try{q_(d,x,T)}catch(xt){oi(f,f.return,xt)}}break;case 3:if(Js?(p1(),D=Ii,Ii=sm(d.containerInfo),cs(d,f),Ii=D):cs(d,f),ws(f),T&4){if(mr&&Vr&&x!==null&&x.memoizedState.isDehydrated)try{Zb(d.containerInfo)}catch(xt){oi(f,f.return,xt)}if(Ea){T=d.containerInfo,x=d.pendingChildren;try{uf(T,x)}catch(xt){oi(f,f.return,xt)}}}K0&&(K0=!1,U_(f));break;case 4:Js?(x=Ii,Ii=sm(f.stateNode.containerInfo),cs(d,f),ws(f),Ii=x):(cs(d,f),ws(f)),T&4&&Ea&&Lp(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:cs(d,f),ws(f);break;case 13:cs(d,f),ws(f),f.child.flags&8192&&f.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(gs=Ta()),T&4&&(T=f.updateQueue,T!==null&&(f.updateQueue=null,ul(f,T)));break;case 22:T&512&&(Vi||x===null||Cs(x,x.return)),D=f.memoizedState!==null;var ee=x!==null&&x.memoizedState!==null,me=Uo,Ce=Vi;if(Uo=me||D,Vi=Ce||ee,cs(d,f),Vi=Ce,Uo=me,ws(f),d=f.stateNode,d._current=f,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,T&8192&&(d._visibility=D?d._visibility&-2:d._visibility|1,D&&(d=Uo||Vi,x===null||ee||d||qc(f)),mr&&(f.memoizedProps===null||f.memoizedProps.mode!=="manual"))){e:if(x=null,mr)for(d=f;;){if(d.tag===5||Js&&d.tag===26||_i&&d.tag===27){if(x===null){ee=x=d;try{F=ee.stateNode,D?Q_(F):e1(ee.stateNode,ee.memoizedProps)}catch(xt){oi(ee,ee.return,xt)}}}else if(d.tag===6){if(x===null){ee=d;try{var tt=ee.stateNode;D?$_(tt):Kb(tt,ee.memoizedProps)}catch(xt){oi(ee,ee.return,xt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===f)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;x===d&&(x=null),d=d.return}x===d&&(x=null),d.sibling.return=d.return,d=d.sibling}}T&4&&(T=f.updateQueue,T!==null&&(x=T.retryQueue,x!==null&&(T.retryQueue=null,ul(f,x))));break;case 19:cs(d,f),ws(f),T&4&&(T=f.updateQueue,T!==null&&(f.updateQueue=null,ul(f,T)));break;case 21:break;default:cs(d,f),ws(f)}}function ws(f){var d=f.flags;if(d&2){try{if(mr&&(!_i||f.tag!==27)){e:{for(var x=f.return;x!==null;){if(f0(x)){var T=x;break e}x=x.return}throw Error(r(160))}switch(T.tag){case 27:if(_i){var D=T.stateNode,F=Bh(f);ll(f,F,D);break}case 5:var ee=T.stateNode;T.flags&32&&(I0(ee),T.flags&=-33);var me=Bh(f);ll(f,me,ee);break;case 3:case 4:var Ce=T.stateNode.containerInfo,tt=Bh(f);h0(f,tt,Ce);break;default:throw Error(r(161))}}}catch(xt){oi(f,f.return,xt)}f.flags&=-3}d&4096&&(f.flags&=-4097)}function U_(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var d=f;U_(d),d.tag===5&&d.flags&1024&&Qp(d.stateNode),f=f.sibling}}function cl(f,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)Np(f,d.alternate,d),d=d.sibling}function qc(f){for(f=f.child;f!==null;){var d=f;switch(d.tag){case 0:case 11:case 14:case 15:Ql(4,d,d.return),qc(d);break;case 1:Cs(d,d.return);var x=d.stateNode;typeof x.componentWillUnmount=="function"&&Ts(d,d.return,x),qc(d);break;case 26:case 27:case 5:Cs(d,d.return),qc(d);break;case 22:Cs(d,d.return),d.memoizedState===null&&qc(d);break;default:qc(d)}f=f.sibling}}function fl(f,d,x){for(x=x&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var T=d.alternate,D=f,F=d,ee=F.flags;switch(F.tag){case 0:case 11:case 15:fl(D,F,x),Rh(4,F);break;case 1:if(fl(D,F,x),T=F,D=T.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(tt){oi(T,T.return,tt)}if(T=F,D=T.updateQueue,D!==null){var me=T.stateNode;try{var Ce=D.shared.hiddenCallbacks;if(Ce!==null)for(D.shared.hiddenCallbacks=null,D=0;D<Ce.length;D++)re(Ce[D],me)}catch(tt){oi(T,T.return,tt)}}x&&ee&64&&D_(F),Ya(F,F.return);break;case 26:case 27:case 5:fl(D,F,x),x&&T===null&&ee&4&&u0(F),Ya(F,F.return);break;case 12:fl(D,F,x);break;case 13:fl(D,F,x),x&&ee&4&&Pp(D,F);break;case 22:F.memoizedState===null&&fl(D,F,x),Ya(F,F.return);break;default:fl(D,F,x)}d=d.sibling}}function Ip(f,d){var x=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),f=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(f=d.memoizedState.cachePool.pool),f!==x&&(f!=null&&f.refCount++,x!=null&&Ch(x))}function Oh(f,d){f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&Ch(f))}function Cr(f,d,x,T){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)m0(f,d,x,T),d=d.sibling}function m0(f,d,x,T){var D=d.flags;switch(d.tag){case 0:case 11:case 15:Cr(f,d,x,T),D&2048&&Rh(9,d);break;case 3:Cr(f,d,x,T),D&2048&&(f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&Ch(f)));break;case 12:if(D&2048){Cr(f,d,x,T),f=d.stateNode;try{var F=d.memoizedProps,ee=F.id,me=F.onPostCommit;typeof me=="function"&&me(ee,d.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Ce){oi(d,d.return,Ce)}}else Cr(f,d,x,T);break;case 23:break;case 22:F=d.stateNode,d.memoizedState!==null?F._visibility&4?Cr(f,d,x,T):Zr(f,d):F._visibility&4?Cr(f,d,x,T):(F._visibility|=4,Hr(f,d,x,T,(d.subtreeFlags&10256)!==0)),D&2048&&Ip(d.alternate,d);break;case 24:Cr(f,d,x,T),D&2048&&Oh(d.alternate,d);break;default:Cr(f,d,x,T)}}function Hr(f,d,x,T,D){for(D=D&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var F=f,ee=d,me=x,Ce=T,tt=ee.flags;switch(ee.tag){case 0:case 11:case 15:Hr(F,ee,me,Ce,D),Rh(8,ee);break;case 23:break;case 22:var xt=ee.stateNode;ee.memoizedState!==null?xt._visibility&4?Hr(F,ee,me,Ce,D):Zr(F,ee):(xt._visibility|=4,Hr(F,ee,me,Ce,D)),D&&tt&2048&&Ip(ee.alternate,ee);break;case 24:Hr(F,ee,me,Ce,D),D&&tt&2048&&Oh(ee.alternate,ee);break;default:Hr(F,ee,me,Ce,D)}d=d.sibling}}function Zr(f,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var x=f,T=d,D=T.flags;switch(T.tag){case 22:Zr(x,T),D&2048&&Ip(T.alternate,T);break;case 24:Zr(x,T),D&2048&&Oh(T.alternate,T);break;default:Zr(x,T)}d=d.sibling}}function xa(f){if(f.subtreeFlags&ia)for(f=f.child;f!==null;)Fp(f),f=f.sibling}function Fp(f){switch(f.tag){case 26:xa(f),f.flags&ia&&(f.memoizedState!==null?g1(Ii,f.memoizedState,f.memoizedProps):ds(f.type,f.memoizedProps));break;case 5:xa(f),f.flags&ia&&ds(f.type,f.memoizedProps);break;case 3:case 4:if(Js){var d=Ii;Ii=sm(f.stateNode.containerInfo),xa(f),Ii=d}else xa(f);break;case 22:f.memoizedState===null&&(d=f.alternate,d!==null&&d.memoizedState!==null?(d=ia,ia=16777216,xa(f),ia=d):xa(f));break;default:xa(f)}}function Uh(f){var d=f.alternate;if(d!==null&&(f=d.child,f!==null)){d.child=null;do d=f.sibling,f.sibling=null,f=d;while(f!==null)}}function eu(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var x=0;x<d.length;x++){var T=d[x];yn=T,g0(T,f)}Uh(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)zp(f),f=f.sibling}function zp(f){switch(f.tag){case 0:case 11:case 15:eu(f),f.flags&2048&&Ql(9,f,f.return);break;case 3:eu(f);break;case 12:eu(f);break;case 22:var d=f.stateNode;f.memoizedState!==null&&d._visibility&4&&(f.return===null||f.return.tag!==13)?(d._visibility&=-5,hl(f)):eu(f);break;default:eu(f)}}function hl(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var x=0;x<d.length;x++){var T=d[x];yn=T,g0(T,f)}Uh(f)}for(f=f.child;f!==null;){switch(d=f,d.tag){case 0:case 11:case 15:Ql(8,d,d.return),hl(d);break;case 22:x=d.stateNode,x._visibility&4&&(x._visibility&=-5,hl(d));break;default:hl(d)}f=f.sibling}}function g0(f,d){for(;yn!==null;){var x=yn;switch(x.tag){case 0:case 11:case 15:Ql(8,x,d);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var T=x.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:Ch(x.memoizedState.cache)}if(T=x.child,T!==null)T.return=x,yn=T;else e:for(x=f;yn!==null;){T=yn;var D=T.sibling,F=T.return;if(d0(T),T===x){yn=null;break e}if(D!==null){D.return=F,yn=D;break e}yn=F}}}function Wc(f){var d=z_(f);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(r(364));return d}if(f=U0(f),f===null)throw Error(r(362));return f.stateNode.current}function tu(f,d){var x=f.tag;switch(d.$$typeof){case _f:if(f.type===d.value)return!0;break;case Ba:e:{for(d=d.value,f=[f,0],x=0;x<f.length;){var T=f[x++],D=T.tag,F=f[x++],ee=d[F];if(D!==5&&D!==26&&D!==27||!of(T)){for(;ee!=null&&tu(T,ee);)F++,ee=d[F];if(F===d.length){d=!0;break e}else for(T=T.child;T!==null;)f.push(T,F),T=T.sibling}}d=!1}return d;case Bi:if((x===5||x===26||x===27)&&k_(f.stateNode,d.value))return!0;break;case Lo:if((x===5||x===6||x===26||x===27)&&(f=V_(f),f!==null&&0<=f.indexOf(d.value)))return!0;break;case to:if((x===5||x===26||x===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function v0(f){switch(f.$$typeof){case _f:return"<"+(a(f.value)||"Unknown")+">";case Ba:return":has("+(v0(f)||"")+")";case Bi:return'[role="'+f.value+'"]';case Lo:return'"'+f.value+'"';case to:return'[data-testname="'+f.value+'"]';default:throw Error(r(365))}}function Rs(f,d){var x=[];f=[f,0];for(var T=0;T<f.length;){var D=f[T++],F=D.tag,ee=f[T++],me=d[ee];if(F!==5&&F!==26&&F!==27||!of(D)){for(;me!=null&&tu(D,me);)ee++,me=d[ee];if(ee===d.length)x.push(D);else for(D=D.child;D!==null;)f.push(D,ee),D=D.sibling}}return x}function Lh(f,d){if(!cu)throw Error(r(363));f=Wc(f),f=Rs(f,d),d=[],f=Array.from(f);for(var x=0;x<f.length;){var T=f[x++],D=T.tag;if(D===5||D===26||D===27)of(T)||d.push(T.stateNode);else for(T=T.child;T!==null;)f.push(T),T=T.sibling}return d}function Wi(){if((qn&2)!==0&&In!==0)return In&-In;if(dn.T!==null){var f=$s;return f!==0?f:ze()}return H_()}function y0(){aa===0&&(aa=(In&536870912)===0||Xn?P():536870912);var f=ea.current;return f!==null&&(f.flags|=32),aa}function wr(f,d,x){(f===ui&&mi===2||f.cancelPendingCommit!==null)&&(Gr(f,0),Bs(f,In,aa,!1)),H(f,x),((qn&2)===0||f!==ui)&&(f===ui&&((qn&2)===0&&(Tl|=x),Ai===4&&Bs(f,In,aa,!1)),rt(f))}function nu(f,d,x){if((qn&6)!==0)throw Error(r(327));var T=!x&&(d&60)===0&&(d&f.expiredLanes)===0||N(f,d),D=T?x0(f,d):Gp(f,d,!0),F=T;do{if(D===0){ra&&!T&&Bs(f,d,0,!1);break}else if(D===6)Bs(f,d,0,!Oa);else{if(x=f.current.alternate,F&&!Kc(x)){D=Gp(f,d,!1),F=!1;continue}if(D===2){if(F=d,f.errorRecoveryDisabledLanes&F)var ee=0;else ee=f.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){d=ee;e:{var me=f;D=lc;var Ce=Vr&&me.current.memoizedState.isDehydrated;if(Ce&&(Gr(me,ee).flags|=256),ee=Gp(me,ee,!1),ee!==2){if(yr&&!Ce){me.errorRecoveryDisabledLanes|=F,Tl|=F,D=4;break e}F=ki,ki=D,F!==null&&Nh(F)}D=ee}if(F=!1,D!==2)continue}}if(D===1){Gr(f,0),Bs(f,d,0,!0);break}e:{switch(T=f,D){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){Bs(T,d,aa,!Oa);break e}break;case 2:ki=null;break;case 3:case 5:break;default:throw Error(r(329))}if(T.finishedWork=x,T.finishedLanes=d,(d&62914560)===d&&(F=gs+300-Ta(),10<F)){if(Bs(T,d,aa,!Oa),L(T,0)!==0)break e;T.timeoutHandle=ar(Hp.bind(null,T,x,ki,rd,gm,d,aa,Tl,No,Oa,2,-0,0),F);break e}Hp(T,x,ki,rd,gm,d,aa,Tl,No,Oa,0,-0,0)}}break}while(!0);rt(f)}function Nh(f){ki===null?ki=f:ki.push.apply(ki,f)}function Hp(f,d,x,T,D,F,ee,me,Ce,tt,xt,Ot,Ft){var _n=d.subtreeFlags;if((_n&8192||(_n&16785408)===16785408)&&(D0(),Fp(d),d=or(),d!==null)){f.cancelPendingCommit=d(ru.bind(null,f,x,T,D,ee,me,Ce,1,Ot,Ft)),Bs(f,F,ee,!tt);return}ru(f,x,T,D,ee,me,Ce,xt,Ot,Ft)}function Kc(f){for(var d=f;;){var x=d.tag;if((x===0||x===11||x===15)&&d.flags&16384&&(x=d.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var T=0;T<x.length;T++){var D=x[T],F=D.getSnapshot;D=D.value;try{if(!Os(F(),D))return!1}catch{return!1}}if(x=d.child,d.subtreeFlags&16384&&x!==null)x.return=d,d=x;else{if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Bs(f,d,x,T){d&=~id,d&=~Tl,f.suspendedLanes|=d,f.pingedLanes&=~d,T&&(f.warmLanes|=d),T=f.expirationTimes;for(var D=d;0<D;){var F=31-ps(D),ee=1<<F;T[F]=-1,D&=~ee}x!==0&&W(f,x,d)}function Ph(){return(qn&6)===0?(ht(0),!1):!0}function Jc(){if(on!==null){if(mi===0)var f=on.return;else f=on,na=eo=null,Qe(f),gu=null,vu=0,f=on;for(;f!==null;)B_(f.alternate,f),f=f.return;on=null}}function Gr(f,d){f.finishedWork=null,f.finishedLanes=0;var x=f.timeoutHandle;x!==lu&&(f.timeoutHandle=lu,Jp(x)),x=f.cancelPendingCommit,x!==null&&(f.cancelPendingCommit=null,x()),Jc(),ui=f,on=x=Aa(f.current,null),In=d,mi=0,$r=null,Oa=!1,ra=N(f,d),yr=!1,No=aa=id=Tl=sa=Ai=0,ki=lc=null,gm=!1,(d&8)!==0&&(d|=d&32);var T=f.entangledLanes;if(T!==0)for(f=f.entanglements,T&=d;0<T;){var D=31-ps(T),F=1<<D;d|=f[D],T&=~F}return es=d,Z(),x}function qs(f,d){wn=null,dn.H=Gi,d===mf?(d=Tt(),mi=3):d===td?(d=Tt(),mi=4):mi=d===pm?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,$r=d,on===null&&(Ai=1,Gc(f,pe(d,f.current)))}function iu(){var f=ea.current;return f===null?!0:(In&4194176)===In?xi===null:(In&62914560)===In||(In&536870912)!==0?f===xi:!1}function Ao(){var f=dn.H;return dn.H=Gi,f===null?Gi:f}function bo(){var f=dn.A;return dn.A=yf,f}function dl(){Ai=4,Oa||(In&4194176)!==In&&ea.current!==null||(ra=!0),(sa&134217727)===0&&(Tl&134217727)===0||ui===null||Bs(ui,In,aa,!1)}function Gp(f,d,x){var T=qn;qn|=2;var D=Ao(),F=bo();(ui!==f||In!==d)&&(rd=null,Gr(f,d)),d=!1;var ee=Ai;e:do try{if(mi!==0&&on!==null){var me=on,Ce=$r;switch(mi){case 8:Jc(),ee=6;break e;case 3:case 2:case 6:ea.current===null&&(d=!0);var tt=mi;if(mi=0,$r=null,Sa(f,me,Ce,tt),x&&ra){ee=0;break e}break;default:tt=mi,mi=0,$r=null,Sa(f,me,Ce,tt)}}_0(),ee=Ai;break}catch(xt){qs(f,xt)}while(!0);return d&&f.shellSuspendCounter++,na=eo=null,qn=T,dn.H=D,dn.A=F,on===null&&(ui=null,In=0,Z()),ee}function _0(){for(;on!==null;)Pi(on)}function x0(f,d){var x=qn;qn|=2;var T=Ao(),D=bo();ui!==f||In!==d?(rd=null,xf=Ta()+500,Gr(f,d)):ra=N(f,d);e:do try{if(mi!==0&&on!==null){d=on;var F=$r;t:switch(mi){case 1:mi=0,$r=null,Sa(f,d,F,1);break;case 2:if(gt(F)){mi=0,$r=null,ei(d);break}d=function(){mi===2&&ui===f&&(mi=7),rt(f)},F.then(d,d);break e;case 3:mi=7;break e;case 4:mi=5;break e;case 7:gt(F)?(mi=0,$r=null,ei(d)):(mi=0,$r=null,Sa(f,d,F,7));break;case 5:var ee=null;switch(on.tag){case 26:ee=on.memoizedState;case 5:case 27:var me=on,Ce=me.type,tt=me.pendingProps;if(ee?Wu(ee):Zp(Ce,tt)){mi=0,$r=null;var xt=me.sibling;if(xt!==null)on=xt;else{var Ot=me.return;Ot!==null?(on=Ot,Ws(Ot)):on=null}break t}}mi=0,$r=null,Sa(f,d,F,5);break;case 6:mi=0,$r=null,Sa(f,d,F,6);break;case 8:Jc(),Ai=6;break e;default:throw Error(r(462))}}fs();break}catch(Ft){qs(f,Ft)}while(!0);return na=eo=null,dn.H=T,dn.A=D,qn=x,on!==null?0:(ui=null,In=0,Z(),Ai)}function fs(){for(;on!==null&&!x1();)Pi(on)}function Pi(f){var d=C_(f.alternate,f,es);f.memoizedProps=f.pendingProps,d===null?Ws(f):on=d}function ei(f){var d=f,x=d.alternate;switch(d.tag){case 15:case 0:d=S_(x,d,d.pendingProps,d.type,void 0,In);break;case 11:d=S_(x,d,d.pendingProps,d.type.render,d.ref,In);break;case 5:Qe(d);default:B_(x,d),d=on=Fh(d,es),d=C_(x,d,es)}f.memoizedProps=f.pendingProps,d===null?Ws(f):on=d}function Sa(f,d,x,T){na=eo=null,Qe(d),gu=null,vu=0;var D=d.return;try{if(Vb(f,D,d,x,In)){Ai=1,Gc(f,pe(x,f.current)),on=null;return}}catch(F){if(D!==null)throw on=D,F;Ai=1,Gc(f,pe(x,f.current)),on=null;return}d.flags&32768?(Xn||T===1?f=!0:ra||(In&536870912)!==0?f=!1:(Oa=f=!0,(T===2||T===3||T===6)&&(T=ea.current,T!==null&&T.tag===13&&(T.flags|=16384))),Vp(d,f)):Ws(d)}function Ws(f){var d=f;do{if((d.flags&32768)!==0){Vp(d,Oa);return}f=d.return;var x=R_(d.alternate,d,es);if(x!==null){on=x;return}if(d=d.sibling,d!==null){on=d;return}on=d=f}while(d!==null);Ai===0&&(Ai=5)}function Vp(f,d){do{var x=Xb(f.alternate,f);if(x!==null){x.flags&=32767,on=x;return}if(x=f.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!d&&(f=f.sibling,f!==null)){on=f;return}on=f=x}while(f!==null);Ai=6,on=null}function ru(f,d,x,T,D,F,ee,me,Ce,tt){var xt=dn.T,Ot=_l();try{Qr(2),dn.T=null,L_(f,d,x,T,Ot,D,F,ee,me,Ce,tt)}finally{dn.T=xt,Qr(Ot)}}function L_(f,d,x,T,D,F,ee,me){do ja();while(Po!==null);if((qn&6)!==0)throw Error(r(327));var Ce=f.finishedWork;if(T=f.finishedLanes,Ce===null)return null;if(f.finishedWork=null,f.finishedLanes=0,Ce===f.current)throw Error(r(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var tt=Ce.lanes|Ce.childLanes;if(tt|=Qa,V(f,T,tt,F,ee,me),f===ui&&(on=ui=null,In=0),(Ce.subtreeFlags&10256)===0&&(Ce.flags&10256)===0||no||(no=!0,Au=tt,vm=x,ml(cm,function(){return ja(),null})),x=(Ce.flags&15990)!==0,(Ce.subtreeFlags&15990)!==0||x?(x=dn.T,dn.T=null,F=_l(),Qr(2),ee=qn,qn|=4,Dh(f,Ce),p0(Ce,f),F_(f.containerInfo),f.current=Ce,Np(f,Ce.alternate,Ce),lm(),qn=ee,Qr(F),dn.T=x):f.current=Ce,no?(no=!1,Po=f,uc=T):S0(f,tt),tt=f.pendingLanes,tt===0&&(Su=null),G(Ce.stateNode),rt(f),d!==null)for(D=f.onRecoverableError,Ce=0;Ce<d.length;Ce++)tt=d[Ce],D(tt.value,{componentStack:tt.stack});return(uc&3)!==0&&ja(),tt=f.pendingLanes,(T&4194218)!==0&&(tt&42)!==0?f===ym?Sf++:(Sf=0,ym=f):Sf=0,ht(0),null}function S0(f,d){(f.pooledCacheLanes&=d)===0&&(d=f.pooledCache,d!=null&&(f.pooledCache=null,Ch(d)))}function ja(){if(Po!==null){var f=Po,d=Au;Au=0;var x=ae(uc),T=32>x?32:x;x=dn.T;var D=_l();try{if(Qr(T),dn.T=null,Po===null)var F=!1;else{T=vm,vm=null;var ee=Po,me=uc;if(Po=null,uc=0,(qn&6)!==0)throw Error(r(331));var Ce=qn;if(qn|=4,zp(ee.current),m0(ee,ee.current,me,T),qn=Ce,ht(0,!1),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(Zi,ee)}catch{}F=!0}return F}finally{Qr(D),dn.T=x,S0(f,d)}}return!1}function Zc(f,d,x){d=pe(x,d),d=kc(f.stateNode,d,2),f=ft(f,d,2),f!==null&&(H(f,2),rt(f))}function oi(f,d,x){if(f.tag===3)Zc(f,f,x);else for(;d!==null;){if(d.tag===3){Zc(d,f,x);break}else if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Su===null||!Su.has(T))){f=pe(x,f),x=e0(2),T=ft(d,x,2),T!==null&&(g_(x,T,d,f),H(T,2),rt(T));break}}d=d.return}}function Yu(f,d,x){var T=f.pingCache;if(T===null){T=f.pingCache=new Da;var D=new Set;T.set(d,D)}else D=T.get(d),D===void 0&&(D=new Set,T.set(d,D));D.has(x)||(yr=!0,D.add(x),f=A0.bind(null,f,d,x),d.then(f,f))}function A0(f,d,x){var T=f.pingCache;T!==null&&T.delete(d),f.pingedLanes|=f.suspendedLanes&x,f.warmLanes&=~x,ui===f&&(In&x)===x&&(Ai===4||Ai===3&&(In&62914560)===In&&300>Ta()-gs?(qn&2)===0&&Gr(f,0):id|=x,No===In&&(No=0)),rt(f)}function su(f,d){d===0&&(d=U()),f=ce(f,d),f!==null&&(H(f,d),rt(f))}function pl(f){var d=f.memoizedState,x=0;d!==null&&(x=d.retryLane),su(f,x)}function au(f,d){var x=0;switch(f.tag){case 13:var T=f.stateNode,D=f.memoizedState;D!==null&&(x=D.retryLane);break;case 19:T=f.stateNode;break;case 22:T=f.stateNode._retryCache;break;default:throw Error(r(314))}T!==null&&T.delete(d),su(f,x)}function ml(f,d){return Qh(f,d)}function b0(f,d,x,T){this.tag=f,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ih(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Aa(f,d){var x=f.alternate;return x===null?(x=t(f.tag,d,f.key,f.mode),x.elementType=f.elementType,x.type=f.type,x.stateNode=f.stateNode,x.alternate=f,f.alternate=x):(x.pendingProps=d,x.type=f.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=f.flags&31457280,x.childLanes=f.childLanes,x.lanes=f.lanes,x.child=f.child,x.memoizedProps=f.memoizedProps,x.memoizedState=f.memoizedState,x.updateQueue=f.updateQueue,d=f.dependencies,x.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},x.sibling=f.sibling,x.index=f.index,x.ref=f.ref,x.refCleanup=f.refCleanup,x}function Fh(f,d){f.flags&=31457282;var x=f.alternate;return x===null?(f.childLanes=0,f.lanes=d,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=x.childLanes,f.lanes=x.lanes,f.child=x.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=x.memoizedProps,f.memoizedState=x.memoizedState,f.updateQueue=x.updateQueue,f.type=x.type,d=x.dependencies,f.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),f}function Mo(f,d,x,T,D,F){var ee=0;if(T=f,typeof f=="function")Ih(f)&&(ee=1);else if(typeof f=="string")ee=Js&&_i?Kh(f,x,gr.current)?26:To(f)?27:5:Js?Kh(f,x,gr.current)?26:5:_i&&To(f)?27:5;else e:switch(f){case ou:return Hi(x.children,D,F,d);case Vh:ee=8,D|=24;break;case jp:return f=t(12,x,d,D|2),f.elementType=jp,f.lanes=F,f;case qp:return f=t(13,x,d,D),f.elementType=qp,f.lanes=F,f;case tf:return f=t(19,x,d,D),f.elementType=tf,f.lanes=F,f;case T0:return zh(x,D,F,d);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case kh:case qa:ee=10;break e;case E0:ee=9;break e;case Xh:ee=11;break e;case Wp:ee=14;break e;case Ma:ee=16,T=null;break e}ee=29,x=Error(r(130,f===null?"null":typeof f,"")),T=null}return d=t(ee,x,d,D),d.elementType=f,d.type=T,d.lanes=F,d}function Hi(f,d,x,T){return f=t(7,f,T,d),f.lanes=x,f}function zh(f,d,x,T){f=t(22,f,T,d),f.elementType=T0,f.lanes=x;var D={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var F=D._current;if(F===null)throw Error(r(456));if((D._pendingVisibility&2)===0){var ee=ce(F,2);ee!==null&&(D._pendingVisibility|=2,wr(ee,F,2))}},attach:function(){var F=D._current;if(F===null)throw Error(r(456));if((D._pendingVisibility&2)!==0){var ee=ce(F,2);ee!==null&&(D._pendingVisibility&=-3,wr(ee,F,2))}}};return f.stateNode=D,f}function kp(f,d,x){return f=t(6,f,null,d),f.lanes=x,f}function M0(f,d,x){return d=t(4,f.children!==null?f.children:[],f.key,d),d.lanes=x,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}function Yb(f,d,x,T,D,F,ee,me){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=lu,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=T,this.onUncaughtError=D,this.onCaughtError=F,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function N_(f,d,x,T,D,F,ee,me,Ce,tt,xt,Ot){return f=new Yb(f,d,x,ee,me,Ce,tt,Ot),d=1,F===!0&&(d|=24),F=t(3,null,null,d),f.current=F,F.stateNode=f,d=Zl(),d.refCount++,f.pooledCache=d,d.refCount++,F.memoizedState={element:T,isDehydrated:x,cache:d},Rt(F),f}function sr(f){return f?(f=du,f):du}function Xp(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=_(d),f=f!==null?S(f):null,f===null?null:sf(f.stateNode)}function Qc(f,d,x,T,D,F){D=sr(D),T.context===null?T.context=D:T.pendingContext=D,T=Je(d),T.payload={element:x},F=F===void 0?null:F,F!==null&&(T.callback=F),x=ft(f,T,d),x!==null&&(wr(x,f,d),Bt(x,f,d))}function $c(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var x=f.retryLane;f.retryLane=x!==0&&x<d?x:d}}function Hh(f,d){$c(f,d),(f=f.alternate)&&$c(f,d)}var Sn={},ef=tl(),Ks=p7(),Yp=Object.assign,jb=Symbol.for("react.element"),Gh=Symbol.for("react.transitional.element"),ba=Symbol.for("react.portal"),ou=Symbol.for("react.fragment"),Vh=Symbol.for("react.strict_mode"),jp=Symbol.for("react.profiler"),kh=Symbol.for("react.provider"),E0=Symbol.for("react.consumer"),qa=Symbol.for("react.context"),Xh=Symbol.for("react.forward_ref"),qp=Symbol.for("react.suspense"),tf=Symbol.for("react.suspense_list"),Wp=Symbol.for("react.memo"),Ma=Symbol.for("react.lazy"),T0=Symbol.for("react.offscreen"),P_=Symbol.for("react.memo_cache_sentinel"),gl=Symbol.iterator,C0=Symbol.for("react.client.reference"),dn=ef.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Eo,vl,ju=!1,nf=Array.isArray,w0=e.rendererVersion,Yh=e.rendererPackageName,rf=e.extraDevToolsConfig,sf=e.getPublicInstance,I_=e.getRootHostContext,af=e.getChildHostContext,Kp=e.prepareForCommit,F_=e.resetAfterCommit,R0=e.createInstance,jh=e.appendInitialChild,yl=e.finalizeInitialChildren,An=e.shouldSetTextContent,pi=e.createTextInstance,ar=e.scheduleTimeout,Jp=e.cancelTimeout,lu=e.noTimeout,hs=e.isPrimaryRenderer;e.warnsIfNotActing;var mr=e.supportsMutation,Ea=e.supportsPersistence,Vr=e.supportsHydration,z_=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Ki=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Qr=e.setCurrentUpdatePriority,_l=e.getCurrentUpdatePriority,H_=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var G_=e.shouldAttemptEagerTransition,qb=e.detachDeletedInstance;e.requestPostPaintCallback;var B0=e.maySuspendCommit,Zp=e.preloadInstance,D0=e.startSuspendingCommit,ds=e.suspendInstance,or=e.waitForCommitToBeReady,uu=e.NotPendingTransition,Wa=e.HostTransitionContext,Qp=e.resetFormInstance;e.bindToConsole;var O0=e.supportsMicrotasks,xl=e.scheduleMicrotask,cu=e.supportsTestSelectors,U0=e.findFiberRoot,L0=e.getBoundingRect,V_=e.getTextContent,of=e.isHiddenSubtree,k_=e.matchAccessibilityRole,X_=e.setFocusIfFocusable,Y_=e.setupIntersectionObserver,j_=e.appendChild,N0=e.appendChildToContainer,q_=e.commitTextUpdate,Wb=e.commitMount,W_=e.commitUpdate,K_=e.insertBefore,J_=e.insertInContainerBefore,P0=e.removeChild,Z_=e.removeChildFromContainer,I0=e.resetTextContent,Q_=e.hideInstance,$_=e.hideTextInstance,e1=e.unhideInstance,Kb=e.unhideTextInstance,t1=e.clearContainer,lf=e.cloneInstance,qh=e.createContainerChildSet,F0=e.appendChildToContainerChildSet,$p=e.finalizeContainerChildren,uf=e.replaceContainerChildren,z0=e.cloneHiddenInstance,H0=e.cloneHiddenTextInstance,em=e.isSuspenseInstancePending,tm=e.isSuspenseInstanceFallback,n1=e.getSuspenseInstanceFallbackErrorDetails,i1=e.registerSuspenseInstanceRetry,G0=e.canHydrateFormStateMarker,r1=e.isFormStateMarkerMatching,V0=e.getNextHydratableSibling,nm=e.getFirstHydratableChild,s1=e.getFirstHydratableChildWithinContainer,a1=e.getFirstHydratableChildWithinSuspenseInstance,Jb=e.canHydrateInstance,k0=e.canHydrateTextInstance,o1=e.canHydrateSuspenseInstance,l1=e.hydrateInstance,X0=e.hydrateTextInstance,u1=e.hydrateSuspenseInstance,c1=e.getNextHydratableInstanceAfterSuspenseInstance,Zb=e.commitHydratedContainer,Qb=e.commitHydratedSuspenseInstance,f1=e.clearSuspenseBoundary,Wh=e.clearSuspenseBoundaryFromContainer,im=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var rm=e.validateHydratableInstance,h1=e.validateHydratableTextInstance,Js=e.supportsResources,Kh=e.isHostHoistableType,sm=e.getHoistableRoot,Y0=e.getResource,d1=e.acquireResource,qu=e.releaseResource,Jh=e.hydrateHoistable,Zh=e.mountHoistable,cf=e.unmountHoistable,am=e.createHoistableInstance,p1=e.prepareToCommitHoistables,m1=e.mayResourceSuspendCommit,Wu=e.preloadResource,g1=e.suspendResource,_i=e.supportsSingletons,Ka=e.resolveSingletonInstance,fu=e.clearSingleton,v1=e.acquireSingletonInstance,hu=e.releaseSingletonInstance,To=e.isHostSingletonType,Ji=[],Sl=-1,du={},ps=Math.clz32?Math.clz32:w,y1=Math.log,_1=Math.LN2,Co=128,Ku=4194304,Qh=Ks.unstable_scheduleCallback,om=Ks.unstable_cancelCallback,x1=Ks.unstable_shouldYield,lm=Ks.unstable_requestPaint,Ta=Ks.unstable_now,um=Ks.unstable_ImmediatePriority,S1=Ks.unstable_UserBlockingPriority,cm=Ks.unstable_NormalPriority,$b=Ks.unstable_IdlePriority,A1=Ks.log,Rr=Ks.unstable_setDisableYieldValue,Zi=null,Ds=null,Os=typeof Object.is=="function"?Object.is:$,j0=new WeakMap,Ju=[],Zu=0,Qu=null,ff=0,Zs=[],Qs=0,pu=null,Ja=1,Za="",gr=b(null),hf=b(null),wo=b(null),$u=b(null),kr=null,Xr=null,Xn=!1,Ca=null,Br=!1,$h=Error(r(519)),wa=[],ec=0,Qa=0,ed=null,Al=null,tc=!1,Mi=!1,q0=!1,df=0,pf=null,nc=0,$s=0,ic=null,bl=!1,rc=!1,Ro=Object.prototype.hasOwnProperty,mf=Error(r(460)),td=Error(r(474)),nd={then:function(){}},mu=null,gu=null,vu=0,yu=Jt(!0),Bo=Jt(!1),Ei=b(null),gf=b(0),ea=b(null),xi=null,vr=b(0),Ml=0,wn=null,sn=null,jn=null,Ra=!1,sc=!1,_u=!1,fm=0,ac=0,Dr=null,$a=0,hm=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Gi={readContext:Fr,use:le,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn};Gi.useCacheRefresh=tn,Gi.useMemoCache=tn,Gi.useHostTransitionStatus=tn,Gi.useFormState=tn,Gi.useActionState=tn,Gi.useOptimistic=tn;var xu={readContext:Fr,use:le,useCallback:function(f,d){return Y().memoizedState=[f,d===void 0?null:d],f},useContext:Fr,useEffect:bp,useImperativeHandle:function(f,d,x){x=x!=null?x.concat([f]):null,mh(4194308,4,Mp.bind(null,d,f),x)},useLayoutEffect:function(f,d){return mh(4194308,4,f,d)},useInsertionEffect:function(f,d){mh(4,2,f,d)},useMemo:function(f,d){var x=Y();d=d===void 0?null:d;var T=f();if(_u){q(!0);try{f()}finally{q(!1)}}return x.memoizedState=[T,d],T},useReducer:function(f,d,x){var T=Y();if(x!==void 0){var D=x(d);if(_u){q(!0);try{x(d)}finally{q(!1)}}}else D=d;return T.memoizedState=T.baseState=D,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:D},T.queue=f,f=f.dispatch=Tp.bind(null,wn,f),[T.memoizedState,f]},useRef:function(f){var d=Y();return f={current:f},d.memoizedState=f},useState:function(f){f=Vt(f);var d=f.queue,x=$g.bind(null,wn,d);return d.dispatch=x,[f.memoizedState,x]},useDebugValue:jl,useDeferredValue:function(f,d){var x=Y();return yh(x,f,d)},useTransition:function(){var f=Vt(!1);return f=Pc.bind(null,wn,f.queue,!0,!1),Y().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,d,x){var T=wn,D=Y();if(Xn){if(x===void 0)throw Error(r(407));x=x()}else{if(x=d(),ui===null)throw Error(r(349));(In&60)!==0||bt(T,d,x)}D.memoizedState=x;var F={value:x,getSnapshot:d};return D.queue=F,bp(Gt.bind(null,T,F,f),[f]),T.flags|=2048,ls(9,Ct.bind(null,T,F,x,d),{destroy:void 0},null),x},useId:function(){var f=Y(),d=ui.identifierPrefix;if(Xn){var x=Za,T=Ja;x=(T&~(1<<32-ps(T)-1)).toString(32)+x,d=":"+d+"R"+x,x=fm++,0<x&&(d+="H"+x.toString(32)),d+=":"}else x=$a++,d=":"+d+"r"+x.toString(32)+":";return f.memoizedState=d},useCacheRefresh:function(){return Y().memoizedState=Qg.bind(null,wn)}};xu.useMemoCache=ge,xu.useHostTransitionStatus=_h,xu.useFormState=Mn,xu.useActionState=Mn,xu.useOptimistic=function(f){var d=Y();d.memoizedState=d.baseState=f;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=x,d=Fc.bind(null,wn,!0,x),x.dispatch=d,[f,d]};var ms={readContext:Fr,use:le,useCallback:Vu,useContext:Fr,useEffect:Kg,useImperativeHandle:Ep,useInsertionEffect:p_,useLayoutEffect:vh,useMemo:Jg,useReducer:Xe,useRef:xo,useState:function(){return Xe(Re)},useDebugValue:jl,useDeferredValue:function(f,d){var x=ie();return Zg(x,sn.memoizedState,f,d)},useTransition:function(){var f=Xe(Re)[0],d=ie().memoizedState;return[typeof f=="boolean"?f:fe(f),d]},useSyncExternalStore:_t,useId:Ic};ms.useCacheRefresh=rl,ms.useMemoCache=ge,ms.useHostTransitionStatus=_h,ms.useFormState=Ri,ms.useActionState=Ri,ms.useOptimistic=function(f,d){var x=ie();return Qt(x,sn,f,d)};var ta={readContext:Fr,use:le,useCallback:Vu,useContext:Fr,useEffect:Kg,useImperativeHandle:Ep,useInsertionEffect:p_,useLayoutEffect:vh,useMemo:Jg,useReducer:st,useRef:xo,useState:function(){return st(Re)},useDebugValue:jl,useDeferredValue:function(f,d){var x=ie();return sn===null?yh(x,f,d):Zg(x,sn.memoizedState,f,d)},useTransition:function(){var f=st(Re)[0],d=ie().memoizedState;return[typeof f=="boolean"?f:fe(f),d]},useSyncExternalStore:_t,useId:Ic};ta.useCacheRefresh=rl,ta.useMemoCache=ge,ta.useHostTransitionStatus=_h,ta.useFormState=Tr,ta.useActionState=Tr,ta.useOptimistic=function(f,d){var x=ie();return sn!==null?Qt(x,sn,f,d):(x.baseState=f,[f,x.queue.dispatch])};var Do={isMounted:function(f){return(f=f._reactInternals)?g(f)===f:!1},enqueueSetState:function(f,d,x){f=f._reactInternals;var T=Wi(),D=Je(T);D.payload=d,x!=null&&(D.callback=x),d=ft(f,D,T),d!==null&&(wr(d,f,T),Bt(d,f,T))},enqueueReplaceState:function(f,d,x){f=f._reactInternals;var T=Wi(),D=Je(T);D.tag=1,D.payload=d,x!=null&&(D.callback=x),d=ft(f,D,T),d!==null&&(wr(d,f,T),Bt(d,f,T))},enqueueForceUpdate:function(f,d){f=f._reactInternals;var x=Wi(),T=Je(x);T.tag=2,d!=null&&(T.callback=d),d=ft(f,T,x),d!==null&&(wr(d,f,x),Bt(d,f,x))}},dm=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},pm=Error(r(461)),Si=!1,mm={dehydrated:null,treeContext:null,retryLane:0},El=b(null),eo=null,na=null,vf=typeof AbortController<"u"?AbortController:function(){var f=[],d=this.signal={aborted:!1,addEventListener:function(x,T){f.push(T)}};this.abort=function(){d.aborted=!0,f.forEach(function(x){return x()})}},b1=Ks.unstable_scheduleCallback,M1=Ks.unstable_NormalPriority,Ti={$$typeof:qa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},W0=dn.S;dn.S=function(f,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&Pe(f,d),W0!==null&&W0(f,d)};var Oo=b(null),Uo=!1,Vi=!1,K0=!1,li=typeof WeakSet=="function"?WeakSet:Set,yn=null,Un=!1,nn=null,En=!1,Ii=null,ia=8192,yf={getCacheForType:function(f){var d=Fr(Ti),x=d.data.get(f);return x===void 0&&(x=f(),d.data.set(f,x)),x}},_f=0,Ba=1,Bi=2,to=3,Lo=4;if(typeof Symbol=="function"&&Symbol.for){var oc=Symbol.for;_f=oc("selector.component"),Ba=oc("selector.has_pseudo_class"),Bi=oc("selector.role"),to=oc("selector.test_id"),Lo=oc("selector.text")}var Da=typeof WeakMap=="function"?WeakMap:Map,qn=0,ui=null,on=null,In=0,mi=0,$r=null,Oa=!1,ra=!1,yr=!1,es=0,Ai=0,sa=0,Tl=0,id=0,aa=0,No=0,lc=null,ki=null,gm=!1,gs=0,xf=1/0,rd=null,Su=null,no=!1,Po=null,uc=0,Au=0,vm=null,Sf=0,ym=null;return Sn.attemptContinuousHydration=function(f){if(f.tag===13){var d=ce(f,67108864);d!==null&&wr(d,f,67108864),Hh(f,67108864)}},Sn.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var d=Wi(),x=ce(f,d);x!==null&&wr(x,f,d),Hh(f,d)}},Sn.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var d=B(f.pendingLanes);if(d!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;d;){var x=1<<31-ps(d);f.entanglements[1]|=x,d&=~x}rt(f),(qn&6)===0&&(xf=Ta()+500,ht(0))}}break;case 13:d=ce(f,2),d!==null&&wr(d,f,2),Ph(),Hh(f,2)}},Sn.batchedUpdates=function(f,d){return f(d)},Sn.createComponentSelector=function(f){return{$$typeof:_f,value:f}},Sn.createContainer=function(f,d,x,T,D,F,ee,me,Ce,tt){return N_(f,d,!1,null,x,T,F,ee,me,Ce,tt,null)},Sn.createHasPseudoClassSelector=function(f){return{$$typeof:Ba,value:f}},Sn.createHydrationContainer=function(f,d,x,T,D,F,ee,me,Ce,tt,xt,Ot,Ft){return f=N_(x,T,!0,f,D,F,me,Ce,tt,xt,Ot,Ft),f.context=sr(null),x=f.current,T=Wi(),D=Je(T),D.callback=d??null,ft(x,D,T),f.current.lanes=T,H(f,T),rt(f),f},Sn.createPortal=function(f,d,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ba,key:T==null?null:""+T,children:f,containerInfo:d,implementation:x}},Sn.createRoleSelector=function(f){return{$$typeof:Bi,value:f}},Sn.createTestNameSelector=function(f){return{$$typeof:to,value:f}},Sn.createTextSelector=function(f){return{$$typeof:Lo,value:f}},Sn.defaultOnCaughtError=function(f){console.error(f)},Sn.defaultOnRecoverableError=function(f){dm(f)},Sn.defaultOnUncaughtError=function(f){dm(f)},Sn.deferredUpdates=function(f){var d=dn.T,x=_l();try{return Qr(32),dn.T=null,f()}finally{Qr(x),dn.T=d}},Sn.discreteUpdates=function(f,d,x,T,D){var F=dn.T,ee=_l();try{return Qr(2),dn.T=null,f(d,x,T,D)}finally{Qr(ee),dn.T=F,qn===0&&(xf=Ta()+500)}},Sn.findAllNodes=Lh,Sn.findBoundingRects=function(f,d){if(!cu)throw Error(r(363));d=Lh(f,d),f=[];for(var x=0;x<d.length;x++)f.push(L0(d[x]));for(d=f.length-1;0<d;d--){x=f[d];for(var T=x.x,D=T+x.width,F=x.y,ee=F+x.height,me=d-1;0<=me;me--)if(d!==me){var Ce=f[me],tt=Ce.x,xt=tt+Ce.width,Ot=Ce.y,Ft=Ot+Ce.height;if(T>=tt&&F>=Ot&&D<=xt&&ee<=Ft){f.splice(d,1);break}else if(T!==tt||x.width!==Ce.width||Ft<F||Ot>ee){if(!(F!==Ot||x.height!==Ce.height||xt<T||tt>D)){tt>T&&(Ce.width+=tt-T,Ce.x=T),xt<D&&(Ce.width=D-tt),f.splice(d,1);break}}else{Ot>F&&(Ce.height+=Ot-F,Ce.y=F),Ft<ee&&(Ce.height=ee-Ot),f.splice(d,1);break}}}return f},Sn.findHostInstance=Xp,Sn.findHostInstanceWithNoPortals=function(f){return f=_(f),f=f!==null?M(f):null,f===null?null:sf(f.stateNode)},Sn.findHostInstanceWithWarning=function(f){return Xp(f)},Sn.flushPassiveEffects=ja,Sn.flushSyncFromReconciler=function(f){var d=qn;qn|=1;var x=dn.T,T=_l();try{if(Qr(2),dn.T=null,f)return f()}finally{Qr(T),dn.T=x,qn=d,(qn&6)===0&&ht(0)}},Sn.flushSyncWork=Ph,Sn.focusWithin=function(f,d){if(!cu)throw Error(r(363));for(f=Wc(f),d=Rs(f,d),d=Array.from(d),f=0;f<d.length;){var x=d[f++],T=x.tag;if(!of(x)){if((T===5||T===26||T===27)&&X_(x.stateNode))return!0;for(x=x.child;x!==null;)d.push(x),x=x.sibling}}return!1},Sn.getFindAllNodesFailureDescription=function(f,d){if(!cu)throw Error(r(363));var x=0,T=[];f=[Wc(f),0];for(var D=0;D<f.length;){var F=f[D++],ee=F.tag,me=f[D++],Ce=d[me];if((ee!==5&&ee!==26&&ee!==27||!of(F))&&(tu(F,Ce)&&(T.push(v0(Ce)),me++,me>x&&(x=me)),me<d.length))for(F=F.child;F!==null;)f.push(F,me),F=F.sibling}if(x<d.length){for(f=[];x<d.length;x++)f.push(v0(d[x]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},Sn.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return sf(f.child.stateNode);default:return f.child.stateNode}},Sn.injectIntoDevTools=function(){var f={bundleType:0,version:w0,rendererPackageName:Yh,currentDispatcherRef:dn,findFiberByHostInstance:z_,reconcilerVersion:"19.0.0"};if(rf!==null&&(f.rendererConfig=rf),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)f=!0;else{try{Zi=d.inject(f),Ds=d}catch{}f=!!d.checkDCE}}return f},Sn.isAlreadyRendering=function(){return!1},Sn.observeVisibleRects=function(f,d,x,T){if(!cu)throw Error(r(363));f=Lh(f,d);var D=Y_(f,x,T).disconnect;return{disconnect:function(){D()}}},Sn.shouldError=function(){return null},Sn.shouldSuspend=function(){return!1},Sn.startHostTransition=function(f,d,x,T){if(f.tag!==5)throw Error(r(476));var D=So(f).queue;Pc(f,D,d,uu,x===null?n:function(){var F=So(f).next.queue;return ql(f,F,{},Wi()),x(T)})},Sn.updateContainer=function(f,d,x,T){var D=d.current,F=Wi();return Qc(D,F,f,d,x,T),F},Sn.updateContainerSync=function(f,d,x,T){return d.tag===0&&ja(),Qc(d.current,2,f,d,x,T),2},Sn},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})}(BE)),BE.exports}var g3;function g7(){return g3||(g3=1,RE.exports=m7()),RE.exports}var v7=g7();const y7=WA(v7);var UE={exports:{}},LE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v3;function _7(){return v3||(v3=1,function(i){function e(G,q){var $=G.length;G.push(q);e:for(;0<$;){var pe=$-1>>>1,z=G[pe];if(0<r(z,q))G[pe]=q,G[$]=z,$=pe;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var q=G[0],$=G.pop();if($!==q){G[0]=$;e:for(var pe=0,z=G.length,oe=z>>>1;pe<oe;){var ve=2*(pe+1)-1,Ae=G[ve],se=ve+1,Te=G[se];if(0>r(Ae,$))se<z&&0>r(Te,Ae)?(G[pe]=Te,G[se]=$,pe=se):(G[pe]=Ae,G[ve]=$,pe=ve);else if(se<z&&0>r(Te,$))G[pe]=Te,G[se]=$,pe=se;else break e}}return q}function r(G,q){var $=G.sortIndex-q.sortIndex;return $!==0?$:G.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();i.unstable_now=function(){return a.now()-l}}var c=[],h=[],m=1,g=null,v=3,_=!1,S=!1,M=!1,b=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function w(G){for(var q=t(h);q!==null;){if(q.callback===null)n(h);else if(q.startTime<=G)n(h),q.sortIndex=q.expirationTime,e(c,q);else break;q=t(h)}}function B(G){if(M=!1,w(G),!S)if(t(c)!==null)S=!0,K();else{var q=t(h);q!==null&&ae(B,q.startTime-G)}}var L=!1,N=-1,I=5,P=-1;function U(){return!(i.unstable_now()-P<I)}function O(){if(L){var G=i.unstable_now();P=G;var q=!0;try{e:{S=!1,M&&(M=!1,A(N),N=-1),_=!0;var $=v;try{t:{for(w(G),g=t(c);g!==null&&!(g.expirationTime>G&&U());){var pe=g.callback;if(typeof pe=="function"){g.callback=null,v=g.priorityLevel;var z=pe(g.expirationTime<=G);if(G=i.unstable_now(),typeof z=="function"){g.callback=z,w(G),q=!0;break t}g===t(c)&&n(c),w(G)}else n(c);g=t(c)}if(g!==null)q=!0;else{var oe=t(h);oe!==null&&ae(B,oe.startTime-G),q=!1}}break e}finally{g=null,v=$,_=!1}q=void 0}}finally{q?H():L=!1}}}var H;if(typeof C=="function")H=function(){C(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,W=V.port2;V.port1.onmessage=O,H=function(){W.postMessage(null)}}else H=function(){b(O,0)};function K(){L||(L=!0,H())}function ae(G,q){N=b(function(){G(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_continueExecution=function(){S||_||(S=!0,K())},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return t(c)},i.unstable_next=function(G){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var $=v;v=q;try{return G()}finally{v=$}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(G,q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var $=v;v=G;try{return q()}finally{v=$}},i.unstable_scheduleCallback=function(G,q,$){var pe=i.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?pe+$:pe):$=pe,G){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=$+z,G={id:m++,callback:q,priorityLevel:G,startTime:$,expirationTime:z,sortIndex:-1},$>pe?(G.sortIndex=$,e(h,G),t(c)===null&&G===t(h)&&(M?(A(N),N=-1):M=!0,ae(B,$-pe))):(G.sortIndex=z,e(c,G),S||_||(S=!0,K())),G},i.unstable_shouldYield=U,i.unstable_wrapCallback=function(G){var q=v;return function(){var $=v;v=q;try{return G.apply(this,arguments)}finally{v=$}}}}(LE)),LE}var y3;function x7(){return y3||(y3=1,UE.exports=_7()),UE.exports}var _3=x7();const S7=i=>typeof i=="object"&&typeof i.then=="function",Fd=[];function YN(i,e,t=(n,r)=>n===r){if(i===e)return!0;if(!i||!e)return!1;const n=i.length;if(e.length!==n)return!1;for(let r=0;r<n;r++)if(!t(i[r],e[r]))return!1;return!0}function jN(i,e=null,t=!1,n={}){e===null&&(e=[i]);for(const s of Fd)if(YN(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return n.lifespan&&n.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,n.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:n.equal,remove:()=>{const s=Fd.indexOf(r);s!==-1&&Fd.splice(s,1)},promise:(S7(i)?i:i(...e)).then(s=>{r.response=s,n.lifespan&&n.lifespan>0&&(r.timeout=setTimeout(r.remove,n.lifespan))}).catch(s=>r.error=s)};if(Fd.push(r),!t)throw r.promise}const A7=(i,e,t)=>jN(i,e,!1,t),b7=(i,e,t)=>void jN(i,e,!0,t),M7=i=>{if(i===void 0||i.length===0)Fd.splice(0,Fd.length);else{const e=Fd.find(t=>YN(i,t.keys,t.equal));e&&e.remove()}};function H2(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=e?i.return:i.child;for(;n;){const r=H2(n,e,t);if(r)return r;n=e?null:n.sibling}}function qN(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const G2=qN(Me.createContext(null));class WN extends Me.Component{render(){return Me.createElement(G2.Provider,{value:this._reactInternals},this.props.children)}}function KN(){const i=Me.useContext(G2);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Me.useId();return Me.useMemo(()=>{for(const t of[i,i?.alternate]){if(!t)continue;const n=H2(t,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(n)return n}},[i,e])}const E7=Symbol.for("react.context"),T7=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===E7;function C7(){const i=KN(),[e]=Me.useState(()=>new Map);e.clear();let t=i;for(;t;){const n=t.type;T7(n)&&n!==G2&&!e.has(n)&&e.set(n,Me.use(qN(n))),t=t.return}return e}function w7(){const i=C7();return Me.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>Me.createElement(e,null,Me.createElement(t.Provider,{...n,value:i.get(t)})),e=>Me.createElement(WN,{...e})),[i])}function JN(i){let e=i.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const ZN=i=>i&&i.isOrthographicCamera,R7=i=>i&&i.hasOwnProperty("current"),B7=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),a_=((i,e)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?Me.useLayoutEffect:Me.useEffect;function V2(i){const e=Me.useRef(i);return a_(()=>void(e.current=i),[i]),e}function D7(){const i=KN(),e=w7();return Me.useMemo(()=>({children:t})=>{const r=!!H2(i,!0,s=>s.type===Me.StrictMode)?Me.StrictMode:Me.Fragment;return We.jsx(r,{children:We.jsx(e,{children:t})})},[i,e])}function O7({set:i}){return a_(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const U7=(i=>(i=class extends Me.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},i.getDerivedStateFromError=()=>({error:!0}),i))();function QN(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}function Vm(i){var e;return(e=i.__r3f)==null?void 0:e.root.getState()}const Yi={obj:i=>i===Object(i)&&!Yi.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(Yi.str(i)||Yi.num(i)||Yi.boo(i))return i===e;const s=Yi.obj(i);if(s&&n==="reference")return i===e;const a=Yi.arr(i);if(a&&t==="reference")return i===e;if((a||s)&&i===e)return!0;let l;for(l in i)if(!(l in e))return!1;if(s&&t==="shallow"&&n==="shallow"){for(l in r?e:i)if(!Yi.equ(i[l],e[l],{strict:r,objects:"reference"}))return!1}else for(l in r?e:i)if(i[l]!==e[l])return!1;if(Yi.und(l)){if(a&&i.length===0&&e.length===0||s&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function L7(i){const e={nodes:{},materials:{},meshes:{}};return i&&i.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function N7(i){i.type!=="Scene"&&(i.dispose==null||i.dispose());for(const e in i){const t=i[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const $N=["children","key","ref"];function P7(i){const e={};for(const t in i)$N.includes(t)||(e[t]=i[t]);return e}function MA(i,e,t,n){const r=i;let s=r?.__r3f;return s||(s={root:e,type:t,parent:null,children:[],props:P7(n),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function Cy(i,e){let t=i[e];if(!e.includes("-"))return{root:i,key:e,target:t};t=i;for(const r of e.split("-")){var n;e=r,i=t,t=(n=t)==null?void 0:n[e]}return{root:i,key:e,target:t}}const x3=/-\d+$/;function EA(i,e){if(Yi.str(e.props.attach)){if(x3.test(e.props.attach)){const r=e.props.attach.replace(x3,""),{root:s,key:a}=Cy(i.object,r);Array.isArray(s[a])||(s[a]=[])}const{root:t,key:n}=Cy(i.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else Yi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(i.object,e.object))}function TA(i,e){if(Yi.str(e.props.attach)){const{root:t,key:n}=Cy(i.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[n]:t[n]=r}else e.previousAttach==null||e.previousAttach(i.object,e.object);delete e.previousAttach}const VT=[...$N,"args","dispose","attach","object","onUpdate","dispose"],S3=new Map;function I7(i){let e=S3.get(i.constructor);try{e||(e=new i.constructor,S3.set(i.constructor,e))}catch{}return e}function F7(i,e){const t={};for(const n in e)if(!VT.includes(n)&&!Yi.equ(e[n],i.props[n])){t[n]=e[n];for(const r in e)r.startsWith(`${n}-`)&&(t[r]=e[r])}for(const n in i.props){if(VT.includes(n)||e.hasOwnProperty(n))continue;const{root:r,key:s}=Cy(i.object,n);if(r.constructor&&r.constructor.length===0){const a=I7(r);Yi.und(a)||(t[s]=a[s])}else t[s]=0}return t}const z7=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],H7=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Du(i,e){var t;const n=i.__r3f,r=n&&JN(n).getState(),s=n?.eventCount;for(const l in e){let c=e[l];if(VT.includes(l))continue;if(n&&H7.test(l)){typeof c=="function"?n.handlers[l]=c:delete n.handlers[l],n.eventCount=Object.keys(n.handlers).length;continue}if(c===void 0)continue;let{root:h,key:m,target:g}=Cy(i,l);if(g instanceof Tg&&c instanceof Tg)g.mask=c.mask;else if(g instanceof wt&&B7(c))g.set(c);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&c!=null&&c.constructor&&g.constructor===c.constructor)g.copy(c);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(c))typeof g.fromArray=="function"?g.fromArray(c):g.set(...c);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof c=="number")typeof g.setScalar=="function"?g.setScalar(c):g.set(c);else{var a;h[m]=c,r&&!r.linear&&z7.includes(m)&&(a=h[m])!=null&&a.isTexture&&h[m].format===br&&h[m].type===hr&&(h[m].colorSpace=si)}}if(n!=null&&n.parent&&r!=null&&r.internal&&(t=n.object)!=null&&t.isObject3D&&s!==n.eventCount){const l=n.object,c=r.internal.interaction.indexOf(l);c>-1&&r.internal.interaction.splice(c,1),n.eventCount&&l.raycast!==null&&r.internal.interaction.push(l)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&Yg(n),i}function Yg(i){var e;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const t=(e=i.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function eP(i,e){i.manual||(ZN(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix())}const ma=i=>i?.isObject3D;function jx(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function tP(i,e,t,n){const r=t.get(e);r&&(t.delete(e),t.size===0&&(i.delete(n),r.target.releasePointerCapture(n)))}function G7(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,r)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((n,r)=>{tP(t.capturedMap,e,n,r)})}function V7(i){function e(c){const{internal:h}=i.getState(),m=c.offsetX-h.initialClick[0],g=c.offsetY-h.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function t(c){return c.filter(h=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=h.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function n(c,h){const m=i.getState(),g=new Set,v=[],_=h?h(m.internal.interaction):m.internal.interaction;for(let A=0;A<_.length;A++){const C=Vm(_[A]);C&&(C.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(c,m);function S(A){const C=Vm(A);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var w;C.events.compute==null||C.events.compute(c,C,(w=C.previousRoot)==null?void 0:w.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(A,!0):[]}let M=_.flatMap(S).sort((A,C)=>{const w=Vm(A.object),B=Vm(C.object);return!w||!B?A.distance-C.distance:B.events.priority-w.events.priority||A.distance-C.distance}).filter(A=>{const C=jx(A);return g.has(C)?!1:(g.add(C),!0)});m.events.filter&&(M=m.events.filter(M,m));for(const A of M){let C=A.object;for(;C;){var b;(b=C.__r3f)!=null&&b.eventCount&&v.push({...A,eventObject:C}),C=C.parent}}if("pointerId"in c&&m.internal.capturedMap.has(c.pointerId))for(let A of m.internal.capturedMap.get(c.pointerId).values())g.has(jx(A.intersection))||v.push(A.intersection);return v}function r(c,h,m,g){if(c.length){const v={stopped:!1};for(const _ of c){let S=Vm(_.object);if(S||_.object.traverseAncestors(M=>{const b=Vm(M);if(b)return S=b,!1}),S){const{raycaster:M,pointer:b,camera:A,internal:C}=S,w=new te(b.x,b.y,0).unproject(A),B=U=>{var O,H;return(O=(H=C.capturedMap.get(U))==null?void 0:H.has(_.eventObject))!=null?O:!1},L=U=>{const O={intersection:_,target:h.target};C.capturedMap.has(U)?C.capturedMap.get(U).set(_.eventObject,O):C.capturedMap.set(U,new Map([[_.eventObject,O]])),h.target.setPointerCapture(U)},N=U=>{const O=C.capturedMap.get(U);O&&tP(C.capturedMap,_.eventObject,O,U)};let I={};for(let U in h){let O=h[U];typeof O!="function"&&(I[U]=O)}let P={..._,...I,pointer:b,intersections:c,stopped:v.stopped,delta:m,unprojectedPoint:w,ray:M.ray,camera:A,stopPropagation(){const U="pointerId"in h&&C.capturedMap.get(h.pointerId);if((!U||U.has(_.eventObject))&&(P.stopped=v.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(O=>O.eventObject===_.eventObject))){const O=c.slice(0,c.indexOf(_));s([...O,_])}},target:{hasPointerCapture:B,setPointerCapture:L,releasePointerCapture:N},currentTarget:{hasPointerCapture:B,setPointerCapture:L,releasePointerCapture:N},nativeEvent:h};if(g(P),v.stopped===!0)break}}}return c}function s(c){const{internal:h}=i.getState();for(const m of h.hovered.values())if(!c.length||!c.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const v=m.eventObject.__r3f;if(h.hovered.delete(jx(m)),v!=null&&v.eventCount){const _=v.handlers,S={...m,intersections:c};_.onPointerOut==null||_.onPointerOut(S),_.onPointerLeave==null||_.onPointerLeave(S)}}}function a(c,h){for(let m=0;m<h.length;m++){const g=h[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(c)}}function l(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return h=>{const{internal:m}=i.getState();"pointerId"in h&&m.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(h.pointerId)&&(m.capturedMap.delete(h.pointerId),s([]))})}}return function(m){const{onPointerMissed:g,internal:v}=i.getState();v.lastEvent.current=m;const _=c==="onPointerMove",S=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",b=n(m,_?t:void 0),A=S?e(m):0;c==="onPointerDown"&&(v.initialClick=[m.offsetX,m.offsetY],v.initialHits=b.map(w=>w.eventObject)),S&&!b.length&&A<=2&&(a(m,v.interaction),g&&g(m)),_&&s(b);function C(w){const B=w.eventObject,L=B.__r3f;if(!(L!=null&&L.eventCount))return;const N=L.handlers;if(_){if(N.onPointerOver||N.onPointerEnter||N.onPointerOut||N.onPointerLeave){const I=jx(w),P=v.hovered.get(I);P?P.stopped&&w.stopPropagation():(v.hovered.set(I,w),N.onPointerOver==null||N.onPointerOver(w),N.onPointerEnter==null||N.onPointerEnter(w))}N.onPointerMove==null||N.onPointerMove(w)}else{const I=N[c];I?(!S||v.initialHits.includes(B))&&(a(m,v.interaction.filter(P=>!v.initialHits.includes(P))),I(w)):S&&v.initialHits.includes(B)&&a(m,v.interaction.filter(P=>!v.initialHits.includes(P)))}}r(b,m,A,C)}}return{handlePointer:l}}const A3=i=>!!(i!=null&&i.render),k2=Me.createContext(null),k7=(i,e)=>{const t=XN((l,c)=>{const h=new te,m=new te,g=new te;function v(A=c().camera,C=m,w=c().size){const{width:B,height:L,top:N,left:I}=w,P=B/L;C.isVector3?g.copy(C):g.set(...C);const U=A.getWorldPosition(h).distanceTo(g);if(ZN(A))return{width:B/A.zoom,height:L/A.zoom,top:N,left:I,factor:1,distance:U,aspect:P};{const O=A.fov*Math.PI/180,H=2*Math.tan(O/2)*U,V=H*(B/L);return{width:V,height:H,top:N,left:I,factor:B/V,distance:U,aspect:P}}}let _;const S=A=>l(C=>({performance:{...C.performance,current:A}})),M=new Ye;return{set:l,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(A=1)=>i(c(),A),advance:(A,C)=>e(A,C,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new U2,pointer:M,mouse:M,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=c();_&&clearTimeout(_),A.performance.current!==A.performance.min&&S(A.performance.min),_=setTimeout(()=>S(c().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:A=>l(C=>({...C,events:{...C.events,...A}})),setSize:(A,C,w=0,B=0)=>{const L=c().camera,N={width:A,height:C,top:w,left:B};l(I=>({size:N,viewport:{...I.viewport,...v(L,m,N)}}))},setDpr:A=>l(C=>{const w=QN(A);return{viewport:{...C.viewport,dpr:w,initialDpr:C.viewport.initialDpr||w}}}),setFrameloop:(A="always")=>{const C=c().clock;C.stop(),C.elapsedTime=0,A!=="never"&&(C.start(),C.elapsedTime=0),l(()=>({frameloop:A}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:Me.createRef(),active:!1,frames:0,priority:0,subscribe:(A,C,w)=>{const B=c().internal;return B.priority=B.priority+(C>0?1:0),B.subscribers.push({ref:A,priority:C,store:w}),B.subscribers=B.subscribers.sort((L,N)=>L.priority-N.priority),()=>{const L=c().internal;L!=null&&L.subscribers&&(L.priority=L.priority-(C>0?1:0),L.subscribers=L.subscribers.filter(N=>N.ref!==A))}}}}}),n=t.getState();let r=n.size,s=n.viewport.dpr,a=n.camera;return t.subscribe(()=>{const{camera:l,size:c,viewport:h,gl:m,set:g}=t.getState();if(c.width!==r.width||c.height!==r.height||h.dpr!==s){r=c,s=h.dpr,eP(l,c),h.dpr>0&&m.setPixelRatio(h.dpr);const v=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(c.width,c.height,v)}l!==a&&(a=l,g(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>i(l)),t};function X2(){const i=Me.useContext(k2);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function Fs(i=t=>t,e){return X2()(i,e)}function o_(i,e=0){const t=X2(),n=t.getState().internal.subscribe,r=V2(i);return a_(()=>n(r,e,t),[e,n,t]),null}const b3=new WeakMap,X7=i=>{var e;return typeof i=="function"&&(i==null||(e=i.prototype)==null?void 0:e.constructor)===i};function nP(i,e){return function(t,...n){let r;return X7(t)?(r=b3.get(t),r||(r=new t,b3.set(t,r))):r=t,i&&i(r),Promise.all(n.map(s=>new Promise((a,l)=>r.load(s,c=>{ma(c?.scene)&&Object.assign(c,L7(c.scene)),a(c)},e,c=>l(new Error(`Could not load ${s}: ${c?.message}`))))))}}function Dc(i,e,t,n){const r=Array.isArray(e)?e:[e],s=A7(nP(t,n),[i,...r],{equal:Yi.equ});return Array.isArray(e)?s:s[0]}Dc.preload=function(i,e,t){const n=Array.isArray(e)?e:[e];return b7(nP(t),[i,...n])};Dc.clear=function(i,e){const t=Array.isArray(e)?e:[e];return M7([i,...t])};function Y7(i){const e=y7(i);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Me.version}),e}const iP=0,Bg={},j7=/^three(?=[A-Z])/,Db=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let q7=0;const W7=i=>typeof i=="function";function Y2(i){if(W7(i)){const e=`${q7++}`;return Bg[e]=i,e}else Object.assign(Bg,i)}function rP(i,e){const t=Db(i),n=Bg[t];if(i!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function K7(i,e,t){var n;return i=Db(i)in Bg?i:i.replace(j7,""),rP(i,e),i==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,MA(e.object,t,i,e)}function J7(i){if(!i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?TA(i.parent,i):ma(i.object)&&(i.object.visible=!1),i.isHidden=!0,Yg(i)}}function sP(i){if(i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?EA(i.parent,i):ma(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,Yg(i)}}function j2(i,e,t){const n=e.root.getState();if(!(!i.parent&&i.object!==n.scene)){if(!e.object){var r,s;const a=Bg[Db(e.type)];e.object=(r=e.props.object)!=null?r:new a(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(Du(e.object,e.props),e.props.attach)EA(i,e);else if(ma(e.object)&&ma(i.object)){const a=i.object.children.indexOf(t?.object);if(t&&a!==-1){const l=i.object.children.indexOf(e.object);if(l!==-1){i.object.children.splice(l,1);const c=l<a?a-1:a;i.object.children.splice(c,0,e.object)}else e.object.parent=i.object,i.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:e.object})}else i.object.add(e.object)}for(const a of e.children)j2(e,a);Yg(e)}}function NE(i,e){e&&(e.parent=i,i.children.push(e),j2(i,e))}function M3(i,e,t){if(!e||!t)return;e.parent=i;const n=i.children.indexOf(t);n!==-1?i.children.splice(n,0,e):i.children.push(e),j2(i,e,t)}function aP(i){if(typeof i.dispose=="function"){const e=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():_3.unstable_scheduleCallback(_3.unstable_IdlePriority,e)}}function kT(i,e,t){if(!e)return;e.parent=null;const n=i.children.indexOf(e);n!==-1&&i.children.splice(n,1),e.props.attach?TA(i,e):ma(e.object)&&ma(i.object)&&(i.object.remove(e.object),G7(JN(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let s=e.children.length-1;s>=0;s--){const a=e.children[s];kT(e,a,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&aP(e.object),t===void 0&&Yg(e)}function Z7(i,e){for(const t of[i,i.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const SS=[];function Q7(){for(const[t]of SS){const n=t.parent;if(n){t.props.attach?TA(n,t):ma(t.object)&&ma(n.object)&&n.object.remove(t.object);for(const r of t.children)r.props.attach?TA(t,r):ma(r.object)&&ma(t.object)&&t.object.remove(r.object)}t.isHidden&&sP(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&aP(t.object)}for(const[t,n,r]of SS){t.props=n;const s=t.parent;if(s){var i,e;const a=Bg[Db(t.type)];t.object=(i=t.props.object)!=null?i:new a(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Z7(r,t.object),Du(t.object,t.props),t.props.attach?EA(s,t):ma(t.object)&&ma(s.object)&&s.object.add(t.object);for(const l of t.children)l.props.attach?EA(t,l):ma(l.object)&&ma(t.object)&&t.object.add(l.object);Yg(t)}}SS.length=0}const PE=()=>{},E3={};let qx=iP;const $7=0,eX=4,CA=Y7({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:K7,removeChild:kT,appendChild:NE,appendInitialChild:NE,insertBefore:M3,appendChildToContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||NE(t,e)},removeChildFromContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||kT(t,e)},insertInContainerBefore(i,e,t){const n=i.getState().scene.__r3f;!e||!t||!n||M3(n,e,t)},getRootHostContext:()=>E3,getChildHostContext:()=>E3,commitUpdate(i,e,t,n,r){var s,a,l;rP(e,n);let c=!1;if((i.type==="primitive"&&t.object!==n.object||((s=n.args)==null?void 0:s.length)!==((a=t.args)==null?void 0:a.length)||(l=n.args)!=null&&l.some((m,g)=>{var v;return m!==((v=t.args)==null?void 0:v[g])}))&&(c=!0),c)SS.push([i,{...n},r]);else{const m=F7(i,n);Object.keys(m).length&&(Object.assign(i.props,m),Du(i.object,m))}(r.sibling===null||(r.flags&eX)===$7)&&Q7()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i?.object,prepareForCommit:()=>null,preparePortalMount:i=>MA(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:J7,unhideInstance:sP,createTextInstance:PE,hideTextInstance:PE,unhideTextInstance:PE,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:Me.createContext(null),setCurrentUpdatePriority(i){qx=i},getCurrentUpdatePriority(){return qx},resolveUpdatePriority(){var i;if(qx!==iP)return qx;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return xS.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return xS.ContinuousEventPriority;default:return xS.DefaultEventPriority}},resetFormInstance(){}}),hp=new Map,km={objects:"shallow",strict:!1};function tX(i,e){if(!e&&typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:t,height:n,top:r,left:s}=i.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function nX(i){const e=hp.get(i),t=e?.fiber,n=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=n||k7(jT,C3),a=t||CA.createContainer(s,xS.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||hp.set(i,{fiber:a,store:s});let l,c,h=!1,m=null;return{async configure(g={}){let v;m=new Promise(oe=>v=oe);let{gl:_,size:S,scene:M,events:b,onCreated:A,shadows:C=!1,linear:w=!1,flat:B=!1,legacy:L=!1,orthographic:N=!1,frameloop:I="always",dpr:P=[1,2],performance:U,raycaster:O,camera:H,onPointerMissed:V}=g,W=s.getState(),K=W.gl;if(!W.gl){const oe={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},ve=typeof _=="function"?await _(oe):_;A3(ve)?K=ve:K=new z2({...oe,..._}),W.set({gl:K})}let ae=W.raycaster;ae||W.set({raycaster:ae=new P2});const{params:G,...q}=O||{};if(Yi.equ(q,ae,km)||Du(ae,{...q}),Yi.equ(G,ae.params,km)||Du(ae,{params:{...ae.params,...G}}),!W.camera||W.camera===c&&!Yi.equ(c,H,km)){c=H;const oe=H?.isCamera,ve=oe?H:N?new Nu(0,0,0,0,.1,1e3):new er(75,0,.1,1e3);oe||(ve.position.z=5,H&&(Du(ve,H),ve.manual||("aspect"in H||"left"in H||"right"in H||"bottom"in H||"top"in H)&&(ve.manual=!0,ve.updateProjectionMatrix())),!W.camera&&!(H!=null&&H.rotation)&&ve.lookAt(0,0,0)),W.set({camera:ve}),ae.camera=ve}if(!W.scene){let oe;M!=null&&M.isScene?(oe=M,MA(oe,s,"",{})):(oe=new ap,MA(oe,s,"",{}),M&&Du(oe,M)),W.set({scene:oe})}b&&!W.events.handlers&&W.set({events:b(s)});const $=tX(i,S);if(Yi.equ($,W.size,km)||W.setSize($.width,$.height,$.top,$.left),P&&W.viewport.dpr!==QN(P)&&W.setDpr(P),W.frameloop!==I&&W.setFrameloop(I),W.onPointerMissed||W.set({onPointerMissed:V}),U&&!Yi.equ(U,W.performance,km)&&W.set(oe=>({performance:{...oe.performance,...U}})),!W.xr){var pe;const oe=(se,Te)=>{const we=s.getState();we.frameloop!=="never"&&C3(se,!0,we,Te)},ve=()=>{const se=s.getState();se.gl.xr.enabled=se.gl.xr.isPresenting,se.gl.xr.setAnimationLoop(se.gl.xr.isPresenting?oe:null),se.gl.xr.isPresenting||jT(se)},Ae={connect(){const se=s.getState().gl;se.xr.addEventListener("sessionstart",ve),se.xr.addEventListener("sessionend",ve)},disconnect(){const se=s.getState().gl;se.xr.removeEventListener("sessionstart",ve),se.xr.removeEventListener("sessionend",ve)}};typeof((pe=K.xr)==null?void 0:pe.addEventListener)=="function"&&Ae.connect(),W.set({xr:Ae})}if(K.shadowMap){const oe=K.shadowMap.enabled,ve=K.shadowMap.type;if(K.shadowMap.enabled=!!C,Yi.boo(C))K.shadowMap.type=Vv;else if(Yi.str(C)){var z;const Ae={basic:$U,percentage:QA,soft:Vv,variance:Ll};K.shadowMap.type=(z=Ae[C])!=null?z:Vv}else Yi.obj(C)&&Object.assign(K.shadowMap,C);(oe!==K.shadowMap.enabled||ve!==K.shadowMap.type)&&(K.shadowMap.needsUpdate=!0)}return Wn.enabled=!L,h||(K.outputColorSpace=w?mo:si,K.toneMapping=B?zl:JC),W.legacy!==L&&W.set(()=>({legacy:L})),W.linear!==w&&W.set(()=>({linear:w})),W.flat!==B&&W.set(()=>({flat:B})),_&&!Yi.fun(_)&&!A3(_)&&!Yi.equ(_,K,km)&&Du(K,_),l=A,h=!0,v(),this},render(g){return!h&&!m&&this.configure(),m.then(()=>{CA.updateContainer(We.jsx(iX,{store:s,children:g,onCreated:l,rootElement:i}),a,null,()=>{})}),s},unmount(){oP(i)}}}function iX({store:i,children:e,onCreated:t,rootElement:n}){return a_(()=>{const r=i.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),i.getState().events.connected||r.events.connect==null||r.events.connect(n)},[]),We.jsx(k2.Provider,{value:i,children:e})}function oP(i,e){const t=hp.get(i),n=t?.fiber;if(n){const r=t?.store.getState();r&&(r.internal.active=!1),CA.updateContainer(null,n,null,()=>{r&&setTimeout(()=>{try{var s,a,l,c;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(c=r.gl)!=null&&c.xr&&r.xr.disconnect(),N7(r.scene),hp.delete(i)}catch{}},500)})}}function rX(i,e,t){return We.jsx(sX,{children:i,container:e,state:t})}function sX({state:i={},children:e,container:t}){const{events:n,size:r,...s}=i,a=X2(),[l]=Me.useState(()=>new P2),[c]=Me.useState(()=>new Ye),h=V2((g,v)=>{let _;if(v.camera&&r){const S=v.camera;_=g.viewport.getCurrentViewport(S,new te,r),S!==g.camera&&eP(S,r)}return{...g,...v,scene:t,raycaster:l,pointer:c,mouse:c,previousRoot:a,events:{...g.events,...v.events,...n},size:{...g.size,...r},viewport:{...g.viewport,..._},setEvents:S=>v.set(M=>({...M,events:{...M.events,...S}}))}}),m=Me.useMemo(()=>{const g=XN((_,S)=>({...s,set:_,get:S})),v=_=>g.setState(S=>h.current(_,S));return v(a.getState()),a.subscribe(v),g},[a,t]);return We.jsx(We.Fragment,{children:CA.createPortal(We.jsx(k2.Provider,{value:m,children:e}),m,null)})}const aX=new Set,oX=new Set,lX=new Set;function IE(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function Zv(i,e){switch(i){case"before":return IE(aX,e);case"after":return IE(oX,e);case"tail":return IE(lX,e)}}let FE,zE;function XT(i,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),FE=e.internal.subscribers;for(let r=0;r<FE.length;r++)zE=FE[r],zE.ref.current(zE.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let wA=!1,YT=!1,HE,T3,Xm;function lP(i){T3=requestAnimationFrame(lP),wA=!0,HE=0,Zv("before",i),YT=!0;for(const t of hp.values()){var e;Xm=t.store.getState(),Xm.internal.active&&(Xm.frameloop==="always"||Xm.internal.frames>0)&&!((e=Xm.gl.xr)!=null&&e.isPresenting)&&(HE+=XT(i,Xm))}if(YT=!1,Zv("after",i),HE===0)return Zv("tail",i),wA=!1,cancelAnimationFrame(T3)}function jT(i,e=1){var t;if(!i)return hp.forEach(n=>jT(n.store.getState(),e));(t=i.gl.xr)!=null&&t.isPresenting||!i.internal.active||i.frameloop==="never"||(e>1?i.internal.frames=Math.min(60,i.internal.frames+e):YT?i.internal.frames=2:i.internal.frames=1,wA||(wA=!0,requestAnimationFrame(lP)))}function C3(i,e=!0,t,n){if(e&&Zv("before",i),t)XT(i,t,n);else for(const r of hp.values())XT(i,r.store.getState());e&&Zv("after",i)}const GE={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function uX(i){const{handlePointer:e}=V7(i);return{priority:1,enabled:!0,compute(t,n,r){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(GE).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:r}=i.getState();(t=r.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:n,events:r}=i.getState();if(r.disconnect==null||r.disconnect(),n(s=>({events:{...s.events,connected:t}})),r.handlers)for(const s in r.handlers){const a=r.handlers[s],[l,c]=GE[s];t.addEventListener(l,a,{passive:c})}},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){if(n.handlers)for(const r in n.handlers){const s=n.handlers[r],[a]=GE[r];n.connected.removeEventListener(a,s)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function w3(i,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...n),e)}}function cX({debounce:i,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=Me.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Me.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),c=i?typeof i=="number"?i:i.scroll:null,h=i?typeof i=="number"?i:i.resize:null,m=Me.useRef(!1);Me.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,v,_]=Me.useMemo(()=>{const A=()=>{if(!l.current.element)return;const{left:C,top:w,width:B,height:L,bottom:N,right:I,x:P,y:U}=l.current.element.getBoundingClientRect(),O={left:C,top:w,width:B,height:L,bottom:N,right:I,x:P,y:U};l.current.element instanceof HTMLElement&&n&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),m.current&&!pX(l.current.lastBounds,O)&&a(l.current.lastBounds=O)};return[A,h?w3(A,h):A,c?w3(A,c):A]},[a,n,c,h]);function S(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",_,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function M(){l.current.element&&(l.current.resizeObserver=new r(_),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(A=>A.addEventListener("scroll",_,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{_()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const b=A=>{!A||A===l.current.element||(S(),l.current.element=A,l.current.scrollContainers=uP(A),M())};return hX(_,!!e),fX(v),Me.useEffect(()=>{S(),M()},[e,_,v]),Me.useEffect(()=>S,[]),[b,s,g]}function fX(i){Me.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[i])}function hX(i,e){Me.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[i,e])}function uP(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[t,n,r].some(s=>s==="auto"||s==="scroll")&&e.push(i),[...e,...uP(i.parentElement)]}const dX=["x","y","top","bottom","left","right","width","height"],pX=(i,e)=>dX.every(t=>i[t]===e[t]);function mX({ref:i,children:e,fallback:t,resize:n,style:r,gl:s,events:a=uX,eventSource:l,eventPrefix:c,shadows:h,linear:m,flat:g,legacy:v,orthographic:_,frameloop:S,dpr:M,performance:b,raycaster:A,camera:C,scene:w,onPointerMissed:B,onCreated:L,...N}){Me.useMemo(()=>Y2(t7),[]);const I=D7(),[P,U]=cX({scroll:!0,debounce:{scroll:50,resize:0},...n}),O=Me.useRef(null),H=Me.useRef(null);Me.useImperativeHandle(i,()=>O.current);const V=V2(B),[W,K]=Me.useState(!1),[ae,G]=Me.useState(!1);if(W)throw W;if(ae)throw ae;const q=Me.useRef(null);a_(()=>{const pe=O.current;if(U.width>0&&U.height>0&&pe){q.current||(q.current=nX(pe));async function z(){await q.current.configure({gl:s,scene:w,events:a,shadows:h,linear:m,flat:g,legacy:v,orthographic:_,frameloop:S,dpr:M,performance:b,raycaster:A,camera:C,size:U,onPointerMissed:(...oe)=>V.current==null?void 0:V.current(...oe),onCreated:oe=>{oe.events.connect==null||oe.events.connect(l?R7(l)?l.current:l:H.current),c&&oe.setEvents({compute:(ve,Ae)=>{const se=ve[c+"X"],Te=ve[c+"Y"];Ae.pointer.set(se/Ae.size.width*2-1,-(Te/Ae.size.height)*2+1),Ae.raycaster.setFromCamera(Ae.pointer,Ae.camera)}}),L?.(oe)}}),q.current.render(We.jsx(I,{children:We.jsx(U7,{set:G,children:We.jsx(Me.Suspense,{fallback:We.jsx(O7,{set:K}),children:e??null})})}))}z()}}),Me.useEffect(()=>{const pe=O.current;if(pe)return()=>oP(pe)},[]);const $=l?"none":"auto";return We.jsx("div",{ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:$,...r},...N,children:We.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:We.jsx("canvas",{ref:O,style:{display:"block"},children:t})})})}function gX(i){return We.jsx(WN,{children:We.jsx(mX,{...i})})}function RA(){return RA=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},RA.apply(null,arguments)}const vX=i=>i;function yX(i,e=vX){const t=Fl.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return Fl.useDebugValue(t),t}const R3=i=>{const e=kN(i),t=n=>yX(e,n);return Object.assign(t,e),t},_X=i=>i?R3(i):R3;let bv=0;const xX=_X(i=>(Zm.onStart=(e,t,n)=>{i({active:!0,item:e,loaded:t,total:n,progress:(t-bv)/(n-bv)*100})},Zm.onLoad=()=>{i({active:!1})},Zm.onError=e=>i(t=>({errors:[...t.errors,e]})),Zm.onProgress=(e,t,n)=>{t===n&&(bv=n),i({active:!0,item:e,loaded:t,total:n,progress:(t-bv)/(n-bv)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),q2=parseInt(vp.replace(/\D+/g,""));function B3(i,e){if(e===BL)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),i;if(e===_A||e===i2){let t=i.getIndex();if(t===null){const a=[],l=i.getAttribute("position");if(l!==void 0){for(let c=0;c<l.count;c++)a.push(c);i.setIndex(a),t=i.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i}const n=t.count-2,r=[];if(t)if(e===_A)for(let a=1;a<=n;a++)r.push(t.getX(0)),r.push(t.getX(a)),r.push(t.getX(a+1));else for(let a=0;a<n;a++)a%2===0?(r.push(t.getX(a)),r.push(t.getX(a+1)),r.push(t.getX(a+2))):(r.push(t.getX(a+2)),r.push(t.getX(a+1)),r.push(t.getX(a)));r.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=i.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),i}var qo=Uint8Array,kf=Uint16Array,qT=Uint32Array,cP=new qo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fP=new qo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),SX=new qo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hP=function(i,e){for(var t=new kf(31),n=0;n<31;++n)t[n]=e+=1<<i[n-1];for(var r=new qT(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)r[s]=s-t[n]<<5|n;return[t,r]},dP=hP(cP,2),pP=dP[0],AX=dP[1];pP[28]=258,AX[258]=28;var bX=hP(fP,0),MX=bX[0],WT=new kf(32768);for(var Fi=0;Fi<32768;++Fi){var Nf=(Fi&43690)>>>1|(Fi&21845)<<1;Nf=(Nf&52428)>>>2|(Nf&13107)<<2,Nf=(Nf&61680)>>>4|(Nf&3855)<<4,WT[Fi]=((Nf&65280)>>>8|(Nf&255)<<8)>>>1}var Qv=function(i,e,t){for(var n=i.length,r=0,s=new kf(e);r<n;++r)++s[i[r]-1];var a=new kf(e);for(r=0;r<e;++r)a[r]=a[r-1]+s[r-1]<<1;var l;if(t){l=new kf(1<<e);var c=15-e;for(r=0;r<n;++r)if(i[r])for(var h=r<<4|i[r],m=e-i[r],g=a[i[r]-1]++<<m,v=g|(1<<m)-1;g<=v;++g)l[WT[g]>>>c]=h}else for(l=new kf(n),r=0;r<n;++r)i[r]&&(l[r]=WT[a[i[r]-1]++]>>>15-i[r]);return l},l_=new qo(288);for(var Fi=0;Fi<144;++Fi)l_[Fi]=8;for(var Fi=144;Fi<256;++Fi)l_[Fi]=9;for(var Fi=256;Fi<280;++Fi)l_[Fi]=7;for(var Fi=280;Fi<288;++Fi)l_[Fi]=8;var mP=new qo(32);for(var Fi=0;Fi<32;++Fi)mP[Fi]=5;var EX=Qv(l_,9,1),TX=Qv(mP,5,1),VE=function(i){for(var e=i[0],t=1;t<i.length;++t)i[t]>e&&(e=i[t]);return e},Dl=function(i,e,t){var n=e/8|0;return(i[n]|i[n+1]<<8)>>(e&7)&t},kE=function(i,e){var t=e/8|0;return(i[t]|i[t+1]<<8|i[t+2]<<16)>>(e&7)},CX=function(i){return(i/8|0)+(i&7&&1)},wX=function(i,e,t){(t==null||t>i.length)&&(t=i.length);var n=new(i instanceof kf?kf:i instanceof qT?qT:qo)(t-e);return n.set(i.subarray(e,t)),n},RX=function(i,e,t){var n=i.length;if(!n||t&&!t.l&&n<5)return e||new qo(0);var r=!e||t,s=!t||t.i;t||(t={}),e||(e=new qo(n*3));var a=function(we){var Fe=e.length;if(we>Fe){var Ue=new qo(Math.max(Fe*2,we));Ue.set(e),e=Ue}},l=t.f||0,c=t.p||0,h=t.b||0,m=t.l,g=t.d,v=t.m,_=t.n,S=n*8;do{if(!m){t.f=l=Dl(i,c,1);var M=Dl(i,c+1,3);if(c+=3,M)if(M==1)m=EX,g=TX,v=9,_=5;else if(M==2){var w=Dl(i,c,31)+257,B=Dl(i,c+10,15)+4,L=w+Dl(i,c+5,31)+1;c+=14;for(var N=new qo(L),I=new qo(19),P=0;P<B;++P)I[SX[P]]=Dl(i,c+P*3,7);c+=B*3;for(var U=VE(I),O=(1<<U)-1,H=Qv(I,U,1),P=0;P<L;){var V=H[Dl(i,c,O)];c+=V&15;var b=V>>>4;if(b<16)N[P++]=b;else{var W=0,K=0;for(b==16?(K=3+Dl(i,c,3),c+=2,W=N[P-1]):b==17?(K=3+Dl(i,c,7),c+=3):b==18&&(K=11+Dl(i,c,127),c+=7);K--;)N[P++]=W}}var ae=N.subarray(0,w),G=N.subarray(w);v=VE(ae),_=VE(G),m=Qv(ae,v,1),g=Qv(G,_,1)}else throw"invalid block type";else{var b=CX(c)+4,A=i[b-4]|i[b-3]<<8,C=b+A;if(C>n){if(s)throw"unexpected EOF";break}r&&a(h+A),e.set(i.subarray(b,C),h),t.b=h+=A,t.p=c=C*8;continue}if(c>S){if(s)throw"unexpected EOF";break}}r&&a(h+131072);for(var q=(1<<v)-1,$=(1<<_)-1,pe=c;;pe=c){var W=m[kE(i,c)&q],z=W>>>4;if(c+=W&15,c>S){if(s)throw"unexpected EOF";break}if(!W)throw"invalid length/literal";if(z<256)e[h++]=z;else if(z==256){pe=c,m=null;break}else{var oe=z-254;if(z>264){var P=z-257,ve=cP[P];oe=Dl(i,c,(1<<ve)-1)+pP[P],c+=ve}var Ae=g[kE(i,c)&$],se=Ae>>>4;if(!Ae)throw"invalid distance";c+=Ae&15;var G=MX[se];if(se>3){var ve=fP[se];G+=kE(i,c)&(1<<ve)-1,c+=ve}if(c>S){if(s)throw"unexpected EOF";break}r&&a(h+131072);for(var Te=h+oe;h<Te;h+=4)e[h]=e[h-G],e[h+1]=e[h+1-G],e[h+2]=e[h+2-G],e[h+3]=e[h+3-G];h=Te}}t.l=m,t.p=pe,t.b=h,m&&(l=1,t.m=v,t.d=g,t.n=_)}while(!l);return h==e.length?e:wX(e,0,h)},BX=new qo(0),DX=function(i){if((i[0]&15)!=8||i[0]>>>4>7||(i[0]<<8|i[1])%31)throw"invalid zlib data";if(i[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Wx(i,e){return RX((DX(i),i.subarray(2,-4)),e)}var OX=typeof TextDecoder<"u"&&new TextDecoder,UX=0;try{OX.decode(BX,{stream:!0}),UX=1}catch{}const LX=i=>i&&i.isCubeTexture;class NX extends zi{constructor(e,t){var n,r;const s=LX(e),l=((r=s?(n=e.image[0])==null?void 0:n.width:e.image.width)!=null?r:1024)/4,c=Math.floor(Math.log2(l)),h=Math.pow(2,c),m=3*Math.max(h,16*7),g=4*h,v=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/m}`,`#define CUBEUV_TEXEL_HEIGHT ${1/g}`,`#define CUBEUV_MAX_MIP ${c}.0`],_=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,S=v.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${q2>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,M={map:{value:e},height:{value:t?.height||15},radius:{value:t?.radius||100}},b=new n_(1,16),A=new pr({uniforms:M,fragmentShader:S,vertexShader:_,side:Hs});super(b,A)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var PX=Object.defineProperty,IX=(i,e,t)=>e in i?PX(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,FX=(i,e,t)=>(IX(i,e+"",t),t);class zX{constructor(){FX(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}var HX=Object.defineProperty,GX=(i,e,t)=>e in i?HX(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,ln=(i,e,t)=>(GX(i,typeof e!="symbol"?e+"":e,t),t);const Kx=new yp,D3=new xc,VX=Math.cos(70*(Math.PI/180)),O3=(i,e)=>(i%e+e)%e;let kX=class extends zX{constructor(e,t){super(),ln(this,"object"),ln(this,"domElement"),ln(this,"enabled",!0),ln(this,"target",new te),ln(this,"minDistance",0),ln(this,"maxDistance",1/0),ln(this,"minZoom",0),ln(this,"maxZoom",1/0),ln(this,"minPolarAngle",0),ln(this,"maxPolarAngle",Math.PI),ln(this,"minAzimuthAngle",-1/0),ln(this,"maxAzimuthAngle",1/0),ln(this,"enableDamping",!1),ln(this,"dampingFactor",.05),ln(this,"enableZoom",!0),ln(this,"zoomSpeed",1),ln(this,"enableRotate",!0),ln(this,"rotateSpeed",1),ln(this,"enablePan",!0),ln(this,"panSpeed",1),ln(this,"screenSpacePanning",!0),ln(this,"keyPanSpeed",7),ln(this,"zoomToCursor",!1),ln(this,"autoRotate",!1),ln(this,"autoRotateSpeed",2),ln(this,"reverseOrbit",!1),ln(this,"reverseHorizontalOrbit",!1),ln(this,"reverseVerticalOrbit",!1),ln(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ln(this,"mouseButtons",{LEFT:Md.ROTATE,MIDDLE:Md.DOLLY,RIGHT:Md.PAN}),ln(this,"touches",{ONE:Ed.ROTATE,TWO:Ed.DOLLY_PAN}),ln(this,"target0"),ln(this,"position0"),ln(this,"zoom0"),ln(this,"_domElementKeyEvents",null),ln(this,"getPolarAngle"),ln(this,"getAzimuthalAngle"),ln(this,"setPolarAngle"),ln(this,"setAzimuthalAngle"),ln(this,"getDistance"),ln(this,"getZoomScale"),ln(this,"listenToKeyEvents"),ln(this,"stopListenToKeyEvents"),ln(this,"saveState"),ln(this,"reset"),ln(this,"update"),ln(this,"connect"),ln(this,"dispose"),ln(this,"dollyIn"),ln(this,"dollyOut"),ln(this,"getScale"),ln(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=ue=>{let Se=O3(ue,2*Math.PI),$e=m.phi;$e<0&&($e+=2*Math.PI),Se<0&&(Se+=2*Math.PI);let re=Math.abs(Se-$e);2*Math.PI-re<re&&(Se<$e?Se+=2*Math.PI:$e+=2*Math.PI),g.phi=Se-$e,n.update()},this.setAzimuthalAngle=ue=>{let Se=O3(ue,2*Math.PI),$e=m.theta;$e<0&&($e+=2*Math.PI),Se<0&&(Se+=2*Math.PI);let re=Math.abs(Se-$e);2*Math.PI-re<re&&(Se<$e?Se+=2*Math.PI:$e+=2*Math.PI),g.theta=Se-$e,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=ue=>{ue.addEventListener("keydown",Pe),this._domElementKeyEvents=ue},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Pe),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),c=l.NONE},this.update=(()=>{const ue=new te,Se=new te(0,1,0),$e=new ss().setFromUnitVectors(e.up,Se),re=$e.clone().invert(),Be=new te,qe=new ss,gt=2*Math.PI;return function(){const Ze=n.object.position;$e.setFromUnitVectors(e.up,Se),re.copy($e).invert(),ue.copy(Ze).sub(n.target),ue.applyQuaternion($e),m.setFromVector3(ue),n.autoRotate&&c===l.NONE&&K(V()),n.enableDamping?(m.theta+=g.theta*n.dampingFactor,m.phi+=g.phi*n.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi);let Tt=n.minAzimuthAngle,Pt=n.maxAzimuthAngle;isFinite(Tt)&&isFinite(Pt)&&(Tt<-Math.PI?Tt+=gt:Tt>Math.PI&&(Tt-=gt),Pt<-Math.PI?Pt+=gt:Pt>Math.PI&&(Pt-=gt),Tt<=Pt?m.theta=Math.max(Tt,Math.min(Pt,m.theta)):m.theta=m.theta>(Tt+Pt)/2?Math.max(Tt,m.theta):Math.min(Pt,m.theta)),m.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,m.phi)),m.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(_,n.dampingFactor):n.target.add(_),n.zoomToCursor&&U||n.object.isOrthographicCamera?m.radius=Ae(m.radius):m.radius=Ae(m.radius*v),ue.setFromSpherical(m),ue.applyQuaternion(re),Ze.copy(n.target).add(ue),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(g.theta*=1-n.dampingFactor,g.phi*=1-n.dampingFactor,_.multiplyScalar(1-n.dampingFactor)):(g.set(0,0,0),_.set(0,0,0));let fn=!1;if(n.zoomToCursor&&U){let Et=null;if(n.object instanceof er&&n.object.isPerspectiveCamera){const It=ue.length();Et=Ae(It*v);const Jt=It-Et;n.object.position.addScaledVector(I,Jt),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const It=new te(P.x,P.y,0);It.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/v)),n.object.updateProjectionMatrix(),fn=!0;const Jt=new te(P.x,P.y,0);Jt.unproject(n.object),n.object.position.sub(Jt).add(It),n.object.updateMatrixWorld(),Et=ue.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;Et!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Et).add(n.object.position):(Kx.origin.copy(n.object.position),Kx.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(Kx.direction))<VX?e.lookAt(n.target):(D3.setFromNormalAndCoplanarPoint(n.object.up,n.target),Kx.intersectPlane(D3,n.target))))}else n.object instanceof Nu&&n.object.isOrthographicCamera&&(fn=v!==1,fn&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/v)),n.object.updateProjectionMatrix()));return v=1,U=!1,fn||Be.distanceToSquared(n.object.position)>h||8*(1-qe.dot(n.object.quaternion))>h?(n.dispatchEvent(r),Be.copy(n.object.position),qe.copy(n.object.quaternion),fn=!1,!0):!1}})(),this.connect=ue=>{n.domElement=ue,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",Rt),n.domElement.addEventListener("pointerdown",qt),n.domElement.addEventListener("pointercancel",j),n.domElement.addEventListener("wheel",ze)},this.dispose=()=>{var ue,Se,$e,re,Be,qe;n.domElement&&(n.domElement.style.touchAction="auto"),(ue=n.domElement)==null||ue.removeEventListener("contextmenu",Rt),(Se=n.domElement)==null||Se.removeEventListener("pointerdown",qt),($e=n.domElement)==null||$e.removeEventListener("pointercancel",j),(re=n.domElement)==null||re.removeEventListener("wheel",ze),(Be=n.domElement)==null||Be.ownerDocument.removeEventListener("pointermove",ne),(qe=n.domElement)==null||qe.ownerDocument.removeEventListener("pointerup",j),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",Pe)};const n=this,r={type:"change"},s={type:"start"},a={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=l.NONE;const h=1e-6,m=new FT,g=new FT;let v=1;const _=new te,S=new Ye,M=new Ye,b=new Ye,A=new Ye,C=new Ye,w=new Ye,B=new Ye,L=new Ye,N=new Ye,I=new te,P=new Ye;let U=!1;const O=[],H={};function V(){return 2*Math.PI/60/60*n.autoRotateSpeed}function W(){return Math.pow(.95,n.zoomSpeed)}function K(ue){n.reverseOrbit||n.reverseHorizontalOrbit?g.theta+=ue:g.theta-=ue}function ae(ue){n.reverseOrbit||n.reverseVerticalOrbit?g.phi+=ue:g.phi-=ue}const G=(()=>{const ue=new te;return function($e,re){ue.setFromMatrixColumn(re,0),ue.multiplyScalar(-$e),_.add(ue)}})(),q=(()=>{const ue=new te;return function($e,re){n.screenSpacePanning===!0?ue.setFromMatrixColumn(re,1):(ue.setFromMatrixColumn(re,0),ue.crossVectors(n.object.up,ue)),ue.multiplyScalar($e),_.add(ue)}})(),$=(()=>{const ue=new te;return function($e,re){const Be=n.domElement;if(Be&&n.object instanceof er&&n.object.isPerspectiveCamera){const qe=n.object.position;ue.copy(qe).sub(n.target);let gt=ue.length();gt*=Math.tan(n.object.fov/2*Math.PI/180),G(2*$e*gt/Be.clientHeight,n.object.matrix),q(2*re*gt/Be.clientHeight,n.object.matrix)}else Be&&n.object instanceof Nu&&n.object.isOrthographicCamera?(G($e*(n.object.right-n.object.left)/n.object.zoom/Be.clientWidth,n.object.matrix),q(re*(n.object.top-n.object.bottom)/n.object.zoom/Be.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function pe(ue){n.object instanceof er&&n.object.isPerspectiveCamera||n.object instanceof Nu&&n.object.isOrthographicCamera?v=ue:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function z(ue){pe(v/ue)}function oe(ue){pe(v*ue)}function ve(ue){if(!n.zoomToCursor||!n.domElement)return;U=!0;const Se=n.domElement.getBoundingClientRect(),$e=ue.clientX-Se.left,re=ue.clientY-Se.top,Be=Se.width,qe=Se.height;P.x=$e/Be*2-1,P.y=-(re/qe)*2+1,I.set(P.x,P.y,1).unproject(n.object).sub(n.object.position).normalize()}function Ae(ue){return Math.max(n.minDistance,Math.min(n.maxDistance,ue))}function se(ue){S.set(ue.clientX,ue.clientY)}function Te(ue){ve(ue),B.set(ue.clientX,ue.clientY)}function we(ue){A.set(ue.clientX,ue.clientY)}function Fe(ue){M.set(ue.clientX,ue.clientY),b.subVectors(M,S).multiplyScalar(n.rotateSpeed);const Se=n.domElement;Se&&(K(2*Math.PI*b.x/Se.clientHeight),ae(2*Math.PI*b.y/Se.clientHeight)),S.copy(M),n.update()}function Ue(ue){L.set(ue.clientX,ue.clientY),N.subVectors(L,B),N.y>0?z(W()):N.y<0&&oe(W()),B.copy(L),n.update()}function dt(ue){C.set(ue.clientX,ue.clientY),w.subVectors(C,A).multiplyScalar(n.panSpeed),$(w.x,w.y),A.copy(C),n.update()}function At(ue){ve(ue),ue.deltaY<0?oe(W()):ue.deltaY>0&&z(W()),n.update()}function zt(ue){let Se=!1;switch(ue.code){case n.keys.UP:$(0,n.keyPanSpeed),Se=!0;break;case n.keys.BOTTOM:$(0,-n.keyPanSpeed),Se=!0;break;case n.keys.LEFT:$(n.keyPanSpeed,0),Se=!0;break;case n.keys.RIGHT:$(-n.keyPanSpeed,0),Se=!0;break}Se&&(ue.preventDefault(),n.update())}function Lt(){if(O.length==1)S.set(O[0].pageX,O[0].pageY);else{const ue=.5*(O[0].pageX+O[1].pageX),Se=.5*(O[0].pageY+O[1].pageY);S.set(ue,Se)}}function ot(){if(O.length==1)A.set(O[0].pageX,O[0].pageY);else{const ue=.5*(O[0].pageX+O[1].pageX),Se=.5*(O[0].pageY+O[1].pageY);A.set(ue,Se)}}function Z(){const ue=O[0].pageX-O[1].pageX,Se=O[0].pageY-O[1].pageY,$e=Math.sqrt(ue*ue+Se*Se);B.set(0,$e)}function et(){n.enableZoom&&Z(),n.enablePan&&ot()}function Ke(){n.enableZoom&&Z(),n.enableRotate&&Lt()}function ce(ue){if(O.length==1)M.set(ue.pageX,ue.pageY);else{const $e=Bt(ue),re=.5*(ue.pageX+$e.x),Be=.5*(ue.pageY+$e.y);M.set(re,Be)}b.subVectors(M,S).multiplyScalar(n.rotateSpeed);const Se=n.domElement;Se&&(K(2*Math.PI*b.x/Se.clientHeight),ae(2*Math.PI*b.y/Se.clientHeight)),S.copy(M)}function je(ue){if(O.length==1)C.set(ue.pageX,ue.pageY);else{const Se=Bt(ue),$e=.5*(ue.pageX+Se.x),re=.5*(ue.pageY+Se.y);C.set($e,re)}w.subVectors(C,A).multiplyScalar(n.panSpeed),$(w.x,w.y),A.copy(C)}function Mt(ue){const Se=Bt(ue),$e=ue.pageX-Se.x,re=ue.pageY-Se.y,Be=Math.sqrt($e*$e+re*re);L.set(0,Be),N.set(0,Math.pow(L.y/B.y,n.zoomSpeed)),z(N.y),B.copy(L)}function rt(ue){n.enableZoom&&Mt(ue),n.enablePan&&je(ue)}function ht(ue){n.enableZoom&&Mt(ue),n.enableRotate&&ce(ue)}function qt(ue){var Se,$e;n.enabled!==!1&&(O.length===0&&((Se=n.domElement)==null||Se.ownerDocument.addEventListener("pointermove",ne),($e=n.domElement)==null||$e.ownerDocument.addEventListener("pointerup",j)),St(ue),ue.pointerType==="touch"?mt(ue):xe(ue))}function ne(ue){n.enabled!==!1&&(ue.pointerType==="touch"?vt(ue):Ge(ue))}function j(ue){var Se,$e,re;Je(ue),O.length===0&&((Se=n.domElement)==null||Se.releasePointerCapture(ue.pointerId),($e=n.domElement)==null||$e.ownerDocument.removeEventListener("pointermove",ne),(re=n.domElement)==null||re.ownerDocument.removeEventListener("pointerup",j)),n.dispatchEvent(a),c=l.NONE}function xe(ue){let Se;switch(ue.button){case 0:Se=n.mouseButtons.LEFT;break;case 1:Se=n.mouseButtons.MIDDLE;break;case 2:Se=n.mouseButtons.RIGHT;break;default:Se=-1}switch(Se){case Md.DOLLY:if(n.enableZoom===!1)return;Te(ue),c=l.DOLLY;break;case Md.ROTATE:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(n.enablePan===!1)return;we(ue),c=l.PAN}else{if(n.enableRotate===!1)return;se(ue),c=l.ROTATE}break;case Md.PAN:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(n.enableRotate===!1)return;se(ue),c=l.ROTATE}else{if(n.enablePan===!1)return;we(ue),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&n.dispatchEvent(s)}function Ge(ue){if(n.enabled!==!1)switch(c){case l.ROTATE:if(n.enableRotate===!1)return;Fe(ue);break;case l.DOLLY:if(n.enableZoom===!1)return;Ue(ue);break;case l.PAN:if(n.enablePan===!1)return;dt(ue);break}}function ze(ue){n.enabled===!1||n.enableZoom===!1||c!==l.NONE&&c!==l.ROTATE||(ue.preventDefault(),n.dispatchEvent(s),At(ue),n.dispatchEvent(a))}function Pe(ue){n.enabled===!1||n.enablePan===!1||zt(ue)}function mt(ue){switch(ft(ue),O.length){case 1:switch(n.touches.ONE){case Ed.ROTATE:if(n.enableRotate===!1)return;Lt(),c=l.TOUCH_ROTATE;break;case Ed.PAN:if(n.enablePan===!1)return;ot(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(n.touches.TWO){case Ed.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;et(),c=l.TOUCH_DOLLY_PAN;break;case Ed.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Ke(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&n.dispatchEvent(s)}function vt(ue){switch(ft(ue),c){case l.TOUCH_ROTATE:if(n.enableRotate===!1)return;ce(ue),n.update();break;case l.TOUCH_PAN:if(n.enablePan===!1)return;je(ue),n.update();break;case l.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;rt(ue),n.update();break;case l.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;ht(ue),n.update();break;default:c=l.NONE}}function Rt(ue){n.enabled!==!1&&ue.preventDefault()}function St(ue){O.push(ue)}function Je(ue){delete H[ue.pointerId];for(let Se=0;Se<O.length;Se++)if(O[Se].pointerId==ue.pointerId){O.splice(Se,1);return}}function ft(ue){let Se=H[ue.pointerId];Se===void 0&&(Se=new Ye,H[ue.pointerId]=Se),Se.set(ue.pageX,ue.pageY)}function Bt(ue){const Se=ue.pointerId===O[0].pointerId?O[1]:O[0];return H[Se.pointerId]}this.dollyIn=(ue=W())=>{oe(ue),n.update()},this.dollyOut=(ue=W())=>{z(ue),n.update()},this.getScale=()=>v,this.setScale=ue=>{pe(ue),n.update()},this.getZoomScale=()=>W(),t!==void 0&&this.connect(t),this.update()}};function BA(i){if(typeof TextDecoder<"u")return new TextDecoder().decode(i);let e="";for(let t=0,n=i.length;t<n;t++)e+=String.fromCharCode(i[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const zd="srgb",wc="srgb-linear",U3=3001,XX=3e3;class W2 extends Ms{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new KX(t)}),this.register(function(t){return new JX(t)}),this.register(function(t){return new sY(t)}),this.register(function(t){return new aY(t)}),this.register(function(t){return new oY(t)}),this.register(function(t){return new QX(t)}),this.register(function(t){return new $X(t)}),this.register(function(t){return new eY(t)}),this.register(function(t){return new tY(t)}),this.register(function(t){return new WX(t)}),this.register(function(t){return new nY(t)}),this.register(function(t){return new ZX(t)}),this.register(function(t){return new rY(t)}),this.register(function(t){return new iY(t)}),this.register(function(t){return new jX(t)}),this.register(function(t){return new lY(t)}),this.register(function(t){return new uY(t)})}load(e,t,n,r){const s=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const h=Kf.extractUrlBase(e);a=Kf.resolveURL(h,this.path)}else a=Kf.extractUrlBase(e);this.manager.itemStart(e);const l=function(h){r?r(h):console.error(h),s.manager.itemError(e),s.manager.itemEnd(e)},c=new As(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(h){try{s.parse(h,a,function(m){t(m),s.manager.itemEnd(e)},l)}catch(m){l(m)}},n,l)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let s;const a={},l={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(BA(new Uint8Array(e.slice(0,4)))===gP){try{a[Vn.KHR_BINARY_GLTF]=new cY(e)}catch(m){r&&r(m);return}s=JSON.parse(a[Vn.KHR_BINARY_GLTF].content)}else s=JSON.parse(BA(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new bY(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let h=0;h<this.pluginCallbacks.length;h++){const m=this.pluginCallbacks[h](c);m.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),l[m.name]=m,a[m.name]=!0}if(s.extensionsUsed)for(let h=0;h<s.extensionsUsed.length;++h){const m=s.extensionsUsed[h],g=s.extensionsRequired||[];switch(m){case Vn.KHR_MATERIALS_UNLIT:a[m]=new qX;break;case Vn.KHR_DRACO_MESH_COMPRESSION:a[m]=new fY(s,this.dracoLoader);break;case Vn.KHR_TEXTURE_TRANSFORM:a[m]=new hY;break;case Vn.KHR_MESH_QUANTIZATION:a[m]=new dY;break;default:g.indexOf(m)>=0&&l[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}c.setExtensions(a),c.setPlugins(l),c.parse(n,r)}parseAsync(e,t){const n=this;return new Promise(function(r,s){n.parse(e,t,r,s)})}}function YX(){let i={};return{get:function(e){return i[e]},add:function(e,t){i[e]=t},remove:function(e){delete i[e]},removeAll:function(){i={}}}}const Vn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class jX{constructor(e){this.parser=e,this.name=Vn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const s=t[n];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const s=t.json,c=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let h;const m=new wt(16777215);c.color!==void 0&&m.setRGB(c.color[0],c.color[1],c.color[2],wc);const g=c.range!==void 0?c.range:0;switch(c.type){case"directional":h=new D2(m),h.target.position.set(0,0,-1),h.add(h.target);break;case"point":h=new B2(m),h.distance=g;break;case"spot":h=new R2(m),h.distance=g,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,h.angle=c.spot.outerConeAngle,h.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,h.target.position.set(0,0,-1),h.add(h.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return h.position.set(0,0,0),h.decay=2,yc(h,c),c.intensity!==void 0&&(h.intensity=c.intensity),h.name=t.createUniqueName(c.name||"light_"+e),r=Promise.resolve(h),t.cache.add(n,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,s=n.json.nodes[e],l=(s.extensions&&s.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(c){return n._getNodeRef(t.cache,l,c)})}}class qX{constructor(){this.name=Vn.KHR_MATERIALS_UNLIT}getMaterialType(){return Ia}extendParams(e,t,n){const r=[];e.color=new wt(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const a=s.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],wc),e.opacity=a[3]}s.baseColorTexture!==void 0&&r.push(n.assignTexture(e,"map",s.baseColorTexture,zd))}return Promise.all(r)}}class WX{constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class KX{constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:nl}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(s.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const l=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ye(l,l)}return Promise.all(s)}}class JX{constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:nl}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class ZX{constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:nl}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.iridescenceFactor!==void 0&&(t.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(t.iridescenceIOR=a.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(s)}}class QX{constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:nl}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new wt(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=r.extensions[this.name];if(a.sheenColorFactor!==void 0){const l=a.sheenColorFactor;t.sheenColor.setRGB(l[0],l[1],l[2],wc)}return a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&s.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,zd)),a.sheenRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class $X{constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:nl}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&s.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(s)}}class eY{constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:nl}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];t.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&s.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const l=a.attenuationColor||[1,1,1];return t.attenuationColor=new wt().setRGB(l[0],l[1],l[2],wc),Promise.all(s)}}class tY{constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:nl}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class nY{constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:nl}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];t.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&s.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));const l=a.specularColorFactor||[1,1,1];return t.specularColor=new wt().setRGB(l[0],l[1],l[2],wc),a.specularColorTexture!==void 0&&s.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,zd)),Promise.all(s)}}class iY{constructor(e){this.parser=e,this.name=Vn.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:nl}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return t.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&s.push(n.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(s)}}class rY{constructor(e){this.parser=e,this.name=Vn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:nl}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.anisotropyStrength!==void 0&&(t.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(t.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&s.push(n.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(s)}}class sY{constructor(e){this.parser=e,this.name=Vn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,a)}}class aY{constructor(e){this.parser=e,this.name=Vn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],l=r.images[a.source];let c=n.textureLoader;if(l.uri){const h=n.options.manager.getHandler(l.uri);h!==null&&(c=h)}return this.detectSupport().then(function(h){if(h)return n.loadTextureImage(e,a.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class oY{constructor(e){this.parser=e,this.name=Vn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],l=r.images[a.source];let c=n.textureLoader;if(l.uri){const h=n.options.manager.getHandler(l.uri);h!==null&&(c=h)}return this.detectSupport().then(function(h){if(h)return n.loadTextureImage(e,a.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class lY{constructor(e){this.name=Vn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const r=n.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(l){const c=r.byteOffset||0,h=r.byteLength||0,m=r.count,g=r.byteStride,v=new Uint8Array(l,c,h);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(m,g,v,r.mode,r.filter).then(function(_){return _.buffer}):a.ready.then(function(){const _=new ArrayBuffer(m*g);return a.decodeGltfBuffer(new Uint8Array(_),m,g,v,r.mode,r.filter),_})})}else return null}}class uY{constructor(e){this.name=Vn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const r=t.meshes[n.mesh];for(const h of r.primitives)if(h.mode!==Xo.TRIANGLES&&h.mode!==Xo.TRIANGLE_STRIP&&h.mode!==Xo.TRIANGLE_FAN&&h.mode!==void 0)return null;const a=n.extensions[this.name].attributes,l=[],c={};for(const h in a)l.push(this.parser.getDependency("accessor",a[h]).then(m=>(c[h]=m,c[h])));return l.length<1?null:(l.push(this.parser.createNodeMesh(e)),Promise.all(l).then(h=>{const m=h.pop(),g=m.isGroup?m.children:[m],v=h[0].count,_=[];for(const S of g){const M=new an,b=new te,A=new ss,C=new te(1,1,1),w=new h2(S.geometry,S.material,v);for(let B=0;B<v;B++)c.TRANSLATION&&b.fromBufferAttribute(c.TRANSLATION,B),c.ROTATION&&A.fromBufferAttribute(c.ROTATION,B),c.SCALE&&C.fromBufferAttribute(c.SCALE,B),w.setMatrixAt(B,M.compose(b,A,C));for(const B in c)if(B==="_COLOR_0"){const L=c[B];w.instanceColor=new op(L.array,L.itemSize,L.normalized)}else B!=="TRANSLATION"&&B!=="ROTATION"&&B!=="SCALE"&&S.geometry.setAttribute(B,c[B]);Qn.prototype.copy.call(w,S),this.parser.assignFinalMaterial(w),_.push(w)}return m.isGroup?(m.clear(),m.add(..._),m):_[0]}))}}const gP="glTF",Mv=12,L3={JSON:1313821514,BIN:5130562};class cY{constructor(e){this.name=Vn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Mv);if(this.header={magic:BA(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==gP)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-Mv,r=new DataView(e,Mv);let s=0;for(;s<n;){const a=r.getUint32(s,!0);s+=4;const l=r.getUint32(s,!0);if(s+=4,l===L3.JSON){const c=new Uint8Array(e,Mv+s,a);this.content=BA(c)}else if(l===L3.BIN){const c=Mv+s;this.body=e.slice(c,c+a)}s+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class fY{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Vn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,l={},c={},h={};for(const m in a){const g=KT[m]||m.toLowerCase();l[g]=a[m]}for(const m in e.attributes){const g=KT[m]||m.toLowerCase();if(a[m]!==void 0){const v=n.accessors[e.attributes[m]],_=cg[v.componentType];h[g]=_.name,c[g]=v.normalized===!0}}return t.getDependency("bufferView",s).then(function(m){return new Promise(function(g,v){r.decodeDracoFile(m,function(_){for(const S in _.attributes){const M=_.attributes[S],b=c[S];b!==void 0&&(M.normalized=b)}g(_)},l,h,wc,v)})})}}class hY{constructor(){this.name=Vn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class dY{constructor(){this.name=Vn.KHR_MESH_QUANTIZATION}}class vP extends kg{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let a=0;a!==r;a++)t[a]=n[s+a];return t}interpolate_(e,t,n,r){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=l*2,h=l*3,m=r-t,g=(n-t)/m,v=g*g,_=v*g,S=e*h,M=S-h,b=-2*_+3*v,A=_-v,C=1-b,w=A-v+g;for(let B=0;B!==l;B++){const L=a[M+B+l],N=a[M+B+c]*m,I=a[S+B+l],P=a[S+B]*m;s[B]=C*L+w*N+b*I+A*P}return s}}const pY=new ss;class mY extends vP{interpolate_(e,t,n,r){const s=super.interpolate_(e,t,n,r);return pY.fromArray(s).normalize().toArray(s),s}}const Xo={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},cg={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},N3={9728:fr,9729:Jn,9984:$A,9985:og,9986:Ud,9987:Wo},P3={33071:Ar,33648:xg,10497:th},XE={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},KT={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...q2>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Pf={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},gY={CUBICSPLINE:void 0,LINEAR:Mg,STEP:bg},YE={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function vY(i){return i.DefaultMaterial===void 0&&(i.DefaultMaterial=new s_({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Gl})),i.DefaultMaterial}function xd(i,e,t){for(const n in t.extensions)i[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function yc(i,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(i.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function yY(i,e,t){let n=!1,r=!1,s=!1;for(let h=0,m=e.length;h<m;h++){const g=e[h];if(g.POSITION!==void 0&&(n=!0),g.NORMAL!==void 0&&(r=!0),g.COLOR_0!==void 0&&(s=!0),n&&r&&s)break}if(!n&&!r&&!s)return Promise.resolve(i);const a=[],l=[],c=[];for(let h=0,m=e.length;h<m;h++){const g=e[h];if(n){const v=g.POSITION!==void 0?t.getDependency("accessor",g.POSITION):i.attributes.position;a.push(v)}if(r){const v=g.NORMAL!==void 0?t.getDependency("accessor",g.NORMAL):i.attributes.normal;l.push(v)}if(s){const v=g.COLOR_0!==void 0?t.getDependency("accessor",g.COLOR_0):i.attributes.color;c.push(v)}}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(h){const m=h[0],g=h[1],v=h[2];return n&&(i.morphAttributes.position=m),r&&(i.morphAttributes.normal=g),s&&(i.morphAttributes.color=v),i.morphTargetsRelative=!0,i})}function _Y(i,e){if(i.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)i.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(i.morphTargetInfluences.length===t.length){i.morphTargetDictionary={};for(let n=0,r=t.length;n<r;n++)i.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function xY(i){let e;const t=i.extensions&&i.extensions[Vn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+jE(t.attributes):e=i.indices+":"+jE(i.attributes)+":"+i.mode,i.targets!==void 0)for(let n=0,r=i.targets.length;n<r;n++)e+=":"+jE(i.targets[n]);return e}function jE(i){let e="";const t=Object.keys(i).sort();for(let n=0,r=t.length;n<r;n++)e+=t[n]+":"+i[t[n]]+";";return e}function JT(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function SY(i){return i.search(/\.jpe?g($|\?)/i)>0||i.search(/^data\:image\/jpeg/)===0?"image/jpeg":i.search(/\.webp($|\?)/i)>0||i.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const AY=new an;class bY{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new YX,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||r&&s<98?this.textureLoader=new bN(this.options.manager):this.textureLoader=new DN(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new As(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(a){const l={scene:a[0][r.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:r.asset,parser:n,userData:{}};return xd(s,l,r),yc(l,r),Promise.all(n._invokeAll(function(c){return c.afterRoot&&c.afterRoot(l)})).then(function(){for(const c of l.scenes)c.updateMatrixWorld();e(l)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const a=t[r].joints;for(let l=0,c=a.length;l<c;l++)e[a[l]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const a=e[r];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(n[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),s=(a,l)=>{const c=this.associations.get(a);c!=null&&this.associations.set(l,c);for(const[h,m]of a.children.entries())s(m,l.children[h])};return s(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&n.push(s)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,a){return n.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Vn.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,a){n.load(Kf.resolveURL(t.uri,r.path),s,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const r=t.byteLength||0,s=t.byteOffset||0;return n.slice(s,s+r)})}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const a=XE[r.type],l=cg[r.componentType],c=r.normalized===!0,h=new l(r.count*a);return Promise.resolve(new $n(h,a,c))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(a){const l=a[0],c=XE[r.type],h=cg[r.componentType],m=h.BYTES_PER_ELEMENT,g=m*c,v=r.byteOffset||0,_=r.bufferView!==void 0?n.bufferViews[r.bufferView].byteStride:void 0,S=r.normalized===!0;let M,b;if(_&&_!==g){const A=Math.floor(v/_),C="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+A+":"+r.count;let w=t.cache.get(C);w||(M=new h(l,A*_,r.count*_/m),w=new Qy(M,_/m),t.cache.add(C,w)),b=new nh(w,c,v%_/m,S)}else l===null?M=new h(r.count*c):M=new h(l,v,r.count*c),b=new $n(M,c,S);if(r.sparse!==void 0){const A=XE.SCALAR,C=cg[r.sparse.indices.componentType],w=r.sparse.indices.byteOffset||0,B=r.sparse.values.byteOffset||0,L=new C(a[1],w,r.sparse.count*A),N=new h(a[2],B,r.sparse.count*c);l!==null&&(b=new $n(b.array.slice(),b.itemSize,b.normalized));for(let I=0,P=L.length;I<P;I++){const U=L[I];if(b.setX(U,N[I*c]),c>=2&&b.setY(U,N[I*c+1]),c>=3&&b.setZ(U,N[I*c+2]),c>=4&&b.setW(U,N[I*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return b})}loadTexture(e){const t=this.json,n=this.options,s=t.textures[e].source,a=t.images[s];let l=this.textureLoader;if(a.uri){const c=n.manager.getHandler(a.uri);c!==null&&(l=c)}return this.loadTextureImage(e,s,l)}loadTextureImage(e,t,n){const r=this,s=this.json,a=s.textures[e],l=s.images[t],c=(l.uri||l.bufferView)+":"+a.sampler;if(this.textureCache[c])return this.textureCache[c];const h=this.loadImageSource(t,n).then(function(m){m.flipY=!1,m.name=a.name||l.name||"",m.name===""&&typeof l.uri=="string"&&l.uri.startsWith("data:image/")===!1&&(m.name=l.uri);const v=(s.samplers||{})[a.sampler]||{};return m.magFilter=N3[v.magFilter]||Jn,m.minFilter=N3[v.minFilter]||Wo,m.wrapS=P3[v.wrapS]||th,m.wrapT=P3[v.wrapT]||th,r.associations.set(m,{textures:e}),m}).catch(function(){return null});return this.textureCache[c]=h,h}loadImageSource(e,t){const n=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(g=>g.clone());const a=r.images[e],l=self.URL||self.webkitURL;let c=a.uri||"",h=!1;if(a.bufferView!==void 0)c=n.getDependency("bufferView",a.bufferView).then(function(g){h=!0;const v=new Blob([g],{type:a.mimeType});return c=l.createObjectURL(v),c});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const m=Promise.resolve(c).then(function(g){return new Promise(function(v,_){let S=v;t.isImageBitmapLoader===!0&&(S=function(M){const b=new hi(M);b.needsUpdate=!0,v(b)}),t.load(Kf.resolveURL(g,s.path),S,void 0,_)})}).then(function(g){return h===!0&&l.revokeObjectURL(c),yc(g,a),g.userData.mimeType=a.mimeType||SY(a.uri),g}).catch(function(g){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),g});return this.sourceCache[e]=m,m}assignTexture(e,t,n,r){const s=this;return this.getDependency("texture",n.index).then(function(a){if(!a)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(a=a.clone(),a.channel=n.texCoord),s.extensions[Vn.KHR_TEXTURE_TRANSFORM]){const l=n.extensions!==void 0?n.extensions[Vn.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const c=s.associations.get(a);a=s.extensions[Vn.KHR_TEXTURE_TRANSFORM].extendTexture(a,l),s.associations.set(a,c)}}return r!==void 0&&(typeof r=="number"&&(r=r===U3?zd:wc),"colorSpace"in a?a.colorSpace=r:a.encoding=r===zd?U3:XX),e[t]=a,a})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){const l="PointsMaterial:"+n.uuid;let c=this.cache.get(l);c||(c=new db,Er.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,c.sizeAttenuation=!1,this.cache.add(l,c)),n=c}else if(e.isLine){const l="LineBasicMaterial:"+n.uuid;let c=this.cache.get(l);c||(c=new js,Er.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,this.cache.add(l,c)),n=c}if(r||s||a){let l="ClonedMaterial:"+n.uuid+":";r&&(l+="derivative-tangents:"),s&&(l+="vertex-colors:"),a&&(l+="flat-shading:");let c=this.cache.get(l);c||(c=n.clone(),s&&(c.vertexColors=!0),a&&(c.flatShading=!0),r&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(l,c),this.associations.set(c,this.associations.get(n))),n=c}e.material=n}getMaterialType(){return s_}loadMaterial(e){const t=this,n=this.json,r=this.extensions,s=n.materials[e];let a;const l={},c=s.extensions||{},h=[];if(c[Vn.KHR_MATERIALS_UNLIT]){const g=r[Vn.KHR_MATERIALS_UNLIT];a=g.getMaterialType(),h.push(g.extendParams(l,s,t))}else{const g=s.pbrMetallicRoughness||{};if(l.color=new wt(1,1,1),l.opacity=1,Array.isArray(g.baseColorFactor)){const v=g.baseColorFactor;l.color.setRGB(v[0],v[1],v[2],wc),l.opacity=v[3]}g.baseColorTexture!==void 0&&h.push(t.assignTexture(l,"map",g.baseColorTexture,zd)),l.metalness=g.metallicFactor!==void 0?g.metallicFactor:1,l.roughness=g.roughnessFactor!==void 0?g.roughnessFactor:1,g.metallicRoughnessTexture!==void 0&&(h.push(t.assignTexture(l,"metalnessMap",g.metallicRoughnessTexture)),h.push(t.assignTexture(l,"roughnessMap",g.metallicRoughnessTexture))),a=this._invokeOne(function(v){return v.getMaterialType&&v.getMaterialType(e)}),h.push(Promise.all(this._invokeAll(function(v){return v.extendMaterialParams&&v.extendMaterialParams(e,l)})))}s.doubleSided===!0&&(l.side=Hs);const m=s.alphaMode||YE.OPAQUE;if(m===YE.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,m===YE.MASK&&(l.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&a!==Ia&&(h.push(t.assignTexture(l,"normalMap",s.normalTexture)),l.normalScale=new Ye(1,1),s.normalTexture.scale!==void 0)){const g=s.normalTexture.scale;l.normalScale.set(g,g)}if(s.occlusionTexture!==void 0&&a!==Ia&&(h.push(t.assignTexture(l,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&a!==Ia){const g=s.emissiveFactor;l.emissive=new wt().setRGB(g[0],g[1],g[2],wc)}return s.emissiveTexture!==void 0&&a!==Ia&&h.push(t.assignTexture(l,"emissiveMap",s.emissiveTexture,zd)),Promise.all(h).then(function(){const g=new a(l);return s.name&&(g.name=s.name),yc(g,s),t.associations.set(g,{materials:e}),s.extensions&&xd(r,g,s),g})}createUniqueName(e){const t=ni.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function s(l){return n[Vn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,t).then(function(c){return I3(c,l,t)})}const a=[];for(let l=0,c=e.length;l<c;l++){const h=e[l],m=xY(h),g=r[m];if(g)a.push(g.promise);else{let v;h.extensions&&h.extensions[Vn.KHR_DRACO_MESH_COMPRESSION]?v=s(h):v=I3(new xn,h,t),r[m]={primitive:h,promise:v},a.push(v)}}return Promise.all(a)}loadMesh(e){const t=this,n=this.json,r=this.extensions,s=n.meshes[e],a=s.primitives,l=[];for(let c=0,h=a.length;c<h;c++){const m=a[c].material===void 0?vY(this.cache):this.getDependency("material",a[c].material);l.push(m)}return l.push(t.loadGeometries(a)),Promise.all(l).then(function(c){const h=c.slice(0,c.length-1),m=c[c.length-1],g=[];for(let _=0,S=m.length;_<S;_++){const M=m[_],b=a[_];let A;const C=h[_];if(b.mode===Xo.TRIANGLES||b.mode===Xo.TRIANGLE_STRIP||b.mode===Xo.TRIANGLE_FAN||b.mode===void 0)A=s.isSkinnedMesh===!0?new f2(M,C):new zi(M,C),A.isSkinnedMesh===!0&&A.normalizeSkinWeights(),b.mode===Xo.TRIANGLE_STRIP?A.geometry=B3(A.geometry,i2):b.mode===Xo.TRIANGLE_FAN&&(A.geometry=B3(A.geometry,_A));else if(b.mode===Xo.LINES)A=new Xl(M,C);else if(b.mode===Xo.LINE_STRIP)A=new Bc(M,C);else if(b.mode===Xo.LINE_LOOP)A=new d2(M,C);else if(b.mode===Xo.POINTS)A=new p2(M,C);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+b.mode);Object.keys(A.geometry.morphAttributes).length>0&&_Y(A,s),A.name=t.createUniqueName(s.name||"mesh_"+e),yc(A,s),b.extensions&&xd(r,A,b),t.assignFinalMaterial(A),g.push(A)}for(let _=0,S=g.length;_<S;_++)t.associations.set(g[_],{meshes:e,primitives:_});if(g.length===1)return s.extensions&&xd(r,g[0],s),g[0];const v=new Mc;s.extensions&&xd(r,v,s),t.associations.set(v,{meshes:e});for(let _=0,S=g.length;_<S;_++)v.add(g[_]);return v})}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new er(HL.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):n.type==="orthographic"&&(t=new Nu(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),yc(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let r=0,s=t.joints.length;r<s;r++)n.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(r){const s=r.pop(),a=r,l=[],c=[];for(let h=0,m=a.length;h<m;h++){const g=a[h];if(g){l.push(g);const v=new an;s!==null&&v.fromArray(s.array,h*16),c.push(v)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[h])}return new $y(l,c)})}loadAnimation(e){const t=this.json,n=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,a=[],l=[],c=[],h=[],m=[];for(let g=0,v=r.channels.length;g<v;g++){const _=r.channels[g],S=r.samplers[_.sampler],M=_.target,b=M.node,A=r.parameters!==void 0?r.parameters[S.input]:S.input,C=r.parameters!==void 0?r.parameters[S.output]:S.output;M.node!==void 0&&(a.push(this.getDependency("node",b)),l.push(this.getDependency("accessor",A)),c.push(this.getDependency("accessor",C)),h.push(S),m.push(M))}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(h),Promise.all(m)]).then(function(g){const v=g[0],_=g[1],S=g[2],M=g[3],b=g[4],A=[];for(let C=0,w=v.length;C<w;C++){const B=v[C],L=_[C],N=S[C],I=M[C],P=b[C];if(B===void 0)continue;B.updateMatrix&&B.updateMatrix();const U=n._createAnimationTracks(B,L,N,I,P);if(U)for(let O=0;O<U.length;O++)A.push(U[O])}return new Rg(s,void 0,A)})}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return r.mesh===void 0?null:n.getDependency("mesh",r.mesh).then(function(s){const a=n._getNodeRef(n.meshCache,r.mesh,s);return r.weights!==void 0&&a.traverse(function(l){if(l.isMesh)for(let c=0,h=r.weights.length;c<h;c++)l.morphTargetInfluences[c]=r.weights[c]}),a})}loadNode(e){const t=this.json,n=this,r=t.nodes[e],s=n._loadNodeShallow(e),a=[],l=r.children||[];for(let h=0,m=l.length;h<m;h++)a.push(n.getDependency("node",l[h]));const c=r.skin===void 0?Promise.resolve(null):n.getDependency("skin",r.skin);return Promise.all([s,Promise.all(a),c]).then(function(h){const m=h[0],g=h[1],v=h[2];v!==null&&m.traverse(function(_){_.isSkinnedMesh&&_.bind(v,AY)});for(let _=0,S=g.length;_<S;_++)m.add(g[_]);return m})}_loadNodeShallow(e){const t=this.json,n=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],a=s.name?r.createUniqueName(s.name):"",l=[],c=r._invokeOne(function(h){return h.createNodeMesh&&h.createNodeMesh(e)});return c&&l.push(c),s.camera!==void 0&&l.push(r.getDependency("camera",s.camera).then(function(h){return r._getNodeRef(r.cameraCache,s.camera,h)})),r._invokeAll(function(h){return h.createNodeAttachment&&h.createNodeAttachment(e)}).forEach(function(h){l.push(h)}),this.nodeCache[e]=Promise.all(l).then(function(h){let m;if(s.isBone===!0?m=new fb:h.length>1?m=new Mc:h.length===1?m=h[0]:m=new Qn,m!==h[0])for(let g=0,v=h.length;g<v;g++)m.add(h[g]);if(s.name&&(m.userData.name=s.name,m.name=a),yc(m,s),s.extensions&&xd(n,m,s),s.matrix!==void 0){const g=new an;g.fromArray(s.matrix),m.applyMatrix4(g)}else s.translation!==void 0&&m.position.fromArray(s.translation),s.rotation!==void 0&&m.quaternion.fromArray(s.rotation),s.scale!==void 0&&m.scale.fromArray(s.scale);return r.associations.has(m)||r.associations.set(m,{}),r.associations.get(m).nodes=e,m}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],r=this,s=new Mc;n.name&&(s.name=r.createUniqueName(n.name)),yc(s,n),n.extensions&&xd(t,s,n);const a=n.nodes||[],l=[];for(let c=0,h=a.length;c<h;c++)l.push(r.getDependency("node",a[c]));return Promise.all(l).then(function(c){for(let m=0,g=c.length;m<g;m++)s.add(c[m]);const h=m=>{const g=new Map;for(const[v,_]of r.associations)(v instanceof Er||v instanceof hi)&&g.set(v,_);return m.traverse(v=>{const _=r.associations.get(v);_!=null&&g.set(v,_)}),g};return r.associations=h(s),s})}_createAnimationTracks(e,t,n,r,s){const a=[],l=e.name?e.name:e.uuid,c=[];Pf[s.path]===Pf.weights?e.traverse(function(v){v.morphTargetInfluences&&c.push(v.name?v.name:v.uuid)}):c.push(l);let h;switch(Pf[s.path]){case Pf.weights:h=up;break;case Pf.rotation:h=cp;break;case Pf.position:case Pf.scale:h=fp;break;default:switch(n.itemSize){case 1:h=up;break;case 2:case 3:default:h=fp;break}break}const m=r.interpolation!==void 0?gY[r.interpolation]:Mg,g=this._getArrayFromAccessor(n);for(let v=0,_=c.length;v<_;v++){const S=new h(c[v]+"."+Pf[s.path],t.array,g,m);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(S),a.push(S)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=JT(t.constructor),r=new Float32Array(t.length);for(let s=0,a=t.length;s<a;s++)r[s]=t[s]*n;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const r=this instanceof cp?mY:vP;return new r(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function MY(i,e,t){const n=e.attributes,r=new Ss;if(n.POSITION!==void 0){const l=t.json.accessors[n.POSITION],c=l.min,h=l.max;if(c!==void 0&&h!==void 0){if(r.set(new te(c[0],c[1],c[2]),new te(h[0],h[1],h[2])),l.normalized){const m=JT(cg[l.componentType]);r.min.multiplyScalar(m),r.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const l=new te,c=new te;for(let h=0,m=s.length;h<m;h++){const g=s[h];if(g.POSITION!==void 0){const v=t.json.accessors[g.POSITION],_=v.min,S=v.max;if(_!==void 0&&S!==void 0){if(c.setX(Math.max(Math.abs(_[0]),Math.abs(S[0]))),c.setY(Math.max(Math.abs(_[1]),Math.abs(S[1]))),c.setZ(Math.max(Math.abs(_[2]),Math.abs(S[2]))),v.normalized){const M=JT(cg[v.componentType]);c.multiplyScalar(M)}l.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(l)}i.boundingBox=r;const a=new as;r.getCenter(a.center),a.radius=r.min.distanceTo(r.max)/2,i.boundingSphere=a}function I3(i,e,t){const n=e.attributes,r=[];function s(a,l){return t.getDependency("accessor",a).then(function(c){i.setAttribute(l,c)})}for(const a in n){const l=KT[a]||a.toLowerCase();l in i.attributes||r.push(s(n[a],l))}if(e.indices!==void 0&&!i.index){const a=t.getDependency("accessor",e.indices).then(function(l){i.setIndex(l)});r.push(a)}return yc(i,e),MY(i,e,t),Promise.all(r).then(function(){return e.targets!==void 0?yY(i,e.targets,t):i})}class EY extends C2{constructor(e){super(e),this.type=Wr}parse(e){const a=function(P,U){switch(P){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(U||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(U||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(U||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(U||""))}},m=`
`,g=function(P,U,O){U=U||1024;let V=P.pos,W=-1,K=0,ae="",G=String.fromCharCode.apply(null,new Uint16Array(P.subarray(V,V+128)));for(;0>(W=G.indexOf(m))&&K<U&&V<P.byteLength;)ae+=G,K+=G.length,V+=128,G+=String.fromCharCode.apply(null,new Uint16Array(P.subarray(V,V+128)));return-1<W?(P.pos+=K+W+1,ae+G.slice(0,W)):!1},v=function(P){const U=/^#\?(\S+)/,O=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,H=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,V=/^\s*FORMAT=(\S+)\s*$/,W=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,K={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ae,G;for((P.pos>=P.byteLength||!(ae=g(P)))&&a(1,"no header found"),(G=ae.match(U))||a(3,"bad initial token"),K.valid|=1,K.programtype=G[1],K.string+=ae+`
`;ae=g(P),ae!==!1;){if(K.string+=ae+`
`,ae.charAt(0)==="#"){K.comments+=ae+`
`;continue}if((G=ae.match(O))&&(K.gamma=parseFloat(G[1])),(G=ae.match(H))&&(K.exposure=parseFloat(G[1])),(G=ae.match(V))&&(K.valid|=2,K.format=G[1]),(G=ae.match(W))&&(K.valid|=4,K.height=parseInt(G[1],10),K.width=parseInt(G[2],10)),K.valid&2&&K.valid&4)break}return K.valid&2||a(3,"missing format specifier"),K.valid&4||a(3,"missing image size specifier"),K},_=function(P,U,O){const H=U;if(H<8||H>32767||P[0]!==2||P[1]!==2||P[2]&128)return new Uint8Array(P);H!==(P[2]<<8|P[3])&&a(3,"wrong scanline width");const V=new Uint8Array(4*U*O);V.length||a(4,"unable to allocate buffer space");let W=0,K=0;const ae=4*H,G=new Uint8Array(4),q=new Uint8Array(ae);let $=O;for(;$>0&&K<P.byteLength;){K+4>P.byteLength&&a(1),G[0]=P[K++],G[1]=P[K++],G[2]=P[K++],G[3]=P[K++],(G[0]!=2||G[1]!=2||(G[2]<<8|G[3])!=H)&&a(3,"bad rgbe scanline format");let pe=0,z;for(;pe<ae&&K<P.byteLength;){z=P[K++];const ve=z>128;if(ve&&(z-=128),(z===0||pe+z>ae)&&a(3,"bad scanline data"),ve){const Ae=P[K++];for(let se=0;se<z;se++)q[pe++]=Ae}else q.set(P.subarray(K,K+z),pe),pe+=z,K+=z}const oe=H;for(let ve=0;ve<oe;ve++){let Ae=0;V[W]=q[ve+Ae],Ae+=H,V[W+1]=q[ve+Ae],Ae+=H,V[W+2]=q[ve+Ae],Ae+=H,V[W+3]=q[ve+Ae],W+=4}$--}return V},S=function(P,U,O,H){const V=P[U+3],W=Math.pow(2,V-128)/255;O[H+0]=P[U+0]*W,O[H+1]=P[U+1]*W,O[H+2]=P[U+2]*W,O[H+3]=1},M=function(P,U,O,H){const V=P[U+3],W=Math.pow(2,V-128)/255;O[H+0]=Pd.toHalfFloat(Math.min(P[U+0]*W,65504)),O[H+1]=Pd.toHalfFloat(Math.min(P[U+1]*W,65504)),O[H+2]=Pd.toHalfFloat(Math.min(P[U+2]*W,65504)),O[H+3]=Pd.toHalfFloat(1)},b=new Uint8Array(e);b.pos=0;const A=v(b),C=A.width,w=A.height,B=_(b.subarray(b.pos),C,w);let L,N,I;switch(this.type){case qi:I=B.length/4;const P=new Float32Array(I*4);for(let O=0;O<I;O++)S(B,O*4,P,O*4);L=P,N=qi;break;case Wr:I=B.length/4;const U=new Uint16Array(I*4);for(let O=0;O<I;O++)M(B,O*4,U,O*4);L=U,N=Wr;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:C,height:w,data:L,header:A.string,gamma:A.gamma,exposure:A.exposure,type:N}}setDataType(e){return this.type=e,this}load(e,t,n,r){function s(a,l){switch(a.type){case qi:case Wr:"colorSpace"in a?a.colorSpace="srgb-linear":a.encoding=3e3,a.minFilter=Jn,a.magFilter=Jn,a.generateMipmaps=!1,a.flipY=!0;break}t&&t(a,l)}return super.load(e,s,n,r)}}const Ev=q2>=152;class TY extends C2{constructor(e){super(e),this.type=Wr}parse(e){const U=Math.pow(2.7182818,2.2);function O(X,J){for(var de=0,be=0;be<65536;++be)(be==0||X[be>>3]&1<<(be&7))&&(J[de++]=be);for(var De=de-1;de<65536;)J[de++]=0;return De}function H(X){for(var J=0;J<16384;J++)X[J]={},X[J].len=0,X[J].lit=0,X[J].p=null}const V={l:0,c:0,lc:0};function W(X,J,de,be,De){for(;de<X;)J=J<<8|Bt(be,De),de+=8;de-=X,V.l=J>>de&(1<<X)-1,V.c=J,V.lc=de}const K=new Array(59);function ae(X){for(var J=0;J<=58;++J)K[J]=0;for(var J=0;J<65537;++J)K[X[J]]+=1;for(var de=0,J=58;J>0;--J){var be=de+K[J]>>1;K[J]=de,de=be}for(var J=0;J<65537;++J){var De=X[J];De>0&&(X[J]=De|K[De]++<<6)}}function G(X,J,de,be,De,He,lt){for(var Qe=de,Y=0,ie=0;De<=He;De++){if(Qe.value-de.value>be)return!1;W(6,Y,ie,X,Qe);var fe=V.l;if(Y=V.c,ie=V.lc,lt[De]=fe,fe==63){if(Qe.value-de.value>be)throw"Something wrong with hufUnpackEncTable";W(8,Y,ie,X,Qe);var le=V.l+6;if(Y=V.c,ie=V.lc,De+le>He+1)throw"Something wrong with hufUnpackEncTable";for(;le--;)lt[De++]=0;De--}else if(fe>=59){var le=fe-59+2;if(De+le>He+1)throw"Something wrong with hufUnpackEncTable";for(;le--;)lt[De++]=0;De--}}ae(lt)}function q(X){return X&63}function $(X){return X>>6}function pe(X,J,de,be){for(;J<=de;J++){var De=$(X[J]),He=q(X[J]);if(De>>He)throw"Invalid table entry";if(He>14){var lt=be[De>>He-14];if(lt.len)throw"Invalid table entry";if(lt.lit++,lt.p){var Qe=lt.p;lt.p=new Array(lt.lit);for(var Y=0;Y<lt.lit-1;++Y)lt.p[Y]=Qe[Y]}else lt.p=new Array(1);lt.p[lt.lit-1]=J}else if(He)for(var ie=0,Y=1<<14-He;Y>0;Y--){var lt=be[(De<<14-He)+ie];if(lt.len||lt.p)throw"Invalid table entry";lt.len=He,lt.lit=J,ie++}}return!0}const z={c:0,lc:0};function oe(X,J,de,be){X=X<<8|Bt(de,be),J+=8,z.c=X,z.lc=J}const ve={c:0,lc:0};function Ae(X,J,de,be,De,He,lt,Qe,Y,ie){if(X==J){be<8&&(oe(de,be,De,lt),de=z.c,be=z.lc),be-=8;var fe=de>>be,fe=new Uint8Array([fe])[0];if(Y.value+fe>ie)return!1;for(var le=Qe[Y.value-1];fe-- >0;)Qe[Y.value++]=le}else if(Y.value<ie)Qe[Y.value++]=X;else return!1;ve.c=de,ve.lc=be}function se(X){return X&65535}function Te(X){var J=se(X);return J>32767?J-65536:J}const we={a:0,b:0};function Fe(X,J){var de=Te(X),be=Te(J),De=be,He=de+(De&1)+(De>>1),lt=He,Qe=He-De;we.a=lt,we.b=Qe}function Ue(X,J){var de=se(X),be=se(J),De=de-(be>>1)&65535,He=be+De-32768&65535;we.a=He,we.b=De}function dt(X,J,de,be,De,He,lt){for(var Qe=lt<16384,Y=de>De?De:de,ie=1,fe;ie<=Y;)ie<<=1;for(ie>>=1,fe=ie,ie>>=1;ie>=1;){for(var le=0,ge=le+He*(De-fe),Re=He*ie,Xe=He*fe,it=be*ie,st=be*fe,_t,bt,Ct,Gt;le<=ge;le+=Xe){for(var Kt=le,On=le+be*(de-fe);Kt<=On;Kt+=st){var Vt=Kt+it,Qt=Kt+Re,kt=Qt+it;Qe?(Fe(X[Kt+J],X[Qt+J]),_t=we.a,Ct=we.b,Fe(X[Vt+J],X[kt+J]),bt=we.a,Gt=we.b,Fe(_t,bt),X[Kt+J]=we.a,X[Vt+J]=we.b,Fe(Ct,Gt),X[Qt+J]=we.a,X[kt+J]=we.b):(Ue(X[Kt+J],X[Qt+J]),_t=we.a,Ct=we.b,Ue(X[Vt+J],X[kt+J]),bt=we.a,Gt=we.b,Ue(_t,bt),X[Kt+J]=we.a,X[Vt+J]=we.b,Ue(Ct,Gt),X[Qt+J]=we.a,X[kt+J]=we.b)}if(de&ie){var Qt=Kt+Re;Qe?Fe(X[Kt+J],X[Qt+J]):Ue(X[Kt+J],X[Qt+J]),_t=we.a,X[Qt+J]=we.b,X[Kt+J]=_t}}if(De&ie)for(var Kt=le,On=le+be*(de-fe);Kt<=On;Kt+=st){var Vt=Kt+it;Qe?Fe(X[Kt+J],X[Vt+J]):Ue(X[Kt+J],X[Vt+J]),_t=we.a,X[Vt+J]=we.b,X[Kt+J]=_t}fe=ie,ie>>=1}return le}function At(X,J,de,be,De,He,lt,Qe,Y,ie){for(var fe=0,le=0,ge=Qe,Re=Math.trunc(De.value+(He+7)/8);De.value<Re;)for(oe(fe,le,de,De),fe=z.c,le=z.lc;le>=14;){var Xe=fe>>le-14&16383,it=J[Xe];if(it.len)le-=it.len,Ae(it.lit,lt,fe,le,de,be,De,Y,ie,ge),fe=ve.c,le=ve.lc;else{if(!it.p)throw"hufDecode issues";var st;for(st=0;st<it.lit;st++){for(var _t=q(X[it.p[st]]);le<_t&&De.value<Re;)oe(fe,le,de,De),fe=z.c,le=z.lc;if(le>=_t&&$(X[it.p[st]])==(fe>>le-_t&(1<<_t)-1)){le-=_t,Ae(it.p[st],lt,fe,le,de,be,De,Y,ie,ge),fe=ve.c,le=ve.lc;break}}if(st==it.lit)throw"hufDecode issues"}}var bt=8-He&7;for(fe>>=bt,le-=bt;le>0;){var it=J[fe<<14-le&16383];if(it.len)le-=it.len,Ae(it.lit,lt,fe,le,de,be,De,Y,ie,ge),fe=ve.c,le=ve.lc;else throw"hufDecode issues"}return!0}function zt(X,J,de,be,De,He){var lt={value:0},Qe=de.value,Y=ft(J,de),ie=ft(J,de);de.value+=4;var fe=ft(J,de);if(de.value+=4,Y<0||Y>=65537||ie<0||ie>=65537)throw"Something wrong with HUF_ENCSIZE";var le=new Array(65537),ge=new Array(16384);H(ge);var Re=be-(de.value-Qe);if(G(X,J,de,Re,Y,ie,le),fe>8*(be-(de.value-Qe)))throw"Something wrong with hufUncompress";pe(le,Y,ie,ge),At(le,ge,X,J,de,fe,ie,He,De,lt)}function Lt(X,J,de){for(var be=0;be<de;++be)J[be]=X[J[be]]}function ot(X){for(var J=1;J<X.length;J++){var de=X[J-1]+X[J]-128;X[J]=de}}function Z(X,J){for(var de=0,be=Math.floor((X.length+1)/2),De=0,He=X.length-1;!(De>He||(J[De++]=X[de++],De>He));)J[De++]=X[be++]}function et(X){for(var J=X.byteLength,de=new Array,be=0,De=new DataView(X);J>0;){var He=De.getInt8(be++);if(He<0){var lt=-He;J-=lt+1;for(var Qe=0;Qe<lt;Qe++)de.push(De.getUint8(be++))}else{var lt=He;J-=2;for(var Y=De.getUint8(be++),Qe=0;Qe<lt+1;Qe++)de.push(Y)}}return de}function Ke(X,J,de,be,De,He){var Vt=new DataView(He.buffer),lt=de[X.idx[0]].width,Qe=de[X.idx[0]].height,Y=3,ie=Math.floor(lt/8),fe=Math.ceil(lt/8),le=Math.ceil(Qe/8),ge=lt-(fe-1)*8,Re=Qe-(le-1)*8,Xe={value:0},it=new Array(Y),st=new Array(Y),_t=new Array(Y),bt=new Array(Y),Ct=new Array(Y);for(let vn=0;vn<Y;++vn)Ct[vn]=J[X.idx[vn]],it[vn]=vn<1?0:it[vn-1]+fe*le,st[vn]=new Float32Array(64),_t[vn]=new Uint16Array(64),bt[vn]=new Uint16Array(fe*64);for(let vn=0;vn<le;++vn){var Gt=8;vn==le-1&&(Gt=Re);var Kt=8;for(let rn=0;rn<fe;++rn){rn==fe-1&&(Kt=ge);for(let Cn=0;Cn<Y;++Cn)_t[Cn].fill(0),_t[Cn][0]=De[it[Cn]++],ce(Xe,be,_t[Cn]),je(_t[Cn],st[Cn]),Mt(st[Cn]);rt(st);for(let Cn=0;Cn<Y;++Cn)ht(st[Cn],bt[Cn],rn*64)}let vi=0;for(let rn=0;rn<Y;++rn){const Cn=de[X.idx[rn]].type;for(let Mn=8*vn;Mn<8*vn+Gt;++Mn){vi=Ct[rn][Mn];for(let Ri=0;Ri<ie;++Ri){const kn=Ri*64+(Mn&7)*8;Vt.setUint16(vi+0*2*Cn,bt[rn][kn+0],!0),Vt.setUint16(vi+1*2*Cn,bt[rn][kn+1],!0),Vt.setUint16(vi+2*2*Cn,bt[rn][kn+2],!0),Vt.setUint16(vi+3*2*Cn,bt[rn][kn+3],!0),Vt.setUint16(vi+4*2*Cn,bt[rn][kn+4],!0),Vt.setUint16(vi+5*2*Cn,bt[rn][kn+5],!0),Vt.setUint16(vi+6*2*Cn,bt[rn][kn+6],!0),Vt.setUint16(vi+7*2*Cn,bt[rn][kn+7],!0),vi+=8*2*Cn}}if(ie!=fe)for(let Mn=8*vn;Mn<8*vn+Gt;++Mn){const Ri=Ct[rn][Mn]+8*ie*2*Cn,kn=ie*64+(Mn&7)*8;for(let yi=0;yi<Kt;++yi)Vt.setUint16(Ri+yi*2*Cn,bt[rn][kn+yi],!0)}}}for(var On=new Uint16Array(lt),Vt=new DataView(He.buffer),Qt=0;Qt<Y;++Qt){de[X.idx[Qt]].decoded=!0;var kt=de[X.idx[Qt]].type;if(de[Qt].type==2)for(var di=0;di<Qe;++di){const vn=Ct[Qt][di];for(var hn=0;hn<lt;++hn)On[hn]=Vt.getUint16(vn+hn*2*kt,!0);for(var hn=0;hn<lt;++hn)Vt.setFloat32(vn+hn*2*kt,Be(On[hn]),!0)}}}function ce(X,J,de){for(var be,De=1;De<64;)be=J[X.value],be==65280?De=64:be>>8==255?De+=be&255:(de[De]=be,De++),X.value++}function je(X,J){J[0]=Be(X[0]),J[1]=Be(X[1]),J[2]=Be(X[5]),J[3]=Be(X[6]),J[4]=Be(X[14]),J[5]=Be(X[15]),J[6]=Be(X[27]),J[7]=Be(X[28]),J[8]=Be(X[2]),J[9]=Be(X[4]),J[10]=Be(X[7]),J[11]=Be(X[13]),J[12]=Be(X[16]),J[13]=Be(X[26]),J[14]=Be(X[29]),J[15]=Be(X[42]),J[16]=Be(X[3]),J[17]=Be(X[8]),J[18]=Be(X[12]),J[19]=Be(X[17]),J[20]=Be(X[25]),J[21]=Be(X[30]),J[22]=Be(X[41]),J[23]=Be(X[43]),J[24]=Be(X[9]),J[25]=Be(X[11]),J[26]=Be(X[18]),J[27]=Be(X[24]),J[28]=Be(X[31]),J[29]=Be(X[40]),J[30]=Be(X[44]),J[31]=Be(X[53]),J[32]=Be(X[10]),J[33]=Be(X[19]),J[34]=Be(X[23]),J[35]=Be(X[32]),J[36]=Be(X[39]),J[37]=Be(X[45]),J[38]=Be(X[52]),J[39]=Be(X[54]),J[40]=Be(X[20]),J[41]=Be(X[22]),J[42]=Be(X[33]),J[43]=Be(X[38]),J[44]=Be(X[46]),J[45]=Be(X[51]),J[46]=Be(X[55]),J[47]=Be(X[60]),J[48]=Be(X[21]),J[49]=Be(X[34]),J[50]=Be(X[37]),J[51]=Be(X[47]),J[52]=Be(X[50]),J[53]=Be(X[56]),J[54]=Be(X[59]),J[55]=Be(X[61]),J[56]=Be(X[35]),J[57]=Be(X[36]),J[58]=Be(X[48]),J[59]=Be(X[49]),J[60]=Be(X[57]),J[61]=Be(X[58]),J[62]=Be(X[62]),J[63]=Be(X[63])}function Mt(X){const J=.5*Math.cos(.7853975),de=.5*Math.cos(3.14159/16),be=.5*Math.cos(3.14159/8),De=.5*Math.cos(3*3.14159/16),He=.5*Math.cos(5*3.14159/16),lt=.5*Math.cos(3*3.14159/8),Qe=.5*Math.cos(7*3.14159/16);for(var Y=new Array(4),ie=new Array(4),fe=new Array(4),le=new Array(4),ge=0;ge<8;++ge){var Re=ge*8;Y[0]=be*X[Re+2],Y[1]=lt*X[Re+2],Y[2]=be*X[Re+6],Y[3]=lt*X[Re+6],ie[0]=de*X[Re+1]+De*X[Re+3]+He*X[Re+5]+Qe*X[Re+7],ie[1]=De*X[Re+1]-Qe*X[Re+3]-de*X[Re+5]-He*X[Re+7],ie[2]=He*X[Re+1]-de*X[Re+3]+Qe*X[Re+5]+De*X[Re+7],ie[3]=Qe*X[Re+1]-He*X[Re+3]+De*X[Re+5]-de*X[Re+7],fe[0]=J*(X[Re+0]+X[Re+4]),fe[3]=J*(X[Re+0]-X[Re+4]),fe[1]=Y[0]+Y[3],fe[2]=Y[1]-Y[2],le[0]=fe[0]+fe[1],le[1]=fe[3]+fe[2],le[2]=fe[3]-fe[2],le[3]=fe[0]-fe[1],X[Re+0]=le[0]+ie[0],X[Re+1]=le[1]+ie[1],X[Re+2]=le[2]+ie[2],X[Re+3]=le[3]+ie[3],X[Re+4]=le[3]-ie[3],X[Re+5]=le[2]-ie[2],X[Re+6]=le[1]-ie[1],X[Re+7]=le[0]-ie[0]}for(var Xe=0;Xe<8;++Xe)Y[0]=be*X[16+Xe],Y[1]=lt*X[16+Xe],Y[2]=be*X[48+Xe],Y[3]=lt*X[48+Xe],ie[0]=de*X[8+Xe]+De*X[24+Xe]+He*X[40+Xe]+Qe*X[56+Xe],ie[1]=De*X[8+Xe]-Qe*X[24+Xe]-de*X[40+Xe]-He*X[56+Xe],ie[2]=He*X[8+Xe]-de*X[24+Xe]+Qe*X[40+Xe]+De*X[56+Xe],ie[3]=Qe*X[8+Xe]-He*X[24+Xe]+De*X[40+Xe]-de*X[56+Xe],fe[0]=J*(X[Xe]+X[32+Xe]),fe[3]=J*(X[Xe]-X[32+Xe]),fe[1]=Y[0]+Y[3],fe[2]=Y[1]-Y[2],le[0]=fe[0]+fe[1],le[1]=fe[3]+fe[2],le[2]=fe[3]-fe[2],le[3]=fe[0]-fe[1],X[0+Xe]=le[0]+ie[0],X[8+Xe]=le[1]+ie[1],X[16+Xe]=le[2]+ie[2],X[24+Xe]=le[3]+ie[3],X[32+Xe]=le[3]-ie[3],X[40+Xe]=le[2]-ie[2],X[48+Xe]=le[1]-ie[1],X[56+Xe]=le[0]-ie[0]}function rt(X){for(var J=0;J<64;++J){var de=X[0][J],be=X[1][J],De=X[2][J];X[0][J]=de+1.5747*De,X[1][J]=de-.1873*be-.4682*De,X[2][J]=de+1.8556*be}}function ht(X,J,de){for(var be=0;be<64;++be)J[de+be]=Pd.toHalfFloat(qt(X[be]))}function qt(X){return X<=1?Math.sign(X)*Math.pow(Math.abs(X),2.2):Math.sign(X)*Math.pow(U,Math.abs(X)-1)}function ne(X){return new DataView(X.array.buffer,X.offset.value,X.size)}function j(X){var J=X.viewer.buffer.slice(X.offset.value,X.offset.value+X.size),de=new Uint8Array(et(J)),be=new Uint8Array(de.length);return ot(de),Z(de,be),new DataView(be.buffer)}function xe(X){var J=X.array.slice(X.offset.value,X.offset.value+X.size),de=Wx(J),be=new Uint8Array(de.length);return ot(de),Z(de,be),new DataView(be.buffer)}function Ge(X){for(var J=X.viewer,de={value:X.offset.value},be=new Uint16Array(X.width*X.scanlineBlockSize*(X.channels*X.type)),De=new Uint8Array(8192),He=0,lt=new Array(X.channels),Qe=0;Qe<X.channels;Qe++)lt[Qe]={},lt[Qe].start=He,lt[Qe].end=lt[Qe].start,lt[Qe].nx=X.width,lt[Qe].ny=X.lines,lt[Qe].size=X.type,He+=lt[Qe].nx*lt[Qe].ny*lt[Qe].size;var Y=qe(J,de),ie=qe(J,de);if(ie>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Y<=ie)for(var Qe=0;Qe<ie-Y+1;Qe++)De[Qe+Y]=ue(J,de);var fe=new Uint16Array(65536),le=O(De,fe),ge=ft(J,de);zt(X.array,J,de,ge,be,He);for(var Qe=0;Qe<X.channels;++Qe)for(var Re=lt[Qe],Xe=0;Xe<lt[Qe].size;++Xe)dt(be,Re.start+Xe,Re.nx,Re.size,Re.ny,Re.nx*Re.size,le);Lt(fe,be,He);for(var it=0,st=new Uint8Array(be.buffer.byteLength),_t=0;_t<X.lines;_t++)for(var bt=0;bt<X.channels;bt++){var Re=lt[bt],Ct=Re.nx*Re.size,Gt=new Uint8Array(be.buffer,Re.end*2,Ct*2);st.set(Gt,it),it+=Ct*2,Re.end+=Ct}return new DataView(st.buffer)}function ze(X){var J=X.array.slice(X.offset.value,X.offset.value+X.size),de=Wx(J);const be=X.lines*X.channels*X.width,De=X.type==1?new Uint16Array(be):new Uint32Array(be);let He=0,lt=0;const Qe=new Array(4);for(let Y=0;Y<X.lines;Y++)for(let ie=0;ie<X.channels;ie++){let fe=0;switch(X.type){case 1:Qe[0]=He,Qe[1]=Qe[0]+X.width,He=Qe[1]+X.width;for(let le=0;le<X.width;++le){const ge=de[Qe[0]++]<<8|de[Qe[1]++];fe+=ge,De[lt]=fe,lt++}break;case 2:Qe[0]=He,Qe[1]=Qe[0]+X.width,Qe[2]=Qe[1]+X.width,He=Qe[2]+X.width;for(let le=0;le<X.width;++le){const ge=de[Qe[0]++]<<24|de[Qe[1]++]<<16|de[Qe[2]++]<<8;fe+=ge,De[lt]=fe,lt++}break}}return new DataView(De.buffer)}function Pe(X){var J=X.viewer,de={value:X.offset.value},be=new Uint8Array(X.width*X.lines*(X.channels*X.type*2)),De={version:Se(J,de),unknownUncompressedSize:Se(J,de),unknownCompressedSize:Se(J,de),acCompressedSize:Se(J,de),dcCompressedSize:Se(J,de),rleCompressedSize:Se(J,de),rleUncompressedSize:Se(J,de),rleRawSize:Se(J,de),totalAcUncompressedCount:Se(J,de),totalDcUncompressedCount:Se(J,de),acCompression:Se(J,de)};if(De.version<2)throw"EXRLoader.parse: "+en.compression+" version "+De.version+" is unsupported";for(var He=new Array,lt=qe(J,de)-2;lt>0;){var Qe=mt(J.buffer,de),Y=ue(J,de),ie=Y>>2&3,fe=(Y>>4)-1,le=new Int8Array([fe])[0],ge=ue(J,de);He.push({name:Qe,index:le,type:ge,compression:ie}),lt-=Qe.length+3}for(var Re=en.channels,Xe=new Array(X.channels),it=0;it<X.channels;++it){var st=Xe[it]={},_t=Re[it];st.name=_t.name,st.compression=0,st.decoded=!1,st.type=_t.pixelType,st.pLinear=_t.pLinear,st.width=X.width,st.height=X.lines}for(var bt={idx:new Array(3)},Ct=0;Ct<X.channels;++Ct)for(var st=Xe[Ct],it=0;it<He.length;++it){var Gt=He[it];st.name==Gt.name&&(st.compression=Gt.compression,Gt.index>=0&&(bt.idx[Gt.index]=Ct),st.offset=Ct)}if(De.acCompressedSize>0)switch(De.acCompression){case 0:var Vt=new Uint16Array(De.totalAcUncompressedCount);zt(X.array,J,de,De.acCompressedSize,Vt,De.totalAcUncompressedCount);break;case 1:var Kt=X.array.slice(de.value,de.value+De.totalAcUncompressedCount),On=Wx(Kt),Vt=new Uint16Array(On.buffer);de.value+=De.totalAcUncompressedCount;break}if(De.dcCompressedSize>0){var Qt={array:X.array,offset:de,size:De.dcCompressedSize},kt=new Uint16Array(xe(Qt).buffer);de.value+=De.dcCompressedSize}if(De.rleRawSize>0){var Kt=X.array.slice(de.value,de.value+De.rleCompressedSize),On=Wx(Kt),di=et(On.buffer);de.value+=De.rleCompressedSize}for(var hn=0,vn=new Array(Xe.length),it=0;it<vn.length;++it)vn[it]=new Array;for(var vi=0;vi<X.lines;++vi)for(var rn=0;rn<Xe.length;++rn)vn[rn].push(hn),hn+=Xe[rn].width*X.type*2;Ke(bt,vn,Xe,Vt,kt,be);for(var it=0;it<Xe.length;++it){var st=Xe[it];if(!st.decoded)switch(st.compression){case 2:for(var Cn=0,Mn=0,vi=0;vi<X.lines;++vi){for(var Ri=vn[it][Cn],kn=0;kn<st.width;++kn){for(var yi=0;yi<2*st.type;++yi)be[Ri++]=di[Mn+yi*st.width*st.height];Mn++}Cn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(be.buffer)}function mt(X,J){for(var de=new Uint8Array(X),be=0;de[J.value+be]!=0;)be+=1;var De=new TextDecoder().decode(de.slice(J.value,J.value+be));return J.value=J.value+be+1,De}function vt(X,J,de){var be=new TextDecoder().decode(new Uint8Array(X).slice(J.value,J.value+de));return J.value=J.value+de,be}function Rt(X,J){var de=Je(X,J),be=ft(X,J);return[de,be]}function St(X,J){var de=ft(X,J),be=ft(X,J);return[de,be]}function Je(X,J){var de=X.getInt32(J.value,!0);return J.value=J.value+4,de}function ft(X,J){var de=X.getUint32(J.value,!0);return J.value=J.value+4,de}function Bt(X,J){var de=X[J.value];return J.value=J.value+1,de}function ue(X,J){var de=X.getUint8(J.value);return J.value=J.value+1,de}const Se=function(X,J){let de;return"getBigInt64"in DataView.prototype?de=Number(X.getBigInt64(J.value,!0)):de=X.getUint32(J.value+4,!0)+Number(X.getUint32(J.value,!0)<<32),J.value+=8,de};function $e(X,J){var de=X.getFloat32(J.value,!0);return J.value+=4,de}function re(X,J){return Pd.toHalfFloat($e(X,J))}function Be(X){var J=(X&31744)>>10,de=X&1023;return(X>>15?-1:1)*(J?J===31?de?NaN:1/0:Math.pow(2,J-15)*(1+de/1024):6103515625e-14*(de/1024))}function qe(X,J){var de=X.getUint16(J.value,!0);return J.value+=2,de}function gt(X,J){return Be(qe(X,J))}function ut(X,J,de,be){for(var De=de.value,He=[];de.value<De+be-1;){var lt=mt(J,de),Qe=Je(X,de),Y=ue(X,de);de.value+=3;var ie=Je(X,de),fe=Je(X,de);He.push({name:lt,pixelType:Qe,pLinear:Y,xSampling:ie,ySampling:fe})}return de.value+=1,He}function Ze(X,J){var de=$e(X,J),be=$e(X,J),De=$e(X,J),He=$e(X,J),lt=$e(X,J),Qe=$e(X,J),Y=$e(X,J),ie=$e(X,J);return{redX:de,redY:be,greenX:De,greenY:He,blueX:lt,blueY:Qe,whiteX:Y,whiteY:ie}}function Tt(X,J){var de=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],be=ue(X,J);return de[be]}function Pt(X,J){var de=ft(X,J),be=ft(X,J),De=ft(X,J),He=ft(X,J);return{xMin:de,yMin:be,xMax:De,yMax:He}}function fn(X,J){var de=["INCREASING_Y"],be=ue(X,J);return de[be]}function Et(X,J){var de=$e(X,J),be=$e(X,J);return[de,be]}function It(X,J){var de=$e(X,J),be=$e(X,J),De=$e(X,J);return[de,be,De]}function Jt(X,J,de,be,De){if(be==="string"||be==="stringvector"||be==="iccProfile")return vt(J,de,De);if(be==="chlist")return ut(X,J,de,De);if(be==="chromaticities")return Ze(X,de);if(be==="compression")return Tt(X,de);if(be==="box2i")return Pt(X,de);if(be==="lineOrder")return fn(X,de);if(be==="float")return $e(X,de);if(be==="v2f")return Et(X,de);if(be==="v3f")return It(X,de);if(be==="int")return Je(X,de);if(be==="rational")return Rt(X,de);if(be==="timecode")return St(X,de);if(be==="preview")return de.value+=De,"skipped";de.value+=De}function pt(X,J,de){const be={};if(X.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";be.version=X.getUint8(4);const De=X.getUint8(5);be.spec={singleTile:!!(De&2),longName:!!(De&4),deepFormat:!!(De&8),multiPart:!!(De&16)},de.value=8;for(var He=!0;He;){var lt=mt(J,de);if(lt==0)He=!1;else{var Qe=mt(J,de),Y=ft(X,de),ie=Jt(X,J,de,Qe,Y);ie===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Qe}'.`):be[lt]=ie}}if((De&-5)!=0)throw console.error("EXRHeader:",be),"THREE.EXRLoader: provided file is currently unsupported.";return be}function Ht(X,J,de,be,De){const He={size:0,viewer:J,array:de,offset:be,width:X.dataWindow.xMax-X.dataWindow.xMin+1,height:X.dataWindow.yMax-X.dataWindow.yMin+1,channels:X.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:X.channels[0].pixelType,uncompress:null,getter:null,format:null,[Ev?"colorSpace":"encoding"]:null};switch(X.compression){case"NO_COMPRESSION":He.lines=1,He.uncompress=ne;break;case"RLE_COMPRESSION":He.lines=1,He.uncompress=j;break;case"ZIPS_COMPRESSION":He.lines=1,He.uncompress=xe;break;case"ZIP_COMPRESSION":He.lines=16,He.uncompress=xe;break;case"PIZ_COMPRESSION":He.lines=32,He.uncompress=Ge;break;case"PXR24_COMPRESSION":He.lines=16,He.uncompress=ze;break;case"DWAA_COMPRESSION":He.lines=32,He.uncompress=Pe;break;case"DWAB_COMPRESSION":He.lines=256,He.uncompress=Pe;break;default:throw"EXRLoader.parse: "+X.compression+" is unsupported"}if(He.scanlineBlockSize=He.lines,He.type==1)switch(De){case qi:He.getter=gt,He.inputSize=2;break;case Wr:He.getter=qe,He.inputSize=2;break}else if(He.type==2)switch(De){case qi:He.getter=$e,He.inputSize=4;break;case Wr:He.getter=re,He.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+He.type+" for "+X.compression+".";He.blockCount=(X.dataWindow.yMax+1)/He.scanlineBlockSize;for(var lt=0;lt<He.blockCount;lt++)Se(J,be);He.outputChannels=He.channels==3?4:He.channels;const Qe=He.width*He.height*He.outputChannels;switch(De){case qi:He.byteArray=new Float32Array(Qe),He.channels<He.outputChannels&&He.byteArray.fill(1,0,Qe);break;case Wr:He.byteArray=new Uint16Array(Qe),He.channels<He.outputChannels&&He.byteArray.fill(15360,0,Qe);break;default:console.error("THREE.EXRLoader: unsupported type: ",De);break}return He.bytesPerLine=He.width*He.inputSize*He.channels,He.outputChannels==4?He.format=br:He.format=Wy,Ev?He.colorSpace="srgb-linear":He.encoding=3e3,He}const Dt=new DataView(e),Wt=new Uint8Array(e),ai={value:0},en=pt(Dt,e,ai),Nt=Ht(en,Dt,Wt,ai,this.type),ii={value:0},tn={R:0,G:1,B:2,A:3,Y:0};for(let X=0;X<Nt.height/Nt.scanlineBlockSize;X++){const J=ft(Dt,ai);Nt.size=ft(Dt,ai),Nt.lines=J+Nt.scanlineBlockSize>Nt.height?Nt.height-J:Nt.scanlineBlockSize;const be=Nt.size<Nt.lines*Nt.bytesPerLine?Nt.uncompress(Nt):ne(Nt);ai.value+=Nt.size;for(let De=0;De<Nt.scanlineBlockSize;De++){const He=De+X*Nt.scanlineBlockSize;if(He>=Nt.height)break;for(let lt=0;lt<Nt.channels;lt++){const Qe=tn[en.channels[lt].name];for(let Y=0;Y<Nt.width;Y++){ii.value=(De*(Nt.channels*Nt.width)+lt*Nt.width+Y)*Nt.inputSize;const ie=(Nt.height-1-He)*(Nt.width*Nt.outputChannels)+Y*Nt.outputChannels+Qe;Nt.byteArray[ie]=Nt.getter(be,ii)}}}}return{header:en,width:Nt.width,height:Nt.height,data:Nt.byteArray,format:Nt.format,[Ev?"colorSpace":"encoding"]:Nt[Ev?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,n,r){function s(a,l){Ev?a.colorSpace=l.colorSpace:a.encoding=l.encoding,a.minFilter=Jn,a.magFilter=Jn,a.generateMipmaps=!1,a.flipY=!1,t&&t(a,l)}return super.load(e,s,n,r)}}const qE=new WeakMap;class CY extends Ms{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,r){const s=new As(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,a=>{const l={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,l).then(t).catch(r)},n,r)}decodeDracoFile(e,t,n,r){const s={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const c in t.attributeTypes){const h=t.attributeTypes[c];h.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[c]=h.name)}const n=JSON.stringify(t);if(qE.has(e)){const c=qE.get(e);if(c.key===n)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,a=e.byteLength,l=this._getWorker(s,a).then(c=>(r=c,new Promise((h,m)=>{r._callbacks[s]={resolve:h,reject:m},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return l.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),qE.set(e,{key:n,promise:l}),l}_createGeometry(e){const t=new xn;e.index&&t.setIndex(new $n(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],s=r.name,a=r.array,l=r.itemSize;t.setAttribute(s,new $n(a,l))}return t}_loadLibrary(e,t){const n=new As(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((r,s)=>{n.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const r=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const s=wY.toString(),a=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const a=s.data;switch(a.type){case"decode":r._callbacks[a.id].resolve(a);break;case"error":r._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function wY(){let i,e;onmessage=function(a){const l=a.data;switch(l.type){case"init":i=l.decoderConfig,e=new Promise(function(m){i.onModuleLoaded=function(g){m({draco:g})},DracoDecoderModule(i)});break;case"decode":const c=l.buffer,h=l.taskConfig;e.then(m=>{const g=m.draco,v=new g.Decoder,_=new g.DecoderBuffer;_.Init(new Int8Array(c),c.byteLength);try{const S=t(g,v,_,h),M=S.attributes.map(b=>b.array.buffer);S.index&&M.push(S.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:S},M)}catch(S){console.error(S),self.postMessage({type:"error",id:l.id,error:S.message})}finally{g.destroy(_),g.destroy(v)}});break}};function t(a,l,c,h){const m=h.attributeIDs,g=h.attributeTypes;let v,_;const S=l.GetEncodedGeometryType(c);if(S===a.TRIANGULAR_MESH)v=new a.Mesh,_=l.DecodeBufferToMesh(c,v);else if(S===a.POINT_CLOUD)v=new a.PointCloud,_=l.DecodeBufferToPointCloud(c,v);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!_.ok()||v.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+_.error_msg());const M={index:null,attributes:[]};for(const b in m){const A=self[g[b]];let C,w;if(h.useUniqueIDs)w=m[b],C=l.GetAttributeByUniqueId(v,w);else{if(w=l.GetAttributeId(v,a[m[b]]),w===-1)continue;C=l.GetAttribute(v,w)}M.attributes.push(r(a,l,v,b,A,C))}return S===a.TRIANGULAR_MESH&&(M.index=n(a,l,v)),a.destroy(v),M}function n(a,l,c){const m=c.num_faces()*3,g=m*4,v=a._malloc(g);l.GetTrianglesUInt32Array(c,g,v);const _=new Uint32Array(a.HEAPF32.buffer,v,m).slice();return a._free(v),{array:_,itemSize:1}}function r(a,l,c,h,m,g){const v=g.num_components(),S=c.num_points()*v,M=S*m.BYTES_PER_ELEMENT,b=s(a,m),A=a._malloc(M);l.GetAttributeDataArrayForAllPoints(c,g,b,M,A);const C=new m(a.HEAPF32.buffer,A,S).slice();return a._free(A),{name:h,array:C,itemSize:v}}function s(a,l){switch(l){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}let Jx;const WE=()=>{if(Jx)return Jx;const i="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),n=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=i;WebAssembly.validate(t)&&(r=e);let s;const a=WebAssembly.instantiate(l(r),{}).then(g=>{s=g.instance,s.exports.__wasm_call_ctors()});function l(g){const v=new Uint8Array(g.length);for(let S=0;S<g.length;++S){const M=g.charCodeAt(S);v[S]=M>96?M-71:M>64?M-65:M>47?M+4:M>46?63:62}let _=0;for(let S=0;S<g.length;++S)v[_++]=v[S]<60?n[v[S]]:(v[S]-60)*64+v[++S];return v.buffer.slice(0,_)}function c(g,v,_,S,M,b){const A=s.exports.sbrk,C=_+3&-4,w=A(C*S),B=A(M.length),L=new Uint8Array(s.exports.memory.buffer);L.set(M,B);const N=g(w,_,S,B,M.length);if(N===0&&b&&b(w,C,S),v.set(L.subarray(w,w+_*S)),A(w-A(0)),N!==0)throw new Error(`Malformed buffer data: ${N}`)}const h={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},m={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Jx={ready:a,supported:!0,decodeVertexBuffer(g,v,_,S,M){c(s.exports.meshopt_decodeVertexBuffer,g,v,_,S,s.exports[h[M]])},decodeIndexBuffer(g,v,_,S){c(s.exports.meshopt_decodeIndexBuffer,g,v,_,S)},decodeIndexSequence(g,v,_,S){c(s.exports.meshopt_decodeIndexSequence,g,v,_,S)},decodeGltfBuffer(g,v,_,S,M,b){c(s.exports[m[M]],g,v,_,S,s.exports[h[b]])}},Jx};let Zx=null,yP="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function _P(i=!0,e=!0,t){return n=>{t&&t(n),i&&(Zx||(Zx=new CY),Zx.setDecoderPath(typeof i=="string"?i:yP),n.setDRACOLoader(Zx)),e&&n.setMeshoptDecoder(typeof WE=="function"?WE():WE)}}const Dg=(i,e,t,n)=>Dc(W2,i,_P(e,t,n));Dg.preload=(i,e,t,n)=>Dc.preload(W2,i,_P(e,t,n));Dg.clear=i=>Dc.clear(W2,i);Dg.setDecoderPath=i=>{yP=i};const RY=Me.forwardRef(({makeDefault:i,camera:e,regress:t,domElement:n,enableDamping:r=!0,keyEvents:s=!1,onChange:a,onStart:l,onEnd:c,...h},m)=>{const g=Fs(N=>N.invalidate),v=Fs(N=>N.camera),_=Fs(N=>N.gl),S=Fs(N=>N.events),M=Fs(N=>N.setEvents),b=Fs(N=>N.set),A=Fs(N=>N.get),C=Fs(N=>N.performance),w=e||v,B=n||S.connected||_.domElement,L=Me.useMemo(()=>new kX(w),[w]);return o_(()=>{L.enabled&&L.update()},-1),Me.useEffect(()=>(s&&L.connect(s===!0?B:s),L.connect(B),()=>void L.dispose()),[s,B,t,L,g]),Me.useEffect(()=>{const N=U=>{g(),t&&C.regress(),a&&a(U)},I=U=>{l&&l(U)},P=U=>{c&&c(U)};return L.addEventListener("change",N),L.addEventListener("start",I),L.addEventListener("end",P),()=>{L.removeEventListener("start",I),L.removeEventListener("end",P),L.removeEventListener("change",N)}},[a,l,c,L,g,M]),Me.useEffect(()=>{if(i){const N=A().controls;return b({controls:L}),()=>b({controls:N})}},[i,L]),Me.createElement("primitive",RA({ref:m,object:L,enableDamping:r},h))}),xP=(i,e,t)=>{let n;switch(i){case hr:n=new Uint8ClampedArray(e*t*4);break;case Wr:n=new Uint16Array(e*t*4);break;case Vl:n=new Uint32Array(e*t*4);break;case eb:n=new Int8Array(e*t*4);break;case tb:n=new Int16Array(e*t*4);break;case qy:n=new Int32Array(e*t*4);break;case qi:n=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return n};let Qx;const BY=(i,e,t,n)=>{if(Qx!==void 0)return Qx;const r=new dr(1,1,n);e.setRenderTarget(r);const s=new zi(new fh,new Ia({color:16777215}));e.render(s,t),e.setRenderTarget(null);const a=xP(i,r.width,r.height);return e.readRenderTargetPixels(r,0,0,r.width,r.height,a),r.dispose(),s.geometry.dispose(),s.material.dispose(),Qx=a[0]!==0,Qx};class K2{constructor(e){var t,n,r,s,a,l,c,h,m,g,v,_,S,M,b,A;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(w){throw this._renderer.setRenderTarget(null),w}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const C={format:br,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy:1,generateMipmaps:((r=e.renderTargetOptions)===null||r===void 0?void 0:r.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter)!==void 0?(l=e.renderTargetOptions)===null||l===void 0?void 0:l.magFilter:Jn,minFilter:((c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter)!==void 0?(h=e.renderTargetOptions)===null||h===void 0?void 0:h.minFilter:Jn,samples:((m=e.renderTargetOptions)===null||m===void 0?void 0:m.samples)!==void 0?(g=e.renderTargetOptions)===null||g===void 0?void 0:g.samples:void 0,wrapS:((v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapS)!==void 0?(_=e.renderTargetOptions)===null||_===void 0?void 0:_.wrapS:Ar,wrapT:((S=e.renderTargetOptions)===null||S===void 0?void 0:S.wrapT)!==void 0?(M=e.renderTargetOptions)===null||M===void 0?void 0:M.wrapT:Ar};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=K2.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new ap,this._camera=new Nu,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!BY(this._type,this._renderer,this._camera,C)){let w;switch(this._type){case Wr:w=this._renderer.extensions.has("EXT_color_buffer_float")?qi:void 0;break}w!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${qi}`),this._type=w):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new zi(new fh,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new dr(this.width,this.height,C),this._renderTarget.texture.mapping=((b=e.renderTargetOptions)===null||b===void 0?void 0:b.mapping)!==void 0?(A=e.renderTargetOptions)===null||A===void 0?void 0:A.mapping:$f}static instantiateRenderer(){const e=new z2;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=xP(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new Hl(this.toArray(),this.width,this.height,br,this._type,e?.mapping||$f,e?.wrapS||Ar,e?.wrapT||Ar,e?.magFilter||Jn,e?.minFilter||Jn,e?.anisotropy||1,mo);return t.generateMipmaps=e?.generateMipmaps!==void 0?e?.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof pr&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof hi&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof hi&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const DY=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,OY=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class UY extends pr{constructor({gamma:e,offsetHdr:t,offsetSdr:n,gainMapMin:r,gainMapMax:s,maxDisplayBoost:a,hdrCapacityMin:l,hdrCapacityMax:c,sdr:h,gainMap:m}){super({name:"GainMapDecoderMaterial",vertexShader:DY,fragmentShader:OY,uniforms:{sdr:{value:h},gainMap:{value:m},gamma:{value:new te(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new te().fromArray(t)},offsetSdr:{value:new te().fromArray(n)},gainMapMin:{value:new te().fromArray(r)},gainMapMax:{value:new te().fromArray(s)},weightFactor:{value:(Math.log2(a)-l)/(c-l)}},blending:xs,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=a,this._hdrCapacityMin=l,this._hdrCapacityMax=c,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class SP extends Error{}class AP extends Error{}const Tv=(i,e,t)=>{const n=new RegExp(`${e}="([^"]*)"`,"i").exec(i);if(n)return n[1];const r=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(i);if(r){const s=r[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(a=>a.replace(/<\/?rdf:li>/g,"")):r[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},LY=i=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(i):e=i.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const n=e.indexOf("x:xmpmeta>",t),r=e.slice(t,n+10);try{const s=Tv(r,"hdrgm:GainMapMin","0"),a=Tv(r,"hdrgm:GainMapMax"),l=Tv(r,"hdrgm:Gamma","1"),c=Tv(r,"hdrgm:OffsetSDR","0.015625"),h=Tv(r,"hdrgm:OffsetHDR","0.015625"),m=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(r),g=m?m[1]:"0",v=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(r);if(!v)throw new Error("Incomplete gainmap metadata");const _=v[1];return{gainMapMin:Array.isArray(s)?s.map(S=>parseFloat(S)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(a)?a.map(S=>parseFloat(S)):[parseFloat(a),parseFloat(a),parseFloat(a)],gamma:Array.isArray(l)?l.map(S=>parseFloat(S)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetSdr:Array.isArray(c)?c.map(S=>parseFloat(S)):[parseFloat(c),parseFloat(c),parseFloat(c)],offsetHdr:Array.isArray(h)?h.map(S=>parseFloat(S)):[parseFloat(h),parseFloat(h),parseFloat(h)],hdrCapacityMin:parseFloat(g),hdrCapacityMax:parseFloat(_)}}catch{}t=e.indexOf("<x:xmpmeta",n)}};class NY{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,n)=>{const r=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){n(new Error("Not a valid jpeg"));return}const a=s.byteLength;let l=2,c=0,h;for(;l<a;){if(++c>250){n(new Error(`Found no marker after ${c} loops 😵`));return}if(s.getUint8(l)!==255){n(new Error(`Not a valid marker at offset 0x${l.toString(16)}, found: 0x${s.getUint8(l).toString(16)}`));return}if(h=s.getUint8(l+1),r&&console.log(`Marker: ${h.toString(16)}`),h===226){r&&console.log("Found APP2 marker (0xffe2)");const m=l+4;if(s.getUint32(m)===1297106432){const g=m+4;let v;if(s.getUint16(g)===18761)v=!1;else if(s.getUint16(g)===19789)v=!0;else{n(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(g+2,!v)!==42){n(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const _=s.getUint32(g+4,!v);if(_<8){n(new Error("Not valid TIFF data! (First offset less than 8)"));return}const S=g+_,M=s.getUint16(S,!v),b=S+2;let A=0;for(let L=b;L<b+12*M;L+=12)s.getUint16(L,!v)===45057&&(A=s.getUint32(L+8,!v));const w=S+2+M*12+4,B=[];for(let L=w;L<w+A*16;L+=16){const N={MPType:s.getUint32(L,!v),size:s.getUint32(L+4,!v),dataOffset:s.getUint32(L+8,!v),dependantImages:s.getUint32(L+12,!v),start:-1,end:-1,isFII:!1};N.dataOffset?(N.start=g+N.dataOffset,N.isFII=!1):(N.start=0,N.isFII=!0),N.end=N.start+N.size,B.push(N)}if(this.options.extractNonFII&&B.length){const L=new Blob([s]),N=[];for(const I of B){if(I.isFII&&!this.options.extractFII)continue;const P=L.slice(I.start,I.end+1,"image/jpeg");N.push(P)}t(N)}}}l+=2+s.getUint16(l+2)}})}}const PY=async i=>{const e=LY(i);if(!e)throw new AP("Gain map XMP metadata not found");const n=await new NY({extractFII:!0,extractNonFII:!0}).extract(i);if(n.length!==2)throw new SP("Gain map recovery image not found");return{sdr:new Uint8Array(await n[0].arrayBuffer()),gainMap:new Uint8Array(await n[1].arrayBuffer()),metadata:e}},F3=i=>new Promise((e,t)=>{const n=document.createElement("img");n.onload=()=>{e(n)},n.onerror=r=>{t(r)},n.src=URL.createObjectURL(i)});class bP extends Ms{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new wb}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new UY({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new hi,sdr:new hi});return new K2({width:16,height:16,type:Wr,colorSpace:mo,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,n,r){const s=r?new Blob([r],{type:"image/jpeg"}):void 0,a=new Blob([n],{type:"image/jpeg"});let l,c,h=!1;if(typeof createImageBitmap>"u"){const v=await Promise.all([s?F3(s):Promise.resolve(void 0),F3(a)]);c=v[0],l=v[1],h=!0}else{const v=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(a,{imageOrientation:"flipY"})]);c=v[0],l=v[1]}const m=new hi(c||new ImageData(2,2),$f,Ar,Ar,Jn,BT,br,hr,1,mo);m.flipY=h,m.needsUpdate=!0;const g=new hi(l,$f,Ar,Ar,Jn,BT,br,hr,1,si);g.flipY=h,g.needsUpdate=!0,e.width=l.width,e.height=l.height,e.material.gainMap=m,e.material.sdr=g,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class IY extends bP{load([e,t,n],r,s,a){const l=this.prepareQuadRenderer();let c,h,m;const g=async()=>{if(c&&h&&m){try{await this.render(l,m,c,h)}catch(U){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(n),typeof a=="function"&&a(U),l.disposeOnDemandRenderer();return}typeof r=="function"&&r(l),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(n),l.disposeOnDemandRenderer()}};let v=!0,_=0,S=0,M=!0,b=0,A=0,C=!0,w=0,B=0;const L=()=>{if(typeof s=="function"){const U=_+b+w,O=S+A+B,H=v&&M&&C;s(new ProgressEvent("progress",{lengthComputable:H,loaded:O,total:U}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(n);const N=new As(this._internalLoadingManager);N.setResponseType("arraybuffer"),N.setRequestHeader(this.requestHeader),N.setPath(this.path),N.setWithCredentials(this.withCredentials),N.load(e,async U=>{if(typeof U=="string")throw new Error("Invalid sdr buffer");c=U,await g()},U=>{v=U.lengthComputable,S=U.loaded,_=U.total,L()},U=>{this.manager.itemError(e),typeof a=="function"&&a(U)});const I=new As(this._internalLoadingManager);I.setResponseType("arraybuffer"),I.setRequestHeader(this.requestHeader),I.setPath(this.path),I.setWithCredentials(this.withCredentials),I.load(t,async U=>{if(typeof U=="string")throw new Error("Invalid gainmap buffer");h=U,await g()},U=>{M=U.lengthComputable,A=U.loaded,b=U.total,L()},U=>{this.manager.itemError(t),typeof a=="function"&&a(U)});const P=new As(this._internalLoadingManager);return P.setRequestHeader(this.requestHeader),P.setPath(this.path),P.setWithCredentials(this.withCredentials),P.load(n,async U=>{if(typeof U!="string")throw new Error("Invalid metadata string");m=JSON.parse(U),await g()},U=>{C=U.lengthComputable,B=U.loaded,w=U.total,L()},U=>{this.manager.itemError(n),typeof a=="function"&&a(U)}),l}}class FY extends bP{load(e,t,n,r){const s=this.prepareQuadRenderer(),a=new As(this._internalLoadingManager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(this.withCredentials),this.manager.itemStart(e),a.load(e,async l=>{if(typeof l=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const c=new Uint8Array(l);let h,m,g;try{const v=await PY(c);h=v.sdr,m=v.gainMap,g=v.metadata}catch(v){if(v instanceof AP||v instanceof SP)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),g={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},h=c;else throw v}try{await this.render(s,g,h,m)}catch(v){this.manager.itemError(e),typeof r=="function"&&r(v),s.disposeOnDemandRenderer();return}typeof t=="function"&&t(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},n,l=>{this.manager.itemError(e),typeof r=="function"&&r(l)}),s}}const wy={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},MP="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",fg=i=>Array.isArray(i),J2=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function Ob({files:i=J2,path:e="",preset:t=void 0,colorSpace:n=void 0,extensions:r}={}){t&&(Z2(t),i=wy[t],e=MP);const s=fg(i),{extension:a,isCubemap:l}=Q2(i),c=$2(a);if(!c)throw new Error("useEnvironment: Unrecognized file extension: "+i);const h=Fs(_=>_.gl);Me.useLayoutEffect(()=>{if(a!=="webp"&&a!=="jpg"&&a!=="jpeg")return;function _(){Dc.clear(c,s?[i]:i)}h.domElement.addEventListener("webglcontextlost",_,{once:!0})},[i,h.domElement]);const m=Dc(c,s?[i]:i,_=>{(a==="webp"||a==="jpg"||a==="jpeg")&&_.setRenderer(h),_.setPath==null||_.setPath(e),r&&r(_)});let g=s?m[0]:m;if(a==="jpg"||a==="jpeg"||a==="webp"){var v;g=(v=g.renderTarget)==null?void 0:v.texture}return g.mapping=l?Hu:_g,g.colorSpace=n??(l?"srgb":"srgb-linear"),g}const zY={files:J2,path:"",preset:void 0,extensions:void 0};Ob.preload=i=>{const e={...zY,...i};let{files:t,path:n=""}=e;const{preset:r,extensions:s}=e;r&&(Z2(r),t=wy[r],n=MP);const{extension:a}=Q2(t);if(a==="webp"||a==="jpg"||a==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const l=$2(a);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+t);Dc.preload(l,fg(t)?[t]:t,c=>{c.setPath==null||c.setPath(n),s&&s(c)})};const HY={files:J2,preset:void 0};Ob.clear=i=>{const e={...HY,...i};let{files:t}=e;const{preset:n}=e;n&&(Z2(n),t=wy[n]);const{extension:r}=Q2(t),s=$2(r);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);Dc.clear(s,fg(t)?[t]:t)};function Z2(i){if(!(i in wy))throw new Error("Preset must be one of: "+Object.keys(wy).join(", "))}function Q2(i){var e;const t=fg(i)&&i.length===6,n=fg(i)&&i.length===3&&i.some(a=>a.endsWith("json")),r=fg(i)?i[0]:i;return{extension:t?"cube":n?"webp":r.startsWith("data:application/exr")?"exr":r.startsWith("data:application/hdr")?"hdr":r.startsWith("data:image/jpeg")?"jpg":(e=r.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:n}}function $2(i){return i==="cube"?AN:i==="hdr"?EY:i==="exr"?TY:i==="jpg"||i==="jpeg"?FY:i==="webp"?IY:null}const GY=i=>i.current&&i.current.isScene,VY=i=>GY(i)?i.current:i;function ew(i,e,t,n,r={}){var s,a,l,c;r={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...r};const h=VY(e||t),m=h.background,g=h.environment,v={backgroundBlurriness:h.backgroundBlurriness,backgroundIntensity:h.backgroundIntensity,backgroundRotation:(s=(a=h.backgroundRotation)==null||a.clone==null?void 0:a.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:h.environmentIntensity,environmentRotation:(l=(c=h.environmentRotation)==null||c.clone==null?void 0:c.clone())!==null&&l!==void 0?l:[0,0,0]};return i!=="only"&&(h.environment=n),i&&(h.background=n),Du(h,r),()=>{i!=="only"&&(h.environment=g),i&&(h.background=m),Du(h,v)}}function tw({scene:i,background:e=!1,map:t,...n}){const r=Fs(s=>s.scene);return Me.useLayoutEffect(()=>{if(t)return ew(e,i,r,t,n)}),null}function EP({background:i=!1,scene:e,blur:t,backgroundBlurriness:n,backgroundIntensity:r,backgroundRotation:s,environmentIntensity:a,environmentRotation:l,...c}){const h=Ob(c),m=Fs(g=>g.scene);return Me.useLayoutEffect(()=>ew(i,e,m,h,{backgroundBlurriness:t??n,backgroundIntensity:r,backgroundRotation:s,environmentIntensity:a,environmentRotation:l})),Me.useEffect(()=>()=>{h.dispose()},[h]),null}function kY({children:i,near:e=.1,far:t=1e3,resolution:n=256,frames:r=1,map:s,background:a=!1,blur:l,backgroundBlurriness:c,backgroundIntensity:h,backgroundRotation:m,environmentIntensity:g,environmentRotation:v,scene:_,files:S,path:M,preset:b=void 0,extensions:A}){const C=Fs(P=>P.gl),w=Fs(P=>P.scene),B=Me.useRef(null),[L]=Me.useState(()=>new ap),N=Me.useMemo(()=>{const P=new u2(n);return P.texture.type=Wr,P},[n]);Me.useEffect(()=>()=>{N.dispose()},[N]),Me.useLayoutEffect(()=>{if(r===1){const P=C.autoClear;C.autoClear=!0,B.current.update(C,L),C.autoClear=P}return ew(a,_,w,N.texture,{backgroundBlurriness:l??c,backgroundIntensity:h,backgroundRotation:m,environmentIntensity:g,environmentRotation:v})},[i,L,N.texture,_,w,a,r,C]);let I=1;return o_(()=>{if(r===1/0||I<r){const P=C.autoClear;C.autoClear=!0,B.current.update(C,L),C.autoClear=P,I++}}),Me.createElement(Me.Fragment,null,rX(Me.createElement(Me.Fragment,null,i,Me.createElement("cubeCamera",{ref:B,args:[e,t,N]}),S||b?Me.createElement(EP,{background:!0,files:S,preset:b,path:M,extensions:A}):s?Me.createElement(tw,{background:!0,map:s,extensions:A}):null),L))}function XY(i){var e,t,n,r;const s=Ob(i),a=i.map||s;Me.useMemo(()=>Y2({GroundProjectedEnvImpl:NX}),[]),Me.useEffect(()=>()=>{s.dispose()},[s]);const l=Me.useMemo(()=>[a],[a]),c=(e=i.ground)==null?void 0:e.height,h=(t=i.ground)==null?void 0:t.radius,m=(n=(r=i.ground)==null?void 0:r.scale)!==null&&n!==void 0?n:1e3;return Me.createElement(Me.Fragment,null,Me.createElement(tw,RA({},i,{map:a})),Me.createElement("groundProjectedEnvImpl",{args:l,scale:m,height:c,radius:h}))}function YY(i){return i.ground?Me.createElement(XY,i):i.map?Me.createElement(tw,i):i.children?Me.createElement(kY,i):Me.createElement(EP,i)}/**
 * postprocessing v6.37.4 build Sat Jun 07 2025
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2025 Raoul van Rüschen
 * @license Zlib
 */var KE=1/1e3,jY=1e3,qY=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(i){typeof document<"u"&&document.hidden!==void 0&&(i?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=i)}get delta(){return this._delta*KE}get fixedDelta(){return this._fixedDelta*KE}set fixedDelta(i){this._fixedDelta=i*jY}get elapsed(){return this._elapsed*KE}update(i){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(i!==void 0?i:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}getDelta(){return this.delta}getElapsed(){return this.elapsed}handleEvent(i){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},WY=(()=>{const i=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]),t=new xn;return t.setAttribute("position",new $n(i,3)),t.setAttribute("uv",new $n(e,2)),t})(),Xa=class ZT{static get fullscreenGeometry(){return WY}constructor(e="Pass",t=new ap,n=new Jy){this.name=e,this.renderer=null,this.scene=t,this.camera=n,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const t=this.fullscreenMaterial;t!==null&&(t.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;t!==null?t.material=e:(t=new zi(ZT.fullscreenGeometry,e),t.frustumCulled=!1,this.scene===null&&(this.scene=new ap),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=lh){}render(e,t,n,r,s){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,n){}dispose(){for(const e of Object.keys(this)){const t=this[e];(t instanceof dr||t instanceof Er||t instanceof hi||t instanceof ZT)&&this[e].dispose()}this.fullscreenMaterial!==null&&this.fullscreenMaterial.dispose()}},KY=class extends Xa{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(i,e,t,n,r){const s=i.state.buffers.stencil;s.setLocked(!1),s.setTest(!1)}},JY=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <colorspace_fragment>
#include <dithering_fragment>
}`,TP="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",CP=class extends pr{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new ri(null),opacity:new ri(1)},blending:xs,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:JY,vertexShader:TP})}set inputBuffer(i){this.uniforms.inputBuffer.value=i}setInputBuffer(i){this.uniforms.inputBuffer.value=i}getOpacity(i){return this.uniforms.opacity.value}setOpacity(i){this.uniforms.opacity.value=i}},ZY=class extends Xa{constructor(i,e=!0){super("CopyPass"),this.fullscreenMaterial=new CP,this.needsSwap=!1,this.renderTarget=i,i===void 0&&(this.renderTarget=new dr(1,1,{minFilter:Jn,magFilter:Jn,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(i){this.autoResize=i}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(i){this.autoResize=i}render(i,e,t,n,r){this.fullscreenMaterial.inputBuffer=e.texture,i.setRenderTarget(this.renderToScreen?null:this.renderTarget),i.render(this.scene,this.camera)}setSize(i,e){this.autoResize&&this.renderTarget.setSize(i,e)}initialize(i,e,t){t!==void 0&&(this.renderTarget.texture.type=t,t!==hr?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":i!==null&&i.outputColorSpace===si&&(this.renderTarget.texture.colorSpace=si))}},z3=new wt,wP=class extends Xa{constructor(i=!0,e=!0,t=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=i,this.depth=e,this.stencil=t,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(i,e,t){this.color=i,this.depth=e,this.stencil=t}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(i){this.overrideClearColor=i}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(i){this.overrideClearAlpha=i}render(i,e,t,n,r){const s=this.overrideClearColor,a=this.overrideClearAlpha,l=i.getClearAlpha(),c=s!==null,h=a>=0;c?(i.getClearColor(z3),i.setClearColor(s,h?a:l)):h&&i.setClearAlpha(a),i.setRenderTarget(this.renderToScreen?null:e),i.clear(this.color,this.depth,this.stencil),c?i.setClearColor(z3,l):h&&i.setClearAlpha(l)}},QY=class extends Xa{constructor(i,e){super("MaskPass",i,e),this.needsSwap=!1,this.clearPass=new wP(!1,!1,!0),this.inverse=!1}set mainScene(i){this.scene=i}set mainCamera(i){this.camera=i}get inverted(){return this.inverse}set inverted(i){this.inverse=i}get clear(){return this.clearPass.enabled}set clear(i){this.clearPass.enabled=i}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(i){this.inverted=i}render(i,e,t,n,r){const s=i.getContext(),a=i.state.buffers,l=this.scene,c=this.camera,h=this.clearPass,m=this.inverted?0:1,g=1-m;a.color.setMask(!1),a.depth.setMask(!1),a.color.setLocked(!0),a.depth.setLocked(!0),a.stencil.setTest(!0),a.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),a.stencil.setFunc(s.ALWAYS,m,4294967295),a.stencil.setClear(g),a.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?h.render(i,null):(h.render(i,e),h.render(i,t))),this.renderToScreen?(i.setRenderTarget(null),i.render(l,c)):(i.setRenderTarget(e),i.render(l,c),i.setRenderTarget(t),i.render(l,c)),a.color.setLocked(!1),a.depth.setLocked(!1),a.stencil.setLocked(!1),a.stencil.setFunc(s.EQUAL,1,4294967295),a.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),a.stencil.setLocked(!0)}},$Y=class{constructor(i=null,{depthBuffer:e=!0,stencilBuffer:t=!1,multisampling:n=0,frameBufferType:r}={}){this.renderer=null,this.inputBuffer=this.createBuffer(e,t,r,n),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new ZY,this.depthTexture=null,this.passes=[],this.timer=new qY,this.autoRenderToScreen=!0,this.setRenderer(i)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(i){const e=this.inputBuffer,t=this.multisampling;t>0&&i>0?(this.inputBuffer.samples=i,this.outputBuffer.samples=i,this.inputBuffer.dispose(),this.outputBuffer.dispose()):t!==i&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(e.depthBuffer,e.stencilBuffer,e.texture.type,i),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(i){if(this.renderer=i,i!==null){const e=i.getSize(new Ye),t=i.getContext().getContextAttributes().alpha,n=this.inputBuffer.texture.type;n===hr&&i.outputColorSpace===si&&(this.inputBuffer.texture.colorSpace=si,this.outputBuffer.texture.colorSpace=si,this.inputBuffer.dispose(),this.outputBuffer.dispose()),i.autoClear=!1,this.setSize(e.width,e.height);for(const r of this.passes)r.initialize(i,t,n)}}replaceRenderer(i,e=!0){const t=this.renderer,n=t.domElement.parentNode;return this.setRenderer(i),e&&n!==null&&(n.removeChild(t.domElement),n.appendChild(i.domElement)),t}createDepthTexture(){const i=this.depthTexture=new mb;return this.inputBuffer.depthTexture=i,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(i.format=sp,i.type=rp):i.type=Vl,i}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const i of this.passes)i.setDepthTexture(null)}}createBuffer(i,e,t,n){const r=this.renderer,s=r===null?new Ye:r.getDrawingBufferSize(new Ye),a={minFilter:Jn,magFilter:Jn,stencilBuffer:e,depthBuffer:i,type:t},l=new dr(s.width,s.height,a);return n>0&&(l.ignoreDepthForMultisampleCopy=!1,l.samples=n),t===hr&&r!==null&&r.outputColorSpace===si&&(l.texture.colorSpace=si),l.texture.name="EffectComposer.Buffer",l.texture.generateMipmaps=!1,l}setMainScene(i){for(const e of this.passes)e.mainScene=i}setMainCamera(i){for(const e of this.passes)e.mainCamera=i}addPass(i,e){const t=this.passes,n=this.renderer,r=n.getDrawingBufferSize(new Ye),s=n.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(i.setRenderer(n),i.setSize(r.width,r.height),i.initialize(n,s,a),this.autoRenderToScreen&&(t.length>0&&(t[t.length-1].renderToScreen=!1),i.renderToScreen&&(this.autoRenderToScreen=!1)),e!==void 0?t.splice(e,0,i):t.push(i),this.autoRenderToScreen&&(t[t.length-1].renderToScreen=!0),i.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const l=this.createDepthTexture();for(i of t)i.setDepthTexture(l)}else i.setDepthTexture(this.depthTexture)}removePass(i){const e=this.passes,t=e.indexOf(i);if(t!==-1&&e.splice(t,1).length>0){if(this.depthTexture!==null){const s=(l,c)=>l||c.needsDepthTexture;e.reduce(s,!1)||(i.getDepthTexture()===this.depthTexture&&i.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&t===e.length&&(i.renderToScreen=!1,e.length>0&&(e[e.length-1].renderToScreen=!0))}}removeAllPasses(){const i=this.passes;this.deleteDepthTexture(),i.length>0&&(this.autoRenderToScreen&&(i[i.length-1].renderToScreen=!1),this.passes=[])}render(i){const e=this.renderer,t=this.copyPass;let n=this.inputBuffer,r=this.outputBuffer,s=!1,a,l,c;i===void 0&&(this.timer.update(),i=this.timer.getDelta());for(const h of this.passes)h.enabled&&(h.render(e,n,r,i,s),h.needsSwap&&(s&&(t.renderToScreen=h.renderToScreen,a=e.getContext(),l=e.state.buffers.stencil,l.setFunc(a.NOTEQUAL,1,4294967295),t.render(e,n,r,i,s),l.setFunc(a.EQUAL,1,4294967295)),c=n,n=r,r=c),h instanceof QY?s=!0:h instanceof KY&&(s=!1))}setSize(i,e,t){const n=this.renderer,r=n.getSize(new Ye);(i===void 0||e===void 0)&&(i=r.width,e=r.height),(r.width!==i||r.height!==e)&&n.setSize(i,e,t);const s=n.getDrawingBufferSize(new Ye);this.inputBuffer.setSize(s.width,s.height),this.outputBuffer.setSize(s.width,s.height);for(const a of this.passes)a.setSize(s.width,s.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(const i of this.passes)i.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose(),Xa.fullscreenGeometry.dispose()}},qd={NONE:0,DEPTH:1,CONVOLUTION:2},fi={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},ej=class{constructor(){this.shaderParts=new Map([[fi.FRAGMENT_HEAD,null],[fi.FRAGMENT_MAIN_UV,null],[fi.FRAGMENT_MAIN_IMAGE,null],[fi.VERTEX_HEAD,null],[fi.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=qd.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=mo}},JE=!1,H3=class{constructor(i=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(i),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let t;if(e.material.flatShading)switch(e.material.side){case Hs:t=this.materialsFlatShadedDoubleSide;break;case qr:t=this.materialsFlatShadedBackSide;break;default:t=this.materialsFlatShaded;break}else switch(e.material.side){case Hs:t=this.materialsDoubleSide;break;case qr:t=this.materialsBackSide;break;default:t=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=t[2]:e.isInstancedMesh?e.material=t[1]:e.material=t[0],++this.meshCount}}}cloneMaterial(i){if(!(i instanceof pr))return i.clone();const e=i.uniforms,t=new Map;for(const r in e){const s=e[r].value;s.isRenderTargetTexture&&(e[r].value=null,t.set(r,s))}const n=i.clone();for(const r of t)e[r[0]].value=r[1],n.uniforms[r[0]].value=r[1];return n}setMaterial(i){if(this.disposeMaterials(),this.material=i,i!==null){const e=this.materials=[this.cloneMaterial(i),this.cloneMaterial(i),this.cloneMaterial(i)];for(const t of e)t.uniforms=Object.assign({},i.uniforms),t.side=Gl;e[2].skinning=!0,this.materialsBackSide=e.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},i.uniforms),n.side=qr,n}),this.materialsDoubleSide=e.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},i.uniforms),n.side=Hs,n}),this.materialsFlatShaded=e.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},i.uniforms),n.flatShading=!0,n}),this.materialsFlatShadedBackSide=e.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},i.uniforms),n.flatShading=!0,n.side=qr,n}),this.materialsFlatShadedDoubleSide=e.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},i.uniforms),n.flatShading=!0,n.side=Hs,n})}}render(i,e,t){const n=i.shadowMap.enabled;if(i.shadowMap.enabled=!1,JE){const r=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),i.render(e,t);for(const s of r)s[0].material=s[1];this.meshCount!==r.size&&r.clear()}else{const r=e.overrideMaterial;e.overrideMaterial=this.material,i.render(e,t),e.overrideMaterial=r}i.shadowMap.enabled=n}disposeMaterials(){if(this.material!==null){const i=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of i)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return JE}static set workaroundEnabled(i){JE=i}},If=-1,ks=class extends _o{constructor(i,e=If,t=If,n=1){super(),this.resizable=i,this.baseSize=new Ye(1,1),this.preferredSize=new Ye(e,t),this.target=this.preferredSize,this.s=n,this.effectiveSize=new Ye,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const i=this.baseSize,e=this.preferredSize,t=this.effectiveSize,n=this.scale;e.width!==If?t.width=e.width:e.height!==If?t.width=Math.round(e.height*(i.width/Math.max(i.height,1))):t.width=Math.round(i.width*n),e.height!==If?t.height=e.height:e.width!==If?t.height=Math.round(e.width/Math.max(i.width/Math.max(i.height,1),1)):t.height=Math.round(i.height*n)}get width(){return this.effectiveSize.width}set width(i){this.preferredWidth=i}get height(){return this.effectiveSize.height}set height(i){this.preferredHeight=i}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(i){this.s!==i&&(this.s=i,this.preferredSize.setScalar(If),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(i){this.scale=i}get baseWidth(){return this.baseSize.width}set baseWidth(i){this.baseSize.width!==i&&(this.baseSize.width=i,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(i){this.baseWidth=i}get baseHeight(){return this.baseSize.height}set baseHeight(i){this.baseSize.height!==i&&(this.baseSize.height=i,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(i){this.baseHeight=i}setBaseSize(i,e){(this.baseSize.width!==i||this.baseSize.height!==e)&&(this.baseSize.set(i,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(i){this.preferredSize.width!==i&&(this.preferredSize.width=i,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(i){this.preferredWidth=i}get preferredHeight(){return this.preferredSize.height}set preferredHeight(i){this.preferredSize.height!==i&&(this.preferredSize.height=i,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(i){this.preferredHeight=i}setPreferredSize(i,e){(this.preferredSize.width!==i||this.preferredSize.height!==e)&&(this.preferredSize.set(i,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(i){this.s=i.scale,this.baseSize.set(i.baseWidth,i.baseHeight),this.preferredSize.set(i.preferredWidth,i.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return If}},Yn={ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},tj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",nj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",ij="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",rj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",sj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",aj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",oj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",lj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",uj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",cj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",fj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",hj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",dj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",pj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",mj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",gj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",vj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",yj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",_j="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",xj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",Sj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",Aj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",bj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",Mj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",Ej="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",Tj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",Cj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",wj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",Rj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",Bj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",Dj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",Oj="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",Uj=new Map([[Yn.ADD,tj],[Yn.ALPHA,nj],[Yn.AVERAGE,ij],[Yn.COLOR,rj],[Yn.COLOR_BURN,sj],[Yn.COLOR_DODGE,aj],[Yn.DARKEN,oj],[Yn.DIFFERENCE,lj],[Yn.DIVIDE,uj],[Yn.DST,null],[Yn.EXCLUSION,cj],[Yn.HARD_LIGHT,fj],[Yn.HARD_MIX,hj],[Yn.HUE,dj],[Yn.INVERT,pj],[Yn.INVERT_RGB,mj],[Yn.LIGHTEN,gj],[Yn.LINEAR_BURN,vj],[Yn.LINEAR_DODGE,yj],[Yn.LINEAR_LIGHT,_j],[Yn.LUMINOSITY,xj],[Yn.MULTIPLY,Sj],[Yn.NEGATION,Aj],[Yn.NORMAL,bj],[Yn.OVERLAY,Mj],[Yn.PIN_LIGHT,Ej],[Yn.REFLECT,Tj],[Yn.SATURATION,Cj],[Yn.SCREEN,wj],[Yn.SOFT_LIGHT,Rj],[Yn.SRC,Bj],[Yn.SUBTRACT,Dj],[Yn.VIVID_LIGHT,Oj]]),Lj=class extends _o{constructor(i,e=1){super(),this._blendFunction=i,this.opacity=new ri(e)}getOpacity(){return this.opacity.value}setOpacity(i){this.opacity.value=i}get blendFunction(){return this._blendFunction}set blendFunction(i){this._blendFunction=i,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(i){this.blendFunction=i}getShaderCode(){return Uj.get(this.blendFunction)}},QT=class extends _o{constructor(i,e,{attributes:t=qd.NONE,blendFunction:n=Yn.NORMAL,defines:r=new Map,uniforms:s=new Map,extensions:a=null,vertexShader:l=null}={}){super(),this.name=i,this.renderer=null,this.attributes=t,this.fragmentShader=e,this.vertexShader=l,this.defines=r,this.uniforms=s,this.extensions=a,this.blendMode=new Lj(n),this.blendMode.addEventListener("change",c=>this.setChanged()),this._inputColorSpace=mo,this._outputColorSpace=Pl}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(i){this._inputColorSpace=i,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(i){this._outputColorSpace=i,this.setChanged()}set mainScene(i){}set mainCamera(i){}getName(){return this.name}setRenderer(i){this.renderer=i}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(i){this.attributes=i,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(i){this.fragmentShader=i,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(i){this.vertexShader=i,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(i,e=lh){}update(i,e,t){}setSize(i,e){}initialize(i,e,t){}dispose(){for(const i of Object.keys(this)){const e=this[i];(e instanceof dr||e instanceof Er||e instanceof hi||e instanceof Xa)&&this[i].dispose()}}},nw={MEDIUM:2,LARGE:3},Nj=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,Pj="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",Ij=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],Fj=class extends pr{constructor(i=new Kn){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new ri(null),texelSize:new ri(new Kn),scale:new ri(1),kernel:new ri(0)},blending:xs,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Nj,vertexShader:Pj}),this.setTexelSize(i.x,i.y),this.kernelSize=nw.MEDIUM}set inputBuffer(i){this.uniforms.inputBuffer.value=i}setInputBuffer(i){this.inputBuffer=i}get kernelSequence(){return Ij[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(i){this.uniforms.scale.value=i}getScale(){return this.uniforms.scale.value}setScale(i){this.uniforms.scale.value=i}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(i){this.uniforms.kernel.value=i}setKernel(i){this.kernel=i}setTexelSize(i,e){this.uniforms.texelSize.value.set(i,e,i*.5,e*.5)}setSize(i,e){const t=1/i,n=1/e;this.uniforms.texelSize.value.set(t,n,t*.5,n*.5)}},zj=class extends Xa{constructor({kernelSize:i=nw.MEDIUM,resolutionScale:e=.5,width:t=ks.AUTO_SIZE,height:n=ks.AUTO_SIZE,resolutionX:r=t,resolutionY:s=n}={}){super("KawaseBlurPass"),this.renderTargetA=new dr(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const a=this.resolution=new ks(this,r,s,e);a.addEventListener("change",l=>this.setSize(a.baseWidth,a.baseHeight)),this._blurMaterial=new Fj,this._blurMaterial.kernelSize=i,this.copyMaterial=new CP}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(i){this._blurMaterial=i}get dithering(){return this.copyMaterial.dithering}set dithering(i){this.copyMaterial.dithering=i}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(i){this.blurMaterial.kernelSize=i}get width(){return this.resolution.width}set width(i){this.resolution.preferredWidth=i}get height(){return this.resolution.height}set height(i){this.resolution.preferredHeight=i}get scale(){return this.blurMaterial.scale}set scale(i){this.blurMaterial.scale=i}getScale(){return this.blurMaterial.scale}setScale(i){this.blurMaterial.scale=i}getKernelSize(){return this.kernelSize}setKernelSize(i){this.kernelSize=i}getResolutionScale(){return this.resolution.scale}setResolutionScale(i){this.resolution.scale=i}render(i,e,t,n,r){const s=this.scene,a=this.camera,l=this.renderTargetA,c=this.renderTargetB,h=this.blurMaterial,m=h.kernelSequence;let g=e;this.fullscreenMaterial=h;for(let v=0,_=m.length;v<_;++v){const S=(v&1)===0?l:c;h.kernel=m[v],h.inputBuffer=g.texture,i.setRenderTarget(S),i.render(s,a),g=S}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=g.texture,i.setRenderTarget(this.renderToScreen?null:t),i.render(s,a)}setSize(i,e){const t=this.resolution;t.setBaseSize(i,e);const n=t.width,r=t.height;this.renderTargetA.setSize(n,r),this.renderTargetB.setSize(n,r),this.blurMaterial.setSize(i,e)}initialize(i,e,t){t!==void 0&&(this.renderTargetA.texture.type=t,this.renderTargetB.texture.type=t,t!==hr?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):i!==null&&i.outputColorSpace===si&&(this.renderTargetA.texture.colorSpace=si,this.renderTargetB.texture.colorSpace=si))}static get AUTO_SIZE(){return ks.AUTO_SIZE}},Hj=`#include <common>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l)*l;
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*clamp(l,0.0,1.0),l);
#else
gl_FragColor=vec4(l);
#endif
}`,Gj=class extends pr{constructor(i=!1,e=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:vp.replace(/\D+/g,"")},uniforms:{inputBuffer:new ri(null),threshold:new ri(0),smoothing:new ri(1),range:new ri(null)},blending:xs,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Hj,vertexShader:TP}),this.colorOutput=i,this.luminanceRange=e}set inputBuffer(i){this.uniforms.inputBuffer.value=i}setInputBuffer(i){this.uniforms.inputBuffer.value=i}get threshold(){return this.uniforms.threshold.value}set threshold(i){this.smoothing>0||i>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=i}getThreshold(){return this.threshold}setThreshold(i){this.threshold=i}get smoothing(){return this.uniforms.smoothing.value}set smoothing(i){this.threshold>0||i>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=i}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(i){this.smoothing=i}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(i){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(i){i?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(i){return this.colorOutput}setColorOutputEnabled(i){this.colorOutput=i}get useRange(){return this.luminanceRange!==null}set useRange(i){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(i){i!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=i,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(i){this.luminanceRange=i}},Vj=class extends Xa{constructor({renderTarget:i,luminanceRange:e,colorOutput:t,resolutionScale:n=1,width:r=ks.AUTO_SIZE,height:s=ks.AUTO_SIZE,resolutionX:a=r,resolutionY:l=s}={}){super("LuminancePass"),this.fullscreenMaterial=new Gj(t,e),this.needsSwap=!1,this.renderTarget=i,this.renderTarget===void 0&&(this.renderTarget=new dr(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const c=this.resolution=new ks(this,a,l,n);c.addEventListener("change",h=>this.setSize(c.baseWidth,c.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(i,e,t,n,r){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,i.setRenderTarget(this.renderToScreen?null:this.renderTarget),i.render(this.scene,this.camera)}setSize(i,e){const t=this.resolution;t.setBaseSize(i,e),this.renderTarget.setSize(t.width,t.height)}initialize(i,e,t){t!==void 0&&t!==hr&&(this.renderTarget.texture.type=t,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},kj=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,Xj="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",Yj=class extends pr{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new ri(null),texelSize:new ri(new Ye)},blending:xs,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:kj,vertexShader:Xj})}set inputBuffer(i){this.uniforms.inputBuffer.value=i}setSize(i,e){this.uniforms.texelSize.value.set(1/i,1/e)}},jj=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,qj="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",Wj=class extends pr{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new ri(null),supportBuffer:new ri(null),texelSize:new ri(new Ye),radius:new ri(.85)},blending:xs,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:jj,vertexShader:qj})}set inputBuffer(i){this.uniforms.inputBuffer.value=i}set supportBuffer(i){this.uniforms.supportBuffer.value=i}get radius(){return this.uniforms.radius.value}set radius(i){this.uniforms.radius.value=i}setSize(i,e){this.uniforms.texelSize.value.set(1/i,1/e)}},Kj=class extends Xa{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new dr(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new Yj,this.upsamplingMaterial=new Wj,this.resolution=new Ye}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(i){if(this.levels!==i){const e=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let t=0;t<i;++t){const n=e.clone();n.texture.name="Downsampling.Mipmap"+t,this.downsamplingMipmaps.push(n)}this.upsamplingMipmaps.push(e);for(let t=1,n=i-1;t<n;++t){const r=e.clone();r.texture.name="Upsampling.Mipmap"+t,this.upsamplingMipmaps.push(r)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(i){this.upsamplingMaterial.radius=i}render(i,e,t,n,r){const{scene:s,camera:a}=this,{downsamplingMaterial:l,upsamplingMaterial:c}=this,{downsamplingMipmaps:h,upsamplingMipmaps:m}=this;let g=e;this.fullscreenMaterial=l;for(let v=0,_=h.length;v<_;++v){const S=h[v];l.setSize(g.width,g.height),l.inputBuffer=g.texture,i.setRenderTarget(S),i.render(s,a),g=S}this.fullscreenMaterial=c;for(let v=m.length-1;v>=0;--v){const _=m[v];c.setSize(g.width,g.height),c.inputBuffer=g.texture,c.supportBuffer=h[v].texture,i.setRenderTarget(_),i.render(s,a),g=_}}setSize(i,e){const t=this.resolution;t.set(i,e);let n=t.width,r=t.height;for(let s=0,a=this.downsamplingMipmaps.length;s<a;++s)n=Math.round(n*.5),r=Math.round(r*.5),this.downsamplingMipmaps[s].setSize(n,r),s<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[s].setSize(n,r)}initialize(i,e,t){if(t!==void 0){const n=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const r of n)r.texture.type=t;if(t!==hr)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(i!==null&&i.outputColorSpace===si)for(const r of n)r.texture.colorSpace=si}}dispose(){super.dispose();for(const i of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))i.dispose()}},Jj=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 texel=texture2D(map,uv);outputColor=vec4(texel.rgb*intensity,texel.a);}`,Zj=class extends QT{constructor({blendFunction:i=Yn.SCREEN,luminanceThreshold:e=.9,luminanceSmoothing:t=.025,mipmapBlur:n=!1,intensity:r=1,radius:s=.85,levels:a=8,kernelSize:l=nw.LARGE,resolutionScale:c=.5,width:h=ks.AUTO_SIZE,height:m=ks.AUTO_SIZE,resolutionX:g=h,resolutionY:v=m}={}){super("BloomEffect",Jj,{blendFunction:i,uniforms:new Map([["map",new ri(null)],["intensity",new ri(r)]])}),this.renderTarget=new dr(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new zj({kernelSize:l}),this.luminancePass=new Vj({colorOutput:!0}),this.luminanceMaterial.threshold=e,this.luminanceMaterial.smoothing=t,this.mipmapBlurPass=new Kj,this.mipmapBlurPass.enabled=n,this.mipmapBlurPass.radius=s,this.mipmapBlurPass.levels=a,this.uniforms.get("map").value=n?this.mipmapBlurPass.texture:this.renderTarget.texture;const _=this.resolution=new ks(this,g,v,c);_.addEventListener("change",S=>this.setSize(_.baseWidth,_.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(i){this.resolution.preferredWidth=i}get height(){return this.resolution.height}set height(i){this.resolution.preferredHeight=i}get dithering(){return this.blurPass.dithering}set dithering(i){this.blurPass.dithering=i}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(i){this.blurPass.kernelSize=i}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(i){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(i){this.uniforms.get("intensity").value=i}getIntensity(){return this.intensity}setIntensity(i){this.intensity=i}getResolutionScale(){return this.resolution.scale}setResolutionScale(i){this.resolution.scale=i}update(i,e,t){const n=this.renderTarget,r=this.luminancePass;r.enabled?(r.render(i,e),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(i,r.renderTarget):this.blurPass.render(i,r.renderTarget,n)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(i,e):this.blurPass.render(i,e,n)}setSize(i,e){const t=this.resolution;t.setBaseSize(i,e),this.renderTarget.setSize(t.width,t.height),this.blurPass.resolution.copy(t),this.luminancePass.setSize(i,e),this.mipmapBlurPass.setSize(i,e)}initialize(i,e,t){this.blurPass.initialize(i,e,t),this.luminancePass.initialize(i,e,t),this.mipmapBlurPass.initialize(i,e,t),t!==void 0&&(this.renderTarget.texture.type=t,i!==null&&i.outputColorSpace===si&&(this.renderTarget.texture.colorSpace=si))}},RP=class extends Xa{constructor(i,e,t=null){super("RenderPass",i,e),this.needsSwap=!1,this.clearPass=new wP,this.overrideMaterialManager=t===null?null:new H3(t),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(i){this.scene=i}set mainCamera(i){this.camera=i}get renderToScreen(){return super.renderToScreen}set renderToScreen(i){super.renderToScreen=i,this.clearPass.renderToScreen=i}get overrideMaterial(){const i=this.overrideMaterialManager;return i!==null?i.material:null}set overrideMaterial(i){const e=this.overrideMaterialManager;i!==null?e!==null?e.setMaterial(i):this.overrideMaterialManager=new H3(i):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(i){this.overrideMaterial=i}get clear(){return this.clearPass.enabled}set clear(i){this.clearPass.enabled=i}getSelection(){return this.selection}setSelection(i){this.selection=i}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(i){this.ignoreBackground=i}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(i){this.skipShadowMapUpdate=i}getClearPass(){return this.clearPass}render(i,e,t,n,r){const s=this.scene,a=this.camera,l=this.selection,c=a.layers.mask,h=s.background,m=i.shadowMap.autoUpdate,g=this.renderToScreen?null:e;l!==null&&a.layers.set(l.getLayer()),this.skipShadowMapUpdate&&(i.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(s.background=null),this.clearPass.enabled&&this.clearPass.render(i,e),i.setRenderTarget(g),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(i,s,a):i.render(s,a),a.layers.mask=c,s.background=h,i.shadowMap.autoUpdate=m}},Qj=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[4];n[0]=texture2D(normalBuffer,vUv0).rgb;n[1]=texture2D(normalBuffer,vUv1).rgb;n[2]=texture2D(normalBuffer,vUv2).rgb;n[3]=texture2D(normalBuffer,vUv3).rgb;
#else
vec3 n[4];n[0]=vec3(0.0);n[1]=vec3(0.0);n[2]=vec3(0.0);n[3]=vec3(0.0);
#endif
gl_FragColor=vec4(n[index],d[index]);}`,$j="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",eq=class extends pr{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new ri(null),normalBuffer:new ri(null),texelSize:new ri(new Ye)},blending:xs,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Qj,vertexShader:$j})}set depthBuffer(i){this.uniforms.depthBuffer.value=i}set depthPacking(i){this.defines.DEPTH_PACKING=i.toFixed(0),this.needsUpdate=!0}setDepthBuffer(i,e=lh){this.depthBuffer=i,this.depthPacking=e}set normalBuffer(i){this.uniforms.normalBuffer.value=i,i!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(i){this.normalBuffer=i}setTexelSize(i,e){this.uniforms.texelSize.value.set(i,e)}setSize(i,e){this.uniforms.texelSize.value.set(1/i,1/e)}},tq=class extends Xa{constructor({normalBuffer:i=null,resolutionScale:e=.5,width:t=ks.AUTO_SIZE,height:n=ks.AUTO_SIZE,resolutionX:r=t,resolutionY:s=n}={}){super("DepthDownsamplingPass");const a=new eq;a.normalBuffer=i,this.fullscreenMaterial=a,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new dr(1,1,{minFilter:fr,magFilter:fr,depthBuffer:!1,type:qi}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const l=this.resolution=new ks(this,r,s,e);l.addEventListener("change",c=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(i,e=lh){this.fullscreenMaterial.depthBuffer=i,this.fullscreenMaterial.depthPacking=e}render(i,e,t,n,r){i.setRenderTarget(this.renderToScreen?null:this.renderTarget),i.render(this.scene,this.camera)}setSize(i,e){const t=this.resolution;t.setBaseSize(i,e),this.renderTarget.setSize(t.width,t.height),this.fullscreenMaterial.setSize(i,e)}initialize(i,e,t){const n=i.getContext();if(!(n.getExtension("EXT_color_buffer_float")||n.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},nq=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,iq="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",rq=class extends pr{constructor(i,e,t,n,r=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:vp.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new ri(null),depthBuffer:new ri(null),resolution:new ri(new Ye),texelSize:new ri(new Ye),cameraNear:new ri(.3),cameraFar:new ri(1e3),aspect:new ri(1),time:new ri(0)},blending:xs,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:r}),i&&this.setShaderParts(i),e&&this.setDefines(e),t&&this.setUniforms(t),this.copyCameraSettings(n)}set inputBuffer(i){this.uniforms.inputBuffer.value=i}setInputBuffer(i){this.uniforms.inputBuffer.value=i}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(i){this.uniforms.depthBuffer.value=i}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(i){this.defines.DEPTH_PACKING=i.toFixed(0),this.needsUpdate=!0}setDepthBuffer(i,e=lh){this.depthBuffer=i,this.depthPacking=e}setShaderData(i){this.setShaderParts(i.shaderParts),this.setDefines(i.defines),this.setUniforms(i.uniforms),this.setExtensions(i.extensions)}setShaderParts(i){return this.fragmentShader=nq.replace(fi.FRAGMENT_HEAD,i.get(fi.FRAGMENT_HEAD)||"").replace(fi.FRAGMENT_MAIN_UV,i.get(fi.FRAGMENT_MAIN_UV)||"").replace(fi.FRAGMENT_MAIN_IMAGE,i.get(fi.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=iq.replace(fi.VERTEX_HEAD,i.get(fi.VERTEX_HEAD)||"").replace(fi.VERTEX_MAIN_SUPPORT,i.get(fi.VERTEX_MAIN_SUPPORT)||""),this.needsUpdate=!0,this}setDefines(i){for(const e of i.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(i){for(const e of i.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(i){this.extensions={};for(const e of i)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(i){this.encodeOutput!==i&&(i?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(i){return this.encodeOutput}setOutputEncodingEnabled(i){this.encodeOutput=i}get time(){return this.uniforms.time.value}set time(i){this.uniforms.time.value=i}setDeltaTime(i){this.uniforms.time.value+=i}adoptCameraSettings(i){this.copyCameraSettings(i)}copyCameraSettings(i){i&&(this.uniforms.cameraNear.value=i.near,this.uniforms.cameraFar.value=i.far,i instanceof er?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(i,e){const t=this.uniforms;t.resolution.value.set(i,e),t.texelSize.value.set(1/i,1/e),t.aspect.value=i/e}static get Section(){return fi}};function G3(i,e,t){for(const n of e){const r="$1"+i+n.charAt(0).toUpperCase()+n.slice(1),s=new RegExp("([^\\.])(\\b"+n+"\\b)","g");for(const a of t.entries())a[1]!==null&&t.set(a[0],a[1].replace(s,r))}}function sq(i,e,t){let n=e.getFragmentShader(),r=e.getVertexShader();const s=n!==void 0&&/mainImage/.test(n),a=n!==void 0&&/mainUv/.test(n);if(t.attributes|=e.getAttributes(),n===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(a&&(t.attributes&qd.CONVOLUTION)!==0)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!s&&!a)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const l=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,c=t.shaderParts;let h=c.get(fi.FRAGMENT_HEAD)||"",m=c.get(fi.FRAGMENT_MAIN_UV)||"",g=c.get(fi.FRAGMENT_MAIN_IMAGE)||"",v=c.get(fi.VERTEX_HEAD)||"",_=c.get(fi.VERTEX_MAIN_SUPPORT)||"";const S=new Set,M=new Set;if(a&&(m+=`	${i}MainUv(UV);
`,t.uvTransformation=!0),r!==null&&/mainSupport/.test(r)){const C=/mainSupport *\([\w\s]*?uv\s*?\)/.test(r);_+=`	${i}MainSupport(`,_+=C?`vUv);
`:`);
`;for(const w of r.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const B of w[1].split(/\s*,\s*/))t.varyings.add(B),S.add(B),M.add(B);for(const w of r.matchAll(l))M.add(w[1])}for(const C of n.matchAll(l))M.add(C[1]);for(const C of e.defines.keys())M.add(C.replace(/\([\w\s,]*\)/g,""));for(const C of e.uniforms.keys())M.add(C);M.delete("while"),M.delete("for"),M.delete("if"),e.uniforms.forEach((C,w)=>t.uniforms.set(i+w.charAt(0).toUpperCase()+w.slice(1),C)),e.defines.forEach((C,w)=>t.defines.set(i+w.charAt(0).toUpperCase()+w.slice(1),C));const b=new Map([["fragment",n],["vertex",r]]);G3(i,M,t.defines),G3(i,M,b),n=b.get("fragment"),r=b.get("vertex");const A=e.blendMode;if(t.blendModes.set(A.blendFunction,A),s){e.inputColorSpace!==null&&e.inputColorSpace!==t.colorSpace&&(g+=e.inputColorSpace===si?`color0 = sRGBTransferOETF(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==Pl?t.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(t.colorSpace=e.inputColorSpace);const C=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;g+=`${i}MainImage(color0, UV, `,(t.attributes&qd.DEPTH)!==0&&C.test(n)&&(g+="depth, ",t.readDepth=!0),g+=`color1);
	`;const w=i+"BlendOpacity";t.uniforms.set(w,A.opacity),g+=`color0 = blend${A.blendFunction}(color0, color1, ${w});

	`,h+=`uniform float ${w};

`}if(h+=n+`
`,r!==null&&(v+=r+`
`),c.set(fi.FRAGMENT_HEAD,h),c.set(fi.FRAGMENT_MAIN_UV,m),c.set(fi.FRAGMENT_MAIN_IMAGE,g),c.set(fi.VERTEX_HEAD,v),c.set(fi.VERTEX_MAIN_SUPPORT,_),e.extensions!==null)for(const C of e.extensions)t.extensions.add(C)}}var aq=class extends Xa{constructor(i,...e){super("EffectPass"),this.fullscreenMaterial=new rq(null,null,null,i),this.listener=t=>this.handleEvent(t),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(i){for(const e of this.effects)e.mainScene=i}set mainCamera(i){this.fullscreenMaterial.copyCameraSettings(i);for(const e of this.effects)e.mainCamera=i}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(i){this.fullscreenMaterial.encodeOutput=i}get dithering(){return this.fullscreenMaterial.dithering}set dithering(i){const e=this.fullscreenMaterial;e.dithering=i,e.needsUpdate=!0}setEffects(i){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=i.sort((e,t)=>t.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const i=new ej;let e=0;for(const a of this.effects)if(a.blendMode.blendFunction===Yn.DST)i.attributes|=a.getAttributes()&qd.DEPTH;else{if((i.attributes&a.getAttributes()&qd.CONVOLUTION)!==0)throw new Error(`Convolution effects cannot be merged (${a.name})`);sq("e"+e++,a,i)}let t=i.shaderParts.get(fi.FRAGMENT_HEAD),n=i.shaderParts.get(fi.FRAGMENT_MAIN_IMAGE),r=i.shaderParts.get(fi.FRAGMENT_MAIN_UV);const s=/\bblend\b/g;for(const a of i.blendModes.values())t+=a.getShaderCode().replace(s,`blend${a.blendFunction}`)+`
`;(i.attributes&qd.DEPTH)!==0?(i.readDepth&&(n=`float depth = readDepth(UV);

	`+n),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,i.colorSpace===si&&(n+=`color0 = sRGBToLinear(color0);
	`),i.uvTransformation?(r=`vec2 transformedUv = vUv;
`+r,i.defines.set("UV","transformedUv")):i.defines.set("UV","vUv"),i.shaderParts.set(fi.FRAGMENT_HEAD,t),i.shaderParts.set(fi.FRAGMENT_MAIN_IMAGE,n),i.shaderParts.set(fi.FRAGMENT_MAIN_UV,r);for(const[a,l]of i.shaderParts)l!==null&&i.shaderParts.set(a,l.trim().replace(/^#/,`
#`));this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(i)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(i,e=lh){this.fullscreenMaterial.depthBuffer=i,this.fullscreenMaterial.depthPacking=e;for(const t of this.effects)t.setDepthTexture(i,e)}render(i,e,t,n,r){for(const s of this.effects)s.update(i,e,n);if(!this.skipRendering||this.renderToScreen){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,s.time+=n*this.timeScale,i.setRenderTarget(this.renderToScreen?null:t),i.render(this.scene,this.camera)}}setSize(i,e){this.fullscreenMaterial.setSize(i,e);for(const t of this.effects)t.setSize(i,e)}initialize(i,e,t){this.renderer=i;for(const n of this.effects)n.initialize(i,e,t);this.updateMaterial(),t!==void 0&&t!==hr&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const i of this.effects)i.removeEventListener("change",this.listener),i.dispose()}handleEvent(i){switch(i.type){case"change":this.recompile();break}}},oq=class extends Xa{constructor(i,e,{renderTarget:t,resolutionScale:n=1,width:r=ks.AUTO_SIZE,height:s=ks.AUTO_SIZE,resolutionX:a=r,resolutionY:l=s}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new RP(i,e,new S2);const c=this.renderPass;c.ignoreBackground=!0,c.skipShadowMapUpdate=!0;const h=c.getClearPass();h.overrideClearColor=new wt(7829503),h.overrideClearAlpha=1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new dr(1,1,{minFilter:fr,magFilter:fr}),this.renderTarget.texture.name="NormalPass.Target");const m=this.resolution=new ks(this,a,l,n);m.addEventListener("change",g=>this.setSize(m.baseWidth,m.baseHeight))}set mainScene(i){this.renderPass.mainScene=i}set mainCamera(i){this.renderPass.mainCamera=i}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(i){this.resolution.scale=i}render(i,e,t,n,r){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(i,s,s)}setSize(i,e){const t=this.resolution;t.setBaseSize(i,e),this.renderTarget.setSize(t.width,t.height)}};function $v(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}new Ye;new Ye;function BP(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var Ho=function i(e,t,n){var r=this;BP(this,i),$v(this,"dot2",function(s,a){return r.x*s+r.y*a}),$v(this,"dot3",function(s,a,l){return r.x*s+r.y*a+r.z*l}),this.x=e,this.y=t,this.z=n},lq=[new Ho(1,1,0),new Ho(-1,1,0),new Ho(1,-1,0),new Ho(-1,-1,0),new Ho(1,0,1),new Ho(-1,0,1),new Ho(1,0,-1),new Ho(-1,0,-1),new Ho(0,1,1),new Ho(0,-1,1),new Ho(0,1,-1),new Ho(0,-1,-1)],V3=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],k3=new Array(512),X3=new Array(512),uq=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var n;t&1?n=V3[t]^e&255:n=V3[t]^e>>8&255,k3[t]=k3[t+256]=n,X3[t]=X3[t+256]=lq[n%12]}};uq(0);function cq(i){if(typeof i=="number")i=Math.abs(i);else if(typeof i=="string"){var e=i;i=0;for(var t=0;t<e.length;t++)i=(i+(t+1)*(e.charCodeAt(t)%96))%2147483647}return i===0&&(i=311),i}function Y3(i){var e=cq(i);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var fq=function i(e){var t=this;BP(this,i),$v(this,"seed",0),$v(this,"init",function(n){t.seed=n,t.value=Y3(n)}),$v(this,"value",Y3(this.seed)),this.init(e)};new fq(Math.random());const hq=Me.createContext(null),j3=i=>(i.getAttributes()&2)===2,dq=Me.memo(Me.forwardRef(({children:i,camera:e,scene:t,resolutionScale:n,enabled:r=!0,renderPriority:s=1,autoClear:a=!0,depthBuffer:l,enableNormalPass:c,stencilBuffer:h,multisampling:m=8,frameBufferType:g=Wr},v)=>{const{gl:_,scene:S,camera:M,size:b}=Fs(),A=t||S,C=e||M,[w,B,L]=Me.useMemo(()=>{const P=new $Y(_,{depthBuffer:l,stencilBuffer:h,multisampling:m,frameBufferType:g});P.addPass(new RP(A,C));let U=null,O=null;return c&&(O=new oq(A,C),O.enabled=!1,P.addPass(O),n!==void 0&&(U=new tq({normalBuffer:O.texture,resolutionScale:n}),U.enabled=!1,P.addPass(U))),[P,O,U]},[C,_,l,h,m,g,A,c,n]);Me.useEffect(()=>w?.setSize(b.width,b.height),[w,b]),o_((P,U)=>{if(r){const O=_.autoClear;_.autoClear=a,h&&!a&&_.clearStencil(),w.render(U),_.autoClear=O}},r?s:0);const N=Me.useRef(null);Me.useLayoutEffect(()=>{const P=[],U=N.current.__r3f;if(U&&w){const O=U.children;for(let H=0;H<O.length;H++){const V=O[H].object;if(V instanceof QT){const W=[V];if(!j3(V)){let ae=null;for(;(ae=O[H+1]?.object)instanceof QT&&!j3(ae);)W.push(ae),H++}const K=new aq(C,...W);P.push(K)}else V instanceof Xa&&P.push(V)}for(const H of P)w?.addPass(H);B&&(B.enabled=!0),L&&(L.enabled=!0)}return()=>{for(const O of P)w?.removePass(O);B&&(B.enabled=!1),L&&(L.enabled=!1)}},[w,i,C,B,L]),Me.useEffect(()=>{const P=_.toneMapping;return _.toneMapping=zl,()=>{_.toneMapping=P}},[_]);const I=Me.useMemo(()=>({composer:w,normalPass:B,downSamplingPass:L,resolutionScale:n,camera:C,scene:A}),[w,B,L,n,C,A]);return Me.useImperativeHandle(v,()=>w,[w]),We.jsx(hq.Provider,{value:I,children:We.jsx("group",{ref:N,children:i})})}));let pq=0;const q3=new WeakMap,mq=(i,e)=>function({blendFunction:t=e?.blendFunction,opacity:n=e?.opacity,...r}){let s=q3.get(i);if(!s){const c=`@react-three/postprocessing/${i.name}-${pq++}`;Y2({[c]:i}),q3.set(i,s=c)}const a=Fs(c=>c.camera),l=Fl.useMemo(()=>[...e?.args??[],...r.args??[{...e,...r}]],[JSON.stringify(r)]);return We.jsx(s,{camera:a,"blendMode-blendFunction":t,"blendMode-opacity-value":n,...r,args:l})},gq=mq(Zj,{blendFunction:0}),DP=Me.createContext(void 0);function vq({children:i}){const[e,t]=Me.useState(!0),[n,r]=Me.useState(!1);return We.jsx(DP.Provider,{value:{loadingPage:e,setLoadingPage:t,loadingComponents:n,setLoadingComponents:r},children:i})}const iw=()=>{const i=Me.useContext(DP);if(!i)throw new Error("useLoading must be used within a GlobalProvider");return i};function yq(){const e=Dg("/portfolio-2025//models/lost_programmer.glb"),t=Me.useRef(null),n=Me.useRef(.1),r=Me.useRef(!0),{loaded:s}=xX(),{setLoadingPage:a}=iw();return Me.useEffect(()=>{s&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{a(!1)})})}),o_(()=>{t.current&&(t.current.rotation.y+=n.current,r.current&&(n.current*=.599,n.current<.003&&(n.current=.001,r.current=!1)))}),We.jsx("primitive",{object:e.scene,scale:1,ref:t})}function _q({orbitControlsRef:i}){const{camera:e}=Fs(),t=Me.useRef(!1),n=new te(-.5,1.1,3),r=Me.useRef(new te(-.5,1,7));return Me.useEffect(()=>{e.position.copy(r.current),e.lookAt(0,0,0)},[e]),o_(()=>{t.current||(e.position.lerp(n,.01),e.lookAt(0,0,0),e.position.distanceTo(n)<.01?(e.position.copy(n),t.current=!0,i?.current&&(i.current.enabled=!0,i.current.update())):i?.current&&(i.current.enabled=!1))}),null}function xq(){const i=Me.useRef(null);return We.jsx("div",{className:"container-modelViewer",children:We.jsxs(gX,{camera:{position:[0,1,5],fov:50},children:[We.jsx("ambientLight",{intensity:.8}),We.jsx("directionalLight",{position:[10,10,5],intensity:1}),We.jsx(YY,{preset:"night"}),We.jsx(RY,{ref:i,enableZoom:!1}),We.jsx(_q,{orbitControlsRef:i}),We.jsx(yq,{}),We.jsx(dq,{children:We.jsx(gq,{luminanceThreshold:.3,luminanceSmoothing:.9,intensity:2})})]})})}function Sq(){return We.jsx(yg.Element,{name:"header",children:We.jsxs("header",{children:[We.jsx("video",{src:"/videos/background.mp4",muted:!0,autoPlay:!0,loop:!0,playsInline:!0}),We.jsxs("div",{className:"container-overlay",children:[We.jsx("p",{"data-aos":"fade-left","data-aos-duration":"500","data-aos-delay":"500",id:"title-fullstack",children:"FULL-STACK"}),We.jsx("p",{"data-aos":"fade-right",id:"title-developer","data-aos-duration":"500","data-aos-delay":"600",children:"SOFTWARE"}),We.jsx("p",{"data-aos":"fade-left","data-aos-duration":"500","data-aos-delay":"700",id:"title-software",children:"SYSTEMS"}),We.jsx("p",{"data-aos":"fade-right","data-aos-duration":"500","data-aos-delay":"800",id:"title-engineer",children:"DEVELOPER"})]})]})})}function _c(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function OP(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var po={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Og={duration:.5,overwrite:!1,delay:0},rw,bs,ji,Jo=1e8,Ui=1/Jo,$T=Math.PI*2,Aq=$T/4,bq=0,UP=Math.sqrt,Mq=Math.cos,Eq=Math.sin,os=function(e){return typeof e=="string"},cr=function(e){return typeof e=="function"},Oc=function(e){return typeof e=="number"},sw=function(e){return typeof e>"u"},Gu=function(e){return typeof e=="object"},za=function(e){return e!==!1},aw=function(){return typeof window<"u"},$x=function(e){return cr(e)||os(e)},LP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ys=Array.isArray,eC=/(?:-?\.?\d|\.)+/gi,NP=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,$m=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ZE=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,PP=/[+-]=-?[.\d]+/,IP=/[^,'"\[\]\s]+/gi,Tq=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,$i,Ru,tC,ow,vo={},DA={},FP,zP=function(e){return(DA=Ug(e,vo))&&ka},lw=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Ry=function(e,t){return!t&&console.warn(e)},HP=function(e,t){return e&&(vo[e]=t)&&DA&&(DA[e]=t)||vo},By=function(){return 0},Cq={suppressEvents:!0,isStart:!0,kill:!1},AS={suppressEvents:!0,kill:!1},wq={suppressEvents:!0},uw={},Jf=[],nC={},GP,oo={},QE={},W3=30,bS=[],cw="",fw=function(e){var t=e[0],n,r;if(Gu(t)||cr(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(r=bS.length;r--&&!bS[r].targetTest(t););n=bS[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new fI(e[r],n)))||e.splice(r,1);return e},Wd=function(e){return e._gsap||fw(Zo(e))[0]._gsap},VP=function(e,t,n){return(n=e[t])&&cr(n)?e[t]():sw(n)&&e.getAttribute&&e.getAttribute(t)||n},Ha=function(e,t){return(e=e.split(",")).forEach(t)||e},Sr=function(e){return Math.round(e*1e5)/1e5||0},Pr=function(e){return Math.round(e*1e7)/1e7||0},hg=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+r:n==="-"?e-r:n==="*"?e*r:e/r},Rq=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},OA=function(){var e=Jf.length,t=Jf.slice(0),n,r;for(nC={},Jf.length=0,n=0;n<e;n++)r=t[n],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},hw=function(e){return!!(e._initted||e._startAt||e.add)},kP=function(e,t,n,r){Jf.length&&!bs&&OA(),e.render(t,n,!!(bs&&t<0&&hw(e))),Jf.length&&!bs&&OA()},XP=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(IP).length<2?t:os(e)?e.trim():e},YP=function(e){return e},yo=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Bq=function(e){return function(t,n){for(var r in n)r in t||r==="duration"&&e||r==="ease"||(t[r]=n[r])}},Ug=function(e,t){for(var n in t)e[n]=t[n];return e},K3=function i(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Gu(t[n])?i(e[n]||(e[n]={}),t[n]):t[n]);return e},UA=function(e,t){var n={},r;for(r in e)r in t||(n[r]=e[r]);return n},ey=function(e){var t=e.parent||$i,n=e.keyframes?Bq(Ys(e.keyframes)):yo;if(za(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},Dq=function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0},jP=function(e,t,n,r,s){var a=e[r],l;if(s)for(l=t[s];a&&a[s]>l;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},Ub=function(e,t,n,r){n===void 0&&(n="_first"),r===void 0&&(r="_last");var s=t._prev,a=t._next;s?s._next=a:e[n]===t&&(e[n]=a),a?a._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},ih=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Kd=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Oq=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},iC=function(e,t,n,r){return e._startAt&&(bs?e._startAt.revert(AS):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Uq=function i(e){return!e||e._ts&&i(e.parent)},J3=function(e){return e._repeat?Lg(e._tTime,e=e.duration()+e._rDelay)*e:0},Lg=function(e,t){var n=Math.floor(e=Pr(e/t));return e&&n===e?n-1:n},LA=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Lb=function(e){return e._end=Pr(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ui)||0))},Nb=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Pr(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Lb(e),n._dirty||Kd(n,e)),e},qP=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=LA(e.rawTime(),t),(!t._dur||u_(0,t.totalDuration(),n)-t._tTime>Ui)&&t.render(n,!0)),Kd(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Ui}},Ou=function(e,t,n,r){return t.parent&&ih(t),t._start=Pr((Oc(n)?n:n||e!==$i?Vo(e,n,t):e._time)+t._delay),t._end=Pr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),jP(e,t,"_first","_last",e._sort?"_start":0),rC(t)||(e._recent=t),r||qP(e,t),e._ts<0&&Nb(e,e._tTime),e},WP=function(e,t){return(vo.ScrollTrigger||lw("scrollTrigger",t))&&vo.ScrollTrigger.create(t,e)},KP=function(e,t,n,r,s){if(pw(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!bs&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&GP!==uo.frame)return Jf.push(e),e._lazy=[s,r],1},Lq=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},rC=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Nq=function(e,t,n,r){var s=e.ratio,a=t<0||!t&&(!e._start&&Lq(e)&&!(!e._initted&&rC(e))||(e._ts<0||e._dp._ts<0)&&!rC(e))?0:1,l=e._rDelay,c=0,h,m,g;if(l&&e._repeat&&(c=u_(0,e._tDur,t),m=Lg(c,l),e._yoyo&&m&1&&(a=1-a),m!==Lg(e._tTime,l)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||bs||r||e._zTime===Ui||!t&&e._zTime){if(!e._initted&&KP(e,t,r,n,c))return;for(g=e._zTime,e._zTime=t||(n?Ui:0),n||(n=t&&!g),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,h=e._pt;h;)h.r(a,h.d),h=h._next;t<0&&iC(e,t,n,!0),e._onUpdate&&!n&&fo(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&fo(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&ih(e,1),!n&&!bs&&(fo(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Pq=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},Ng=function(e,t,n,r){var s=e._repeat,a=Pr(t)||0,l=e._tTime/e._tDur;return l&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:Pr(a*(s+1)+e._rDelay*s):a,l>0&&!r&&Nb(e,e._tTime=e._tDur*l),e.parent&&Lb(e),n||Kd(e.parent,e),e},Z3=function(e){return e instanceof va?Kd(e):Ng(e,e._dur)},Iq={_start:0,endTime:By,totalDuration:By},Vo=function i(e,t,n){var r=e.labels,s=e._recent||Iq,a=e.duration()>=Jo?s.endTime(!1):e._dur,l,c,h;return os(t)&&(isNaN(t)||t in r)?(c=t.charAt(0),h=t.substr(-1)==="%",l=t.indexOf("="),c==="<"||c===">"?(l>=0&&(t=t.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(l<0?s:n).totalDuration()/100:1)):l<0?(t in r||(r[t]=a),r[t]):(c=parseFloat(t.charAt(l-1)+t.substr(l+1)),h&&n&&(c=c/100*(Ys(n)?n[0]:n).totalDuration()),l>1?i(e,t.substr(0,l-1),n)+c:a+c)):t==null?a:+t},ty=function(e,t,n){var r=Oc(t[1]),s=(r?2:1)+(e<2?0:1),a=t[s],l,c;if(r&&(a.duration=t[1]),a.parent=n,e){for(l=a,c=n;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=za(c.vars.inherit)&&c.parent;a.immediateRender=za(l.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new Nr(t[0],a,t[s+1])},dh=function(e,t){return e||e===0?t(e):t},u_=function(e,t,n){return n<e?e:n>t?t:n},Gs=function(e,t){return!os(e)||!(t=Tq.exec(e))?"":t[1]},Fq=function(e,t,n){return dh(n,function(r){return u_(e,t,r)})},sC=[].slice,JP=function(e,t){return e&&Gu(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Gu(e[0]))&&!e.nodeType&&e!==Ru},zq=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(r){var s;return os(r)&&!t||JP(r,1)?(s=n).push.apply(s,Zo(r)):n.push(r)})||n},Zo=function(e,t,n){return ji&&!t&&ji.selector?ji.selector(e):os(e)&&!n&&(tC||!Pg())?sC.call((t||ow).querySelectorAll(e),0):Ys(e)?zq(e,n):JP(e)?sC.call(e,0):e?[e]:[]},aC=function(e){return e=Zo(e)[0]||Ry("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Zo(t,n.querySelectorAll?n:n===e?Ry("Invalid scope")||ow.createElement("div"):e)}},ZP=function(e){return e.sort(function(){return .5-Math.random()})},QP=function(e){if(cr(e))return e;var t=Gu(e)?e:{each:e},n=Jd(t.ease),r=t.from||0,s=parseFloat(t.base)||0,a={},l=r>0&&r<1,c=isNaN(r)||l,h=t.axis,m=r,g=r;return os(r)?m=g={center:.5,edges:.5,end:1}[r]||0:!l&&c&&(m=r[0],g=r[1]),function(v,_,S){var M=(S||t).length,b=a[M],A,C,w,B,L,N,I,P,U;if(!b){if(U=t.grid==="auto"?0:(t.grid||[1,Jo])[1],!U){for(I=-Jo;I<(I=S[U++].getBoundingClientRect().left)&&U<M;);U<M&&U--}for(b=a[M]=[],A=c?Math.min(U,M)*m-.5:r%U,C=U===Jo?0:c?M*g/U-.5:r/U|0,I=0,P=Jo,N=0;N<M;N++)w=N%U-A,B=C-(N/U|0),b[N]=L=h?Math.abs(h==="y"?B:w):UP(w*w+B*B),L>I&&(I=L),L<P&&(P=L);r==="random"&&ZP(b),b.max=I-P,b.min=P,b.v=M=(parseFloat(t.amount)||parseFloat(t.each)*(U>M?M-1:h?h==="y"?M/U:U:Math.max(U,M/U))||0)*(r==="edges"?-1:1),b.b=M<0?s-M:s,b.u=Gs(t.amount||t.each)||0,n=n&&M<0?lI(n):n}return M=(b[v]-b.min)/b.max||0,Pr(b.b+(n?n(M):M)*b.v)+b.u}},oC=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Pr(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(Oc(n)?0:Gs(n))}},$P=function(e,t){var n=Ys(e),r,s;return!n&&Gu(e)&&(r=n=e.radius||Jo,e.values?(e=Zo(e.values),(s=!Oc(e[0]))&&(r*=r)):e=oC(e.increment)),dh(t,n?cr(e)?function(a){return s=e(a),Math.abs(s-a)<=r?s:a}:function(a){for(var l=parseFloat(s?a.x:a),c=parseFloat(s?a.y:0),h=Jo,m=0,g=e.length,v,_;g--;)s?(v=e[g].x-l,_=e[g].y-c,v=v*v+_*_):v=Math.abs(e[g]-l),v<h&&(h=v,m=g);return m=!r||h<=r?e[m]:a,s||m===a||Oc(a)?m:m+Gs(a)}:oC(e))},eI=function(e,t,n,r){return dh(Ys(e)?!t:n===!0?!!(n=0):!r,function(){return Ys(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*r)/r})},Hq=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduce(function(s,a){return a(s)},r)}},Gq=function(e,t){return function(n){return e(parseFloat(n))+(t||Gs(n))}},Vq=function(e,t,n){return nI(e,t,0,1,n)},tI=function(e,t,n){return dh(n,function(r){return e[~~t(r)]})},kq=function i(e,t,n){var r=t-e;return Ys(e)?tI(e,i(0,e.length),t):dh(n,function(s){return(r+(s-e)%r)%r+e})},Xq=function i(e,t,n){var r=t-e,s=r*2;return Ys(e)?tI(e,i(0,e.length-1),t):dh(n,function(a){return a=(s+(a-e)%s)%s||0,e+(a>r?s-a:a)})},Dy=function(e){for(var t=0,n="",r,s,a,l;~(r=e.indexOf("random(",t));)a=e.indexOf(")",r),l=e.charAt(r+7)==="[",s=e.substr(r+7,a-r-7).match(l?IP:eC),n+=e.substr(t,r-t)+eI(l?s:+s[0],l?0:+s[1],+s[2]||1e-5),t=a+1;return n+e.substr(t,e.length-t)},nI=function(e,t,n,r,s){var a=t-e,l=r-n;return dh(s,function(c){return n+((c-e)/a*l||0)})},Yq=function i(e,t,n,r){var s=isNaN(e+t)?0:function(_){return(1-_)*e+_*t};if(!s){var a=os(e),l={},c,h,m,g,v;if(n===!0&&(r=1)&&(n=null),a)e={p:e},t={p:t};else if(Ys(e)&&!Ys(t)){for(m=[],g=e.length,v=g-2,h=1;h<g;h++)m.push(i(e[h-1],e[h]));g--,s=function(S){S*=g;var M=Math.min(v,~~S);return m[M](S-M)},n=t}else r||(e=Ug(Ys(e)?[]:{},e));if(!m){for(c in t)dw.call(l,e,c,"get",t[c]);s=function(S){return vw(S,l)||(a?e.p:e)}}}return dh(n,s)},Q3=function(e,t,n){var r=e.labels,s=Jo,a,l,c;for(a in r)l=r[a]-t,l<0==!!n&&l&&s>(l=Math.abs(l))&&(c=a,s=l);return c},fo=function(e,t,n){var r=e.vars,s=r[t],a=ji,l=e._ctx,c,h,m;if(s)return c=r[t+"Params"],h=r.callbackScope||e,n&&Jf.length&&OA(),l&&(ji=l),m=c?s.apply(h,c):s.call(h),ji=a,m},Lv=function(e){return ih(e),e.scrollTrigger&&e.scrollTrigger.kill(!!bs),e.progress()<1&&fo(e,"onInterrupt"),e},eg,iI=[],rI=function(e){if(e)if(e=!e.name&&e.default||e,aw()||e.headless){var t=e.name,n=cr(e),r=t&&!n&&e.init?function(){this._props=[]}:e,s={init:By,render:vw,add:dw,kill:oW,modifier:aW,rawVars:0},a={targetTest:0,get:0,getSetter:gw,aliases:{},register:0};if(Pg(),e!==r){if(oo[t])return;yo(r,yo(UA(e,s),a)),Ug(r.prototype,Ug(s,UA(e,a))),oo[r.prop=t]=r,e.targetTest&&(bS.push(r),uw[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}HP(t,r),e.register&&e.register(ka,r,Ga)}else iI.push(e)},Oi=255,Nv={aqua:[0,Oi,Oi],lime:[0,Oi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Oi],navy:[0,0,128],white:[Oi,Oi,Oi],olive:[128,128,0],yellow:[Oi,Oi,0],orange:[Oi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Oi,0,0],pink:[Oi,192,203],cyan:[0,Oi,Oi],transparent:[Oi,Oi,Oi,0]},$E=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*Oi+.5|0},sI=function(e,t,n){var r=e?Oc(e)?[e>>16,e>>8&Oi,e&Oi]:0:Nv.black,s,a,l,c,h,m,g,v,_,S;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Nv[e])r=Nv[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),l=e.charAt(3),e="#"+s+s+a+a+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&Oi,r&Oi,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&Oi,e&Oi]}else if(e.substr(0,3)==="hsl"){if(r=S=e.match(eC),!t)c=+r[0]%360/360,h=+r[1]/100,m=+r[2]/100,a=m<=.5?m*(h+1):m+h-m*h,s=m*2-a,r.length>3&&(r[3]*=1),r[0]=$E(c+1/3,s,a),r[1]=$E(c,s,a),r[2]=$E(c-1/3,s,a);else if(~e.indexOf("="))return r=e.match(NP),n&&r.length<4&&(r[3]=1),r}else r=e.match(eC)||Nv.transparent;r=r.map(Number)}return t&&!S&&(s=r[0]/Oi,a=r[1]/Oi,l=r[2]/Oi,g=Math.max(s,a,l),v=Math.min(s,a,l),m=(g+v)/2,g===v?c=h=0:(_=g-v,h=m>.5?_/(2-g-v):_/(g+v),c=g===s?(a-l)/_+(a<l?6:0):g===a?(l-s)/_+2:(s-a)/_+4,c*=60),r[0]=~~(c+.5),r[1]=~~(h*100+.5),r[2]=~~(m*100+.5)),n&&r.length<4&&(r[3]=1),r},aI=function(e){var t=[],n=[],r=-1;return e.split(Zf).forEach(function(s){var a=s.match($m)||[];t.push.apply(t,a),n.push(r+=a.length+1)}),t.c=n,t},$3=function(e,t,n){var r="",s=(e+r).match(Zf),a=t?"hsla(":"rgba(",l=0,c,h,m,g;if(!s)return e;if(s=s.map(function(v){return(v=sI(v,t,1))&&a+(t?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),n&&(m=aI(e),c=n.c,c.join(r)!==m.c.join(r)))for(h=e.replace(Zf,"1").split($m),g=h.length-1;l<g;l++)r+=h[l]+(~c.indexOf(l)?s.shift()||a+"0,0,0,0)":(m.length?m:s.length?s:n).shift());if(!h)for(h=e.split(Zf),g=h.length-1;l<g;l++)r+=h[l]+s[l];return r+h[g]},Zf=function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Nv)i+="|"+e+"\\b";return new RegExp(i+")","gi")}(),jq=/hsl[a]?\(/,oI=function(e){var t=e.join(" "),n;if(Zf.lastIndex=0,Zf.test(t))return n=jq.test(t),e[1]=$3(e[1],n),e[0]=$3(e[0],n,aI(e[1])),!0},Oy,uo=function(){var i=Date.now,e=500,t=33,n=i(),r=n,s=1e3/240,a=s,l=[],c,h,m,g,v,_,S=function M(b){var A=i()-r,C=b===!0,w,B,L,N;if((A>e||A<0)&&(n+=A-t),r+=A,L=r-n,w=L-a,(w>0||C)&&(N=++g.frame,v=L-g.time*1e3,g.time=L=L/1e3,a+=w+(w>=s?4:s-w),B=1),C||(c=h(M)),B)for(_=0;_<l.length;_++)l[_](L,v,N,b)};return g={time:0,frame:0,tick:function(){S(!0)},deltaRatio:function(b){return v/(1e3/(b||60))},wake:function(){FP&&(!tC&&aw()&&(Ru=tC=window,ow=Ru.document||{},vo.gsap=ka,(Ru.gsapVersions||(Ru.gsapVersions=[])).push(ka.version),zP(DA||Ru.GreenSockGlobals||!Ru.gsap&&Ru||{}),iI.forEach(rI)),m=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&g.sleep(),h=m||function(b){return setTimeout(b,a-g.time*1e3+1|0)},Oy=1,S(2))},sleep:function(){(m?cancelAnimationFrame:clearTimeout)(c),Oy=0,h=By},lagSmoothing:function(b,A){e=b||1/0,t=Math.min(A||33,e)},fps:function(b){s=1e3/(b||240),a=g.time*1e3+s},add:function(b,A,C){var w=A?function(B,L,N,I){b(B,L,N,I),g.remove(w)}:b;return g.remove(b),l[C?"unshift":"push"](w),Pg(),w},remove:function(b,A){~(A=l.indexOf(b))&&l.splice(A,1)&&_>=A&&_--},_listeners:l},g}(),Pg=function(){return!Oy&&uo.wake()},Zn={},qq=/^[\d.\-M][\d.\-,\s]/,Wq=/["']/g,Kq=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),r=n[0],s=1,a=n.length,l,c,h;s<a;s++)c=n[s],l=s!==a-1?c.lastIndexOf(","):c.length,h=c.substr(0,l),t[r]=isNaN(h)?h.replace(Wq,"").trim():+h,r=c.substr(l+1).trim();return t},Jq=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)},Zq=function(e){var t=(e+"").split("("),n=Zn[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[Kq(t[1])]:Jq(e).split(",").map(XP)):Zn._CE&&qq.test(e)?Zn._CE("",e):n},lI=function(e){return function(t){return 1-e(1-t)}},uI=function i(e,t){for(var n=e._first,r;n;)n instanceof va?i(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?i(n.timeline,t):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=t)),n=n._next},Jd=function(e,t){return e&&(cr(e)?e:Zn[e]||Zq(e))||t},Ap=function(e,t,n,r){n===void 0&&(n=function(c){return 1-t(1-c)}),r===void 0&&(r=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:r},a;return Ha(e,function(l){Zn[l]=vo[l]=s,Zn[a=l.toLowerCase()]=n;for(var c in s)Zn[a+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Zn[l+"."+c]=s[c]}),s},cI=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},eT=function i(e,t,n){var r=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),a=s/$T*(Math.asin(1/r)||0),l=function(m){return m===1?1:r*Math.pow(2,-10*m)*Eq((m-a)*s)+1},c=e==="out"?l:e==="in"?function(h){return 1-l(1-h)}:cI(l);return s=$T/s,c.config=function(h,m){return i(e,h,m)},c},tT=function i(e,t){t===void 0&&(t=1.70158);var n=function(a){return a?--a*a*((t+1)*a+t)+1:0},r=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:cI(n);return r.config=function(s){return i(e,s)},r};Ha("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;Ap(i+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});Zn.Linear.easeNone=Zn.none=Zn.Linear.easeIn;Ap("Elastic",eT("in"),eT("out"),eT());(function(i,e){var t=1/e,n=2*t,r=2.5*t,s=function(l){return l<t?i*l*l:l<n?i*Math.pow(l-1.5/e,2)+.75:l<r?i*(l-=2.25/e)*l+.9375:i*Math.pow(l-2.625/e,2)+.984375};Ap("Bounce",function(a){return 1-s(1-a)},s)})(7.5625,2.75);Ap("Expo",function(i){return Math.pow(2,10*(i-1))*i+i*i*i*i*i*i*(1-i)});Ap("Circ",function(i){return-(UP(1-i*i)-1)});Ap("Sine",function(i){return i===1?1:-Mq(i*Aq)+1});Ap("Back",tT("in"),tT("out"),tT());Zn.SteppedEase=Zn.steps=vo.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,r=e+(t?0:1),s=t?1:0,a=1-Ui;return function(l){return((r*u_(0,a,l)|0)+s)*n}}};Og.ease=Zn["quad.out"];Ha("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return cw+=i+","+i+"Params,"});var fI=function(e,t){this.id=bq++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:VP,this.set=t?t.getSetter:gw},Uy=function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Ng(this,+t.duration,1,1),this.data=t.data,ji&&(this._ctx=ji,ji.data.push(this)),Oy||uo.wake()}var e=i.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,Ng(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,r){if(Pg(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Nb(this,n),!s._dp||s.parent||qP(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Ou(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Ui||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),kP(this,n,r)),this},e.time=function(n,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+J3(this))%(this._dur+this._rDelay)||(n?this._dur:0),r):this._time},e.totalProgress=function(n,r){return arguments.length?this.totalTime(this.totalDuration()*n,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+J3(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,r):this._repeat?Lg(this._tTime,s)+1:1},e.timeScale=function(n,r){if(!arguments.length)return this._rts===-Ui?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?LA(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Ui?0:this._rts,this.totalTime(u_(-Math.abs(this._delay),this.totalDuration(),s),r!==!1),Lb(this),Oq(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Pg(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ui&&(this._tTime-=Ui)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Ou(r,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(za(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var r=this.parent||this._dp;return r?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?LA(r.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=wq);var r=bs;return bs=n,hw(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),bs=r,this},e.globalTime=function(n){for(var r=this,s=arguments.length?n:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,Z3(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var r=this._time;return this._rDelay=n,Z3(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,r){return this.totalTime(Vo(this,n),za(r))},e.restart=function(n,r){return this.play().totalTime(n?-this._delay:0,za(r)),this._dur||(this._zTime=-Ui),this},e.play=function(n,r){return n!=null&&this.seek(n,r),this.reversed(!1).paused(!1)},e.reverse=function(n,r){return n!=null&&this.seek(n||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(n,r){return n!=null&&this.seek(n,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Ui:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ui,this},e.isActive=function(){var n=this.parent||this._dp,r=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=r&&s<this.endTime(!0)-Ui)},e.eventCallback=function(n,r,s){var a=this.vars;return arguments.length>1?(r?(a[n]=r,s&&(a[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=r)):delete a[n],this):a[n]},e.then=function(n){var r=this;return new Promise(function(s){var a=cr(n)?n:YP,l=function(){var h=r.then;r.then=null,cr(a)&&(a=a(r))&&(a.then||a===r)&&(r.then=h),s(a),r.then=h};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?l():r._prom=l})},e.kill=function(){Lv(this)},i}();yo(Uy.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ui,_prom:0,_ps:!1,_rts:1});var va=function(i){OP(e,i);function e(n,r){var s;return n===void 0&&(n={}),s=i.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=za(n.sortChildren),$i&&Ou(n.parent||$i,_c(s),r),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&WP(_c(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,a){return ty(0,arguments,this),this},t.from=function(r,s,a){return ty(1,arguments,this),this},t.fromTo=function(r,s,a,l){return ty(2,arguments,this),this},t.set=function(r,s,a){return s.duration=0,s.parent=this,ey(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Nr(r,s,Vo(this,a),1),this},t.call=function(r,s,a){return Ou(this,Nr.delayedCall(0,r,s),a)},t.staggerTo=function(r,s,a,l,c,h,m){return a.duration=s,a.stagger=a.stagger||l,a.onComplete=h,a.onCompleteParams=m,a.parent=this,new Nr(r,a,Vo(this,c)),this},t.staggerFrom=function(r,s,a,l,c,h,m){return a.runBackwards=1,ey(a).immediateRender=za(a.immediateRender),this.staggerTo(r,s,a,l,c,h,m)},t.staggerFromTo=function(r,s,a,l,c,h,m,g){return l.startAt=a,ey(l).immediateRender=za(l.immediateRender),this.staggerTo(r,s,l,c,h,m,g)},t.render=function(r,s,a){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,h=this._dur,m=r<=0?0:Pr(r),g=this._zTime<0!=r<0&&(this._initted||!h),v,_,S,M,b,A,C,w,B,L,N,I;if(this!==$i&&m>c&&r>=0&&(m=c),m!==this._tTime||a||g){if(l!==this._time&&h&&(m+=this._time-l,r+=this._time-l),v=m,B=this._start,w=this._ts,A=!w,g&&(h||(l=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(N=this._yoyo,b=h+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(b*100+r,s,a);if(v=Pr(m%b),m===c?(M=this._repeat,v=h):(L=Pr(m/b),M=~~L,M&&M===L&&(v=h,M--),v>h&&(v=h)),L=Lg(this._tTime,b),!l&&this._tTime&&L!==M&&this._tTime-L*b-this._dur<=0&&(L=M),N&&M&1&&(v=h-v,I=1),M!==L&&!this._lock){var P=N&&L&1,U=P===(N&&M&1);if(M<L&&(P=!P),l=P?0:m%h?h:m,this._lock=1,this.render(l||(I?0:Pr(M*b)),s,!h)._lock=0,this._tTime=m,!s&&this.parent&&fo(this,"onRepeat"),this.vars.repeatRefresh&&!I&&(this.invalidate()._lock=1),l&&l!==this._time||A!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,c=this._tDur,U&&(this._lock=2,l=P?h:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!I&&this.invalidate()),this._lock=0,!this._ts&&!A)return this;uI(this,I)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(C=Pq(this,Pr(l),Pr(v)),C&&(m-=v-(v=C._start))),this._tTime=m,this._time=v,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,l=0),!l&&m&&!s&&!L&&(fo(this,"onStart"),this._tTime!==m))return this;if(v>=l&&r>=0)for(_=this._first;_;){if(S=_._next,(_._act||v>=_._start)&&_._ts&&C!==_){if(_.parent!==this)return this.render(r,s,a);if(_.render(_._ts>0?(v-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(v-_._start)*_._ts,s,a),v!==this._time||!this._ts&&!A){C=0,S&&(m+=this._zTime=-Ui);break}}_=S}else{_=this._last;for(var O=r<0?r:v;_;){if(S=_._prev,(_._act||O<=_._end)&&_._ts&&C!==_){if(_.parent!==this)return this.render(r,s,a);if(_.render(_._ts>0?(O-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(O-_._start)*_._ts,s,a||bs&&hw(_)),v!==this._time||!this._ts&&!A){C=0,S&&(m+=this._zTime=O?-Ui:Ui);break}}_=S}}if(C&&!s&&(this.pause(),C.render(v>=l?0:-Ui)._zTime=v>=l?1:-1,this._ts))return this._start=B,Lb(this),this.render(r,s,a);this._onUpdate&&!s&&fo(this,"onUpdate",!0),(m===c&&this._tTime>=this.totalDuration()||!m&&l)&&(B===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((r||!h)&&(m===c&&this._ts>0||!m&&this._ts<0)&&ih(this,1),!s&&!(r<0&&!l)&&(m||l||!c)&&(fo(this,m===c&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var a=this;if(Oc(s)||(s=Vo(this,s,r)),!(r instanceof Uy)){if(Ys(r))return r.forEach(function(l){return a.add(l,s)}),this;if(os(r))return this.addLabel(r,s);if(cr(r))r=Nr.delayedCall(0,r);else return this}return this!==r?Ou(this,r,s):this},t.getChildren=function(r,s,a,l){r===void 0&&(r=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),l===void 0&&(l=-Jo);for(var c=[],h=this._first;h;)h._start>=l&&(h instanceof Nr?s&&c.push(h):(a&&c.push(h),r&&c.push.apply(c,h.getChildren(!0,s,a)))),h=h._next;return c},t.getById=function(r){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===r)return s[a]},t.remove=function(r){return os(r)?this.removeLabel(r):cr(r)?this.killTweensOf(r):(r.parent===this&&Ub(this,r),r===this._recent&&(this._recent=this._last),Kd(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Pr(uo.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),i.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=Vo(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,a){var l=Nr.delayedCall(0,s||By,a);return l.data="isPause",this._hasPause=1,Ou(this,l,Vo(this,r))},t.removePause=function(r){var s=this._first;for(r=Vo(this,r);s;)s._start===r&&s.data==="isPause"&&ih(s),s=s._next},t.killTweensOf=function(r,s,a){for(var l=this.getTweensOf(r,a),c=l.length;c--;)Xf!==l[c]&&l[c].kill(r,s);return this},t.getTweensOf=function(r,s){for(var a=[],l=Zo(r),c=this._first,h=Oc(s),m;c;)c instanceof Nr?Rq(c._targets,l)&&(h?(!Xf||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&a.push(c):(m=c.getTweensOf(l,s)).length&&a.push.apply(a,m),c=c._next;return a},t.tweenTo=function(r,s){s=s||{};var a=this,l=Vo(a,r),c=s,h=c.startAt,m=c.onStart,g=c.onStartParams,v=c.immediateRender,_,S=Nr.to(a,yo({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:s.duration||Math.abs((l-(h&&"time"in h?h.time:a._time))/a.timeScale())||Ui,onStart:function(){if(a.pause(),!_){var b=s.duration||Math.abs((l-(h&&"time"in h?h.time:a._time))/a.timeScale());S._dur!==b&&Ng(S,b,0,1).render(S._time,!0,!0),_=1}m&&m.apply(S,g||[])}},s));return v?S.render(0):S},t.tweenFromTo=function(r,s,a){return this.tweenTo(s,yo({startAt:{time:Vo(this,r)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),Q3(this,Vo(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),Q3(this,Vo(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Ui)},t.shiftChildren=function(r,s,a){a===void 0&&(a=0);for(var l=this._first,c=this.labels,h;l;)l._start>=a&&(l._start+=r,l._end+=r),l=l._next;if(s)for(h in c)c[h]>=a&&(c[h]+=r);return Kd(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return i.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,a;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Kd(this)},t.totalDuration=function(r){var s=0,a=this,l=a._last,c=Jo,h,m,g;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(g=a.parent;l;)h=l._prev,l._dirty&&l.totalDuration(),m=l._start,m>c&&a._sort&&l._ts&&!a._lock?(a._lock=1,Ou(a,l,m-l._delay,1)._lock=0):c=m,m<0&&l._ts&&(s-=m,(!g&&!a._dp||g&&g.smoothChildTiming)&&(a._start+=m/a._ts,a._time-=m,a._tTime-=m),a.shiftChildren(-m,!1,-1/0),c=0),l._end>s&&l._ts&&(s=l._end),l=h;Ng(a,a===$i&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(r){if($i._ts&&(kP($i,LA(r,$i)),GP=uo.frame),uo.frame>=W3){W3+=po.autoSleep||120;var s=$i._first;if((!s||!s._ts)&&po.autoSleep&&uo._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||uo.sleep()}}},e}(Uy);yo(va.prototype,{_lock:0,_hasPause:0,_forcing:0});var Qq=function(e,t,n,r,s,a,l){var c=new Ga(this._pt,e,t,0,1,vI,null,s),h=0,m=0,g,v,_,S,M,b,A,C;for(c.b=n,c.e=r,n+="",r+="",(A=~r.indexOf("random("))&&(r=Dy(r)),a&&(C=[n,r],a(C,e,t),n=C[0],r=C[1]),v=n.match(ZE)||[];g=ZE.exec(r);)S=g[0],M=r.substring(h,g.index),_?_=(_+1)%5:M.substr(-5)==="rgba("&&(_=1),S!==v[m++]&&(b=parseFloat(v[m-1])||0,c._pt={_next:c._pt,p:M||m===1?M:",",s:b,c:S.charAt(1)==="="?hg(b,S)-b:parseFloat(S)-b,m:_&&_<4?Math.round:0},h=ZE.lastIndex);return c.c=h<r.length?r.substring(h,r.length):"",c.fp=l,(PP.test(r)||A)&&(c.e=0),this._pt=c,c},dw=function(e,t,n,r,s,a,l,c,h,m){cr(r)&&(r=r(s||0,e,a));var g=e[t],v=n!=="get"?n:cr(g)?h?e[t.indexOf("set")||!cr(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():g,_=cr(g)?h?iW:mI:mw,S;if(os(r)&&(~r.indexOf("random(")&&(r=Dy(r)),r.charAt(1)==="="&&(S=hg(v,r)+(Gs(v)||0),(S||S===0)&&(r=S))),!m||v!==r||lC)return!isNaN(v*r)&&r!==""?(S=new Ga(this._pt,e,t,+v||0,r-(v||0),typeof g=="boolean"?sW:gI,0,_),h&&(S.fp=h),l&&S.modifier(l,this,e),this._pt=S):(!g&&!(t in e)&&lw(t,r),Qq.call(this,e,t,v,r,_,c||po.stringFilter,h))},$q=function(e,t,n,r,s){if(cr(e)&&(e=ny(e,s,t,n,r)),!Gu(e)||e.style&&e.nodeType||Ys(e)||LP(e))return os(e)?ny(e,s,t,n,r):e;var a={},l;for(l in e)a[l]=ny(e[l],s,t,n,r);return a},hI=function(e,t,n,r,s,a){var l,c,h,m;if(oo[e]&&(l=new oo[e]).init(s,l.rawVars?t[e]:$q(t[e],r,s,a,n),n,r,a)!==!1&&(n._pt=c=new Ga(n._pt,s,e,0,1,l.render,l,0,l.priority),n!==eg))for(h=n._ptLookup[n._targets.indexOf(s)],m=l._props.length;m--;)h[l._props[m]]=c;return l},Xf,lC,pw=function i(e,t,n){var r=e.vars,s=r.ease,a=r.startAt,l=r.immediateRender,c=r.lazy,h=r.onUpdate,m=r.runBackwards,g=r.yoyoEase,v=r.keyframes,_=r.autoRevert,S=e._dur,M=e._startAt,b=e._targets,A=e.parent,C=A&&A.data==="nested"?A.vars.targets:b,w=e._overwrite==="auto"&&!rw,B=e.timeline,L,N,I,P,U,O,H,V,W,K,ae,G,q;if(B&&(!v||!s)&&(s="none"),e._ease=Jd(s,Og.ease),e._yEase=g?lI(Jd(g===!0?s:g,Og.ease)):0,g&&e._yoyo&&!e._repeat&&(g=e._yEase,e._yEase=e._ease,e._ease=g),e._from=!B&&!!r.runBackwards,!B||v&&!r.stagger){if(V=b[0]?Wd(b[0]).harness:0,G=V&&r[V.prop],L=UA(r,uw),M&&(M._zTime<0&&M.progress(1),t<0&&m&&l&&!_?M.render(-1,!0):M.revert(m&&S?AS:Cq),M._lazy=0),a){if(ih(e._startAt=Nr.set(b,yo({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:!M&&za(c),startAt:null,delay:0,onUpdate:h&&function(){return fo(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(bs||!l&&!_)&&e._startAt.revert(AS),l&&S&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(m&&S&&!M){if(t&&(l=!1),I=yo({overwrite:!1,data:"isFromStart",lazy:l&&!M&&za(c),immediateRender:l,stagger:0,parent:A},L),G&&(I[V.prop]=G),ih(e._startAt=Nr.set(b,I)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(bs?e._startAt.revert(AS):e._startAt.render(-1,!0)),e._zTime=t,!l)i(e._startAt,Ui,Ui);else if(!t)return}for(e._pt=e._ptCache=0,c=S&&za(c)||c&&!S,N=0;N<b.length;N++){if(U=b[N],H=U._gsap||fw(b)[N]._gsap,e._ptLookup[N]=K={},nC[H.id]&&Jf.length&&OA(),ae=C===b?N:C.indexOf(U),V&&(W=new V).init(U,G||L,e,ae,C)!==!1&&(e._pt=P=new Ga(e._pt,U,W.name,0,1,W.render,W,0,W.priority),W._props.forEach(function($){K[$]=P}),W.priority&&(O=1)),!V||G)for(I in L)oo[I]&&(W=hI(I,L,e,ae,U,C))?W.priority&&(O=1):K[I]=P=dw.call(e,U,I,"get",L[I],ae,C,0,r.stringFilter);e._op&&e._op[N]&&e.kill(U,e._op[N]),w&&e._pt&&(Xf=e,$i.killTweensOf(U,K,e.globalTime(t)),q=!e.parent,Xf=0),e._pt&&c&&(nC[H.id]=1)}O&&yI(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!q,v&&t<=0&&B.render(Jo,!0,!0)},eW=function(e,t,n,r,s,a,l,c){var h=(e._pt&&e._ptCache||(e._ptCache={}))[t],m,g,v,_;if(!h)for(h=e._ptCache[t]=[],v=e._ptLookup,_=e._targets.length;_--;){if(m=v[_][t],m&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==t&&m.fp!==t;)m=m._next;if(!m)return lC=1,e.vars[t]="+=0",pw(e,l),lC=0,c?Ry(t+" not eligible for reset"):1;h.push(m)}for(_=h.length;_--;)g=h[_],m=g._pt||g,m.s=(r||r===0)&&!s?r:m.s+(r||0)+a*m.c,m.c=n-m.s,g.e&&(g.e=Sr(n)+Gs(g.e)),g.b&&(g.b=m.s+Gs(g.b))},tW=function(e,t){var n=e[0]?Wd(e[0]).harness:0,r=n&&n.aliases,s,a,l,c;if(!r)return t;s=Ug({},t);for(a in r)if(a in s)for(c=r[a].split(","),l=c.length;l--;)s[c[l]]=s[a];return s},nW=function(e,t,n,r){var s=t.ease||r||"power1.inOut",a,l;if(Ys(t))l=n[e]||(n[e]=[]),t.forEach(function(c,h){return l.push({t:h/(t.length-1)*100,v:c,e:s})});else for(a in t)l=n[a]||(n[a]=[]),a==="ease"||l.push({t:parseFloat(e),v:t[a],e:s})},ny=function(e,t,n,r,s){return cr(e)?e.call(t,n,r,s):os(e)&&~e.indexOf("random(")?Dy(e):e},dI=cw+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",pI={};Ha(dI+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return pI[i]=1});var Nr=function(i){OP(e,i);function e(n,r,s,a){var l;typeof r=="number"&&(s.duration=r,r=s,s=null),l=i.call(this,a?r:ey(r))||this;var c=l.vars,h=c.duration,m=c.delay,g=c.immediateRender,v=c.stagger,_=c.overwrite,S=c.keyframes,M=c.defaults,b=c.scrollTrigger,A=c.yoyoEase,C=r.parent||$i,w=(Ys(n)||LP(n)?Oc(n[0]):"length"in r)?[n]:Zo(n),B,L,N,I,P,U,O,H;if(l._targets=w.length?fw(w):Ry("GSAP target "+n+" not found. https://gsap.com",!po.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=_,S||v||$x(h)||$x(m)){if(r=l.vars,B=l.timeline=new va({data:"nested",defaults:M||{},targets:C&&C.data==="nested"?C.vars.targets:w}),B.kill(),B.parent=B._dp=_c(l),B._start=0,v||$x(h)||$x(m)){if(I=w.length,O=v&&QP(v),Gu(v))for(P in v)~dI.indexOf(P)&&(H||(H={}),H[P]=v[P]);for(L=0;L<I;L++)N=UA(r,pI),N.stagger=0,A&&(N.yoyoEase=A),H&&Ug(N,H),U=w[L],N.duration=+ny(h,_c(l),L,U,w),N.delay=(+ny(m,_c(l),L,U,w)||0)-l._delay,!v&&I===1&&N.delay&&(l._delay=m=N.delay,l._start+=m,N.delay=0),B.to(U,N,O?O(L,U,w):0),B._ease=Zn.none;B.duration()?h=m=0:l.timeline=0}else if(S){ey(yo(B.vars.defaults,{ease:"none"})),B._ease=Jd(S.ease||r.ease||"none");var V=0,W,K,ae;if(Ys(S))S.forEach(function(G){return B.to(w,G,">")}),B.duration();else{N={};for(P in S)P==="ease"||P==="easeEach"||nW(P,S[P],N,S.easeEach);for(P in N)for(W=N[P].sort(function(G,q){return G.t-q.t}),V=0,L=0;L<W.length;L++)K=W[L],ae={ease:K.e,duration:(K.t-(L?W[L-1].t:0))/100*h},ae[P]=K.v,B.to(w,ae,V),V+=ae.duration;B.duration()<h&&B.to({},{duration:h-B.duration()})}}h||l.duration(h=B.duration())}else l.timeline=0;return _===!0&&!rw&&(Xf=_c(l),$i.killTweensOf(w),Xf=0),Ou(C,_c(l),s),r.reversed&&l.reverse(),r.paused&&l.paused(!0),(g||!h&&!S&&l._start===Pr(C._time)&&za(g)&&Uq(_c(l))&&C.data!=="nested")&&(l._tTime=-Ui,l.render(Math.max(0,-m)||0)),b&&WP(_c(l),b),l}var t=e.prototype;return t.render=function(r,s,a){var l=this._time,c=this._tDur,h=this._dur,m=r<0,g=r>c-Ui&&!m?c:r<Ui?0:r,v,_,S,M,b,A,C,w,B;if(!h)Nq(this,r,s,a);else if(g!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(v=g,w=this.timeline,this._repeat){if(M=h+this._rDelay,this._repeat<-1&&m)return this.totalTime(M*100+r,s,a);if(v=Pr(g%M),g===c?(S=this._repeat,v=h):(b=Pr(g/M),S=~~b,S&&S===b?(v=h,S--):v>h&&(v=h)),A=this._yoyo&&S&1,A&&(B=this._yEase,v=h-v),b=Lg(this._tTime,M),v===l&&!a&&this._initted&&S===b)return this._tTime=g,this;S!==b&&(w&&this._yEase&&uI(w,A),this.vars.repeatRefresh&&!A&&!this._lock&&v!==M&&this._initted&&(this._lock=a=1,this.render(Pr(M*S),!0).invalidate()._lock=0))}if(!this._initted){if(KP(this,m?r:v,a,s,g))return this._tTime=0,this;if(l!==this._time&&!(a&&this.vars.repeatRefresh&&S!==b))return this;if(h!==this._dur)return this.render(r,s,a)}if(this._tTime=g,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=C=(B||this._ease)(v/h),this._from&&(this.ratio=C=1-C),!l&&g&&!s&&!b&&(fo(this,"onStart"),this._tTime!==g))return this;for(_=this._pt;_;)_.r(C,_.d),_=_._next;w&&w.render(r<0?r:w._dur*w._ease(v/this._dur),s,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(m&&iC(this,r,s,a),fo(this,"onUpdate")),this._repeat&&S!==b&&this.vars.onRepeat&&!s&&this.parent&&fo(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(m&&!this._onUpdate&&iC(this,r,!0,!0),(r||!h)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&ih(this,1),!s&&!(m&&!l)&&(g||l||A)&&(fo(this,g===c?"onComplete":"onReverseComplete",!0),this._prom&&!(g<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),i.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,a,l,c){Oy||uo.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),m;return this._initted||pw(this,h),m=this._ease(h/this._dur),eW(this,r,s,a,l,m,h,c)?this.resetTo(r,s,a,l,1):(Nb(this,0),this.parent||jP(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Lv(this):this.scrollTrigger&&this.scrollTrigger.kill(!!bs),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,Xf&&Xf.vars.overwrite!==!0)._first||Lv(this),this.parent&&a!==this.timeline.totalDuration()&&Ng(this,this._dur*this.timeline._tDur/a,0,1),this}var l=this._targets,c=r?Zo(r):l,h=this._ptLookup,m=this._pt,g,v,_,S,M,b,A;if((!s||s==="all")&&Dq(l,c))return s==="all"&&(this._pt=0),Lv(this);for(g=this._op=this._op||[],s!=="all"&&(os(s)&&(M={},Ha(s,function(C){return M[C]=1}),s=M),s=tW(l,s)),A=l.length;A--;)if(~c.indexOf(l[A])){v=h[A],s==="all"?(g[A]=s,S=v,_={}):(_=g[A]=g[A]||{},S=s);for(M in S)b=v&&v[M],b&&((!("kill"in b.d)||b.d.kill(M)===!0)&&Ub(this,b,"_pt"),delete v[M]),_!=="all"&&(_[M]=1)}return this._initted&&!this._pt&&m&&Lv(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return ty(1,arguments)},e.delayedCall=function(r,s,a,l){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:l})},e.fromTo=function(r,s,a){return ty(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,a){return $i.killTweensOf(r,s,a)},e}(Uy);yo(Nr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ha("staggerTo,staggerFrom,staggerFromTo",function(i){Nr[i]=function(){var e=new va,t=sC.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});var mw=function(e,t,n){return e[t]=n},mI=function(e,t,n){return e[t](n)},iW=function(e,t,n,r){return e[t](r.fp,n)},rW=function(e,t,n){return e.setAttribute(t,n)},gw=function(e,t){return cr(e[t])?mI:sw(e[t])&&e.setAttribute?rW:mw},gI=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},sW=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},vI=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},vw=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},aW=function(e,t,n,r){for(var s=this._pt,a;s;)a=s._next,s.p===r&&s.modifier(e,t,n),s=a},oW=function(e){for(var t=this._pt,n,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?Ub(this,t,"_pt"):t.dep||(n=1),t=r;return!n},lW=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},yI=function(e){for(var t=e._pt,n,r,s,a;t;){for(n=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:a)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:a=t,t=n}e._pt=s},Ga=function(){function i(t,n,r,s,a,l,c,h,m){this.t=n,this.s=s,this.c=a,this.p=r,this.r=l||gI,this.d=c||this,this.set=h||mw,this.pr=m||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(n,r,s){this.mSet=this.mSet||this.set,this.set=lW,this.m=n,this.mt=s,this.tween=r},i}();Ha(cw+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return uw[i]=1});vo.TweenMax=vo.TweenLite=Nr;vo.TimelineLite=vo.TimelineMax=va;$i=new va({sortChildren:!1,defaults:Og,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});po.stringFilter=oI;var Zd=[],MS={},uW=[],eO=0,cW=0,nT=function(e){return(MS[e]||uW).map(function(t){return t()})},uC=function(){var e=Date.now(),t=[];e-eO>2&&(nT("matchMediaInit"),Zd.forEach(function(n){var r=n.queries,s=n.conditions,a,l,c,h;for(l in r)a=Ru.matchMedia(r[l]).matches,a&&(c=1),a!==s[l]&&(s[l]=a,h=1);h&&(n.revert(),c&&t.push(n))}),nT("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(r){return n.add(null,r)})}),eO=e,nT("matchMedia"))},_I=function(){function i(t,n){this.selector=n&&aC(n),this.data=[],this._r=[],this.isReverted=!1,this.id=cW++,t&&this.add(t)}var e=i.prototype;return e.add=function(n,r,s){cr(n)&&(s=r,r=n,n=cr);var a=this,l=function(){var h=ji,m=a.selector,g;return h&&h!==a&&h.data.push(a),s&&(a.selector=aC(s)),ji=a,g=r.apply(a,arguments),cr(g)&&a._r.push(g),ji=h,a.selector=m,a.isReverted=!1,g};return a.last=l,n===cr?l(a,function(c){return a.add(null,c)}):n?a[n]=l:l},e.ignore=function(n){var r=ji;ji=null,n(this),ji=r},e.getTweens=function(){var n=[];return this.data.forEach(function(r){return r instanceof i?n.push.apply(n,r.getTweens()):r instanceof Nr&&!(r.parent&&r.parent.data==="nested")&&n.push(r)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,r){var s=this;if(n?function(){for(var l=s.getTweens(),c=s.data.length,h;c--;)h=s.data[c],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(m){return l.splice(l.indexOf(m),1)}));for(l.map(function(m){return{g:m._dur||m._delay||m._sat&&!m._sat.vars.immediateRender?m.globalTime(0):-1/0,t:m}}).sort(function(m,g){return g.g-m.g||-1/0}).forEach(function(m){return m.t.revert(n)}),c=s.data.length;c--;)h=s.data[c],h instanceof va?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof Nr)&&h.revert&&h.revert(n);s._r.forEach(function(m){return m(n,s)}),s.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),r)for(var a=Zd.length;a--;)Zd[a].id===this.id&&Zd.splice(a,1)},e.revert=function(n){this.kill(n||{})},i}(),fW=function(){function i(t){this.contexts=[],this.scope=t,ji&&ji.data.push(this)}var e=i.prototype;return e.add=function(n,r,s){Gu(n)||(n={matches:n});var a=new _I(0,s||this.scope),l=a.conditions={},c,h,m;ji&&!a.selector&&(a.selector=ji.selector),this.contexts.push(a),r=a.add("onMatch",r),a.queries=n;for(h in n)h==="all"?m=1:(c=Ru.matchMedia(n[h]),c&&(Zd.indexOf(a)<0&&Zd.push(a),(l[h]=c.matches)&&(m=1),c.addListener?c.addListener(uC):c.addEventListener("change",uC)));return m&&r(a,function(g){return a.add(null,g)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(r){return r.kill(n,!0)})},i}(),NA={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(r){return rI(r)})},timeline:function(e){return new va(e)},getTweensOf:function(e,t){return $i.getTweensOf(e,t)},getProperty:function(e,t,n,r){os(e)&&(e=Zo(e)[0]);var s=Wd(e||{}).get,a=n?YP:XP;return n==="native"&&(n=""),e&&(t?a((oo[t]&&oo[t].get||s)(e,t,n,r)):function(l,c,h){return a((oo[l]&&oo[l].get||s)(e,l,c,h))})},quickSetter:function(e,t,n){if(e=Zo(e),e.length>1){var r=e.map(function(m){return ka.quickSetter(m,t,n)}),s=r.length;return function(m){for(var g=s;g--;)r[g](m)}}e=e[0]||{};var a=oo[t],l=Wd(e),c=l.harness&&(l.harness.aliases||{})[t]||t,h=a?function(m){var g=new a;eg._pt=0,g.init(e,n?m+n:m,eg,0,[e]),g.render(1,g),eg._pt&&vw(1,eg)}:l.set(e,c);return a?h:function(m){return h(e,c,n?m+n:m,l,1)}},quickTo:function(e,t,n){var r,s=ka.to(e,yo((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),a=function(c,h,m){return s.resetTo(t,c,h,m)};return a.tween=s,a},isTweening:function(e){return $i.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Jd(e.ease,Og.ease)),K3(Og,e||{})},config:function(e){return K3(po,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,s=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach(function(l){return l&&!oo[l]&&!vo[l]&&Ry(t+" effect requires "+l+" plugin.")}),QE[t]=function(l,c,h){return n(Zo(l),yo(c||{},s),h)},a&&(va.prototype[t]=function(l,c,h){return this.add(QE[t](l,Gu(c)?c:(h=c)&&{},this),h)})},registerEase:function(e,t){Zn[e]=Jd(t)},parseEase:function(e,t){return arguments.length?Jd(e,t):Zn},getById:function(e){return $i.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new va(e),r,s;for(n.smoothChildTiming=za(e.smoothChildTiming),$i.remove(n),n._dp=0,n._time=n._tTime=$i._time,r=$i._first;r;)s=r._next,(t||!(!r._dur&&r instanceof Nr&&r.vars.onComplete===r._targets[0]))&&Ou(n,r,r._start-r._delay),r=s;return Ou($i,n,0),n},context:function(e,t){return e?new _I(e,t):ji},matchMedia:function(e){return new fW(e)},matchMediaRefresh:function(){return Zd.forEach(function(e){var t=e.conditions,n,r;for(r in t)t[r]&&(t[r]=!1,n=1);n&&e.revert()})||uC()},addEventListener:function(e,t){var n=MS[e]||(MS[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=MS[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:kq,wrapYoyo:Xq,distribute:QP,random:eI,snap:$P,normalize:Vq,getUnit:Gs,clamp:Fq,splitColor:sI,toArray:Zo,selector:aC,mapRange:nI,pipe:Hq,unitize:Gq,interpolate:Yq,shuffle:ZP},install:zP,effects:QE,ticker:uo,updateRoot:va.updateRoot,plugins:oo,globalTimeline:$i,core:{PropTween:Ga,globals:HP,Tween:Nr,Timeline:va,Animation:Uy,getCache:Wd,_removeLinkedListItem:Ub,reverting:function(){return bs},context:function(e){return e&&ji&&(ji.data.push(e),e._ctx=ji),ji},suppressOverwrites:function(e){return rw=e}}};Ha("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return NA[i]=Nr[i]});uo.add(va.updateRoot);eg=NA.to({},{duration:0});var hW=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},dW=function(e,t){var n=e._targets,r,s,a;for(r in t)for(s=n.length;s--;)a=e._ptLookup[s][r],a&&(a=a.d)&&(a._pt&&(a=hW(a,r)),a&&a.modifier&&a.modifier(t[r],e,n[s],r))},iT=function(e,t){return{name:e,headless:1,rawVars:1,init:function(r,s,a){a._onInit=function(l){var c,h;if(os(s)&&(c={},Ha(s,function(m){return c[m]=1}),s=c),t){c={};for(h in s)c[h]=t(s[h]);s=c}dW(l,s)}}}},ka=NA.registerPlugin({name:"attr",init:function(e,t,n,r,s){var a,l,c;this.tween=n;for(a in t)c=e.getAttribute(a)||"",l=this.add(e,"setAttribute",(c||0)+"",t[a],r,s,0,0,a),l.op=a,l.b=c,this._props.push(a)},render:function(e,t){for(var n=t._pt;n;)bs?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},iT("roundProps",oC),iT("modifiers"),iT("snap",$P))||NA;Nr.version=va.version=ka.version="3.13.0";FP=1;aw()&&Pg();Zn.Power0;Zn.Power1;Zn.Power2;Zn.Power3;Zn.Power4;Zn.Linear;Zn.Quad;Zn.Cubic;Zn.Quart;Zn.Quint;Zn.Strong;Zn.Elastic;Zn.Back;Zn.SteppedEase;Zn.Bounce;Zn.Sine;Zn.Expo;Zn.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var tO,Yf,dg,yw,Hd,nO,_w,pW=function(){return typeof window<"u"},Uc={},wd=180/Math.PI,pg=Math.PI/180,Ym=Math.atan2,iO=1e8,xw=/([A-Z])/g,mW=/(left|right|width|margin|padding|x)/i,gW=/[\s,\(]\S/,Uu={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},cC=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},vW=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},yW=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},_W=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},xI=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},SI=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},xW=function(e,t,n){return e.style[t]=n},SW=function(e,t,n){return e.style.setProperty(t,n)},AW=function(e,t,n){return e._gsap[t]=n},bW=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},MW=function(e,t,n,r,s){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(s,a)},EW=function(e,t,n,r,s){var a=e._gsap;a[t]=n,a.renderTransform(s,a)},nr="transform",Va=nr+"Origin",TW=function i(e,t){var n=this,r=this.target,s=r.style,a=r._gsap;if(e in Uc&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Uu[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return n.tfm[l]=Sc(r,l)}):this.tfm[e]=a.x?a[e]:Sc(r,e),e===Va&&(this.tfm.zOrigin=a.zOrigin);else return Uu.transform.split(",").forEach(function(l){return i.call(n,l,t)});if(this.props.indexOf(nr)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(Va,t,"")),e=nr}(s||t)&&this.props.push(e,t,s[e])},AI=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},CW=function(){var e=this.props,t=this.target,n=t.style,r=t._gsap,s,a;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(xw,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=_w(),(!s||!s.isStart)&&!n[nr]&&(AI(n),r.zOrigin&&n[Va]&&(n[Va]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},bI=function(e,t){var n={target:e,props:[],revert:CW,save:TW};return e._gsap||ka.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return n.save(r)}),n},MI,fC=function(e,t){var n=Yf.createElementNS?Yf.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Yf.createElement(e);return n&&n.style?n:Yf.createElement(e)},Qo=function i(e,t,n){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(xw,"-$1").toLowerCase())||r.getPropertyValue(t)||!n&&i(e,Ig(t)||t,1)||""},rO="O,Moz,ms,Ms,Webkit".split(","),Ig=function(e,t,n){var r=t||Hd,s=r.style,a=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(rO[a]+e in s););return a<0?null:(a===3?"ms":a>=0?rO[a]:"")+e},hC=function(){pW()&&window.document&&(tO=window,Yf=tO.document,dg=Yf.documentElement,Hd=fC("div")||{style:{}},fC("div"),nr=Ig(nr),Va=nr+"Origin",Hd.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",MI=!!Ig("perspective"),_w=ka.core.reverting,yw=1)},sO=function(e){var t=e.ownerSVGElement,n=fC("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),s;r.style.display="block",n.appendChild(r),dg.appendChild(n);try{s=r.getBBox()}catch{}return n.removeChild(r),dg.removeChild(n),s},aO=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},EI=function(e){var t,n;try{t=e.getBBox()}catch{t=sO(e),n=1}return t&&(t.width||t.height)||n||(t=sO(e)),t&&!t.width&&!t.x&&!t.y?{x:+aO(e,["x","cx","x1"])||0,y:+aO(e,["y","cy","y1"])||0,width:0,height:0}:t},TI=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&EI(e))},dp=function(e,t){if(t){var n=e.style,r;t in Uc&&t!==Va&&(t=nr),n.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(r==="--"?t:t.replace(xw,"-$1").toLowerCase())):n.removeAttribute(t)}},jf=function(e,t,n,r,s,a){var l=new Ga(e._pt,t,n,0,1,a?SI:xI);return e._pt=l,l.b=r,l.e=s,e._props.push(n),l},oO={deg:1,rad:1,turn:1},wW={grid:1,flex:1},rh=function i(e,t,n,r){var s=parseFloat(n)||0,a=(n+"").trim().substr((s+"").length)||"px",l=Hd.style,c=mW.test(t),h=e.tagName.toLowerCase()==="svg",m=(h?"client":"offset")+(c?"Width":"Height"),g=100,v=r==="px",_=r==="%",S,M,b,A;if(r===a||!s||oO[r]||oO[a])return s;if(a!=="px"&&!v&&(s=i(e,t,n,"px")),A=e.getCTM&&TI(e),(_||a==="%")&&(Uc[t]||~t.indexOf("adius")))return S=A?e.getBBox()[c?"width":"height"]:e[m],Sr(_?s/S*g:s/100*S);if(l[c?"width":"height"]=g+(v?a:r),M=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!h?e:e.parentNode,A&&(M=(e.ownerSVGElement||{}).parentNode),(!M||M===Yf||!M.appendChild)&&(M=Yf.body),b=M._gsap,b&&_&&b.width&&c&&b.time===uo.time&&!b.uncache)return Sr(s/b.width*g);if(_&&(t==="height"||t==="width")){var C=e.style[t];e.style[t]=g+r,S=e[m],C?e.style[t]=C:dp(e,t)}else(_||a==="%")&&!wW[Qo(M,"display")]&&(l.position=Qo(e,"position")),M===e&&(l.position="static"),M.appendChild(Hd),S=Hd[m],M.removeChild(Hd),l.position="absolute";return c&&_&&(b=Wd(M),b.time=uo.time,b.width=M[m]),Sr(v?S*s/g:S&&s?g/S*s:0)},Sc=function(e,t,n,r){var s;return yw||hC(),t in Uu&&t!=="transform"&&(t=Uu[t],~t.indexOf(",")&&(t=t.split(",")[0])),Uc[t]&&t!=="transform"?(s=Ny(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:IA(Qo(e,Va))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=PA[t]&&PA[t](e,t,n)||Qo(e,t)||VP(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?rh(e,t,s,n)+n:s},RW=function(e,t,n,r){if(!n||n==="none"){var s=Ig(t,e,1),a=s&&Qo(e,s,1);a&&a!==n?(t=s,n=a):t==="borderColor"&&(n=Qo(e,"borderTopColor"))}var l=new Ga(this._pt,e.style,t,0,1,vI),c=0,h=0,m,g,v,_,S,M,b,A,C,w,B,L;if(l.b=n,l.e=r,n+="",r+="",r.substring(0,6)==="var(--"&&(r=Qo(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(M=e.style[t],e.style[t]=r,r=Qo(e,t)||r,M?e.style[t]=M:dp(e,t)),m=[n,r],oI(m),n=m[0],r=m[1],v=n.match($m)||[],L=r.match($m)||[],L.length){for(;g=$m.exec(r);)b=g[0],C=r.substring(c,g.index),S?S=(S+1)%5:(C.substr(-5)==="rgba("||C.substr(-5)==="hsla(")&&(S=1),b!==(M=v[h++]||"")&&(_=parseFloat(M)||0,B=M.substr((_+"").length),b.charAt(1)==="="&&(b=hg(_,b)+B),A=parseFloat(b),w=b.substr((A+"").length),c=$m.lastIndex-w.length,w||(w=w||po.units[t]||B,c===r.length&&(r+=w,l.e+=w)),B!==w&&(_=rh(e,t,M,w)||0),l._pt={_next:l._pt,p:C||h===1?C:",",s:_,c:A-_,m:S&&S<4||t==="zIndex"?Math.round:0});l.c=c<r.length?r.substring(c,r.length):""}else l.r=t==="display"&&r==="none"?SI:xI;return PP.test(r)&&(l.e=0),this._pt=l,l},lO={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},BW=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return(n==="top"||n==="bottom"||r==="left"||r==="right")&&(e=n,n=r,r=e),t[0]=lO[n]||n,t[1]=lO[r]||r,t.join(" ")},DW=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,r=n.style,s=t.u,a=n._gsap,l,c,h;if(s==="all"||s===!0)r.cssText="",c=1;else for(s=s.split(","),h=s.length;--h>-1;)l=s[h],Uc[l]&&(c=1,l=l==="transformOrigin"?Va:nr),dp(n,l);c&&(dp(n,nr),a&&(a.svg&&n.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",Ny(n,1),a.uncache=1,AI(r)))}},PA={clearProps:function(e,t,n,r,s){if(s.data!=="isFromStart"){var a=e._pt=new Ga(e._pt,t,n,0,0,DW);return a.u=r,a.pr=-10,a.tween=s,e._props.push(n),1}}},Ly=[1,0,0,1,0,0],CI={},wI=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},uO=function(e){var t=Qo(e,nr);return wI(t)?Ly:t.substr(7).match(NP).map(Sr)},Sw=function(e,t){var n=e._gsap||Wd(e),r=e.style,s=uO(e),a,l,c,h;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?Ly:s):(s===Ly&&!e.offsetParent&&e!==dg&&!n.svg&&(c=r.display,r.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,l=e.nextElementSibling,dg.appendChild(e)),s=uO(e),c?r.display=c:dp(e,"display"),h&&(l?a.insertBefore(e,l):a?a.appendChild(e):dg.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},dC=function(e,t,n,r,s,a){var l=e._gsap,c=s||Sw(e,!0),h=l.xOrigin||0,m=l.yOrigin||0,g=l.xOffset||0,v=l.yOffset||0,_=c[0],S=c[1],M=c[2],b=c[3],A=c[4],C=c[5],w=t.split(" "),B=parseFloat(w[0])||0,L=parseFloat(w[1])||0,N,I,P,U;n?c!==Ly&&(I=_*b-S*M)&&(P=B*(b/I)+L*(-M/I)+(M*C-b*A)/I,U=B*(-S/I)+L*(_/I)-(_*C-S*A)/I,B=P,L=U):(N=EI(e),B=N.x+(~w[0].indexOf("%")?B/100*N.width:B),L=N.y+(~(w[1]||w[0]).indexOf("%")?L/100*N.height:L)),r||r!==!1&&l.smooth?(A=B-h,C=L-m,l.xOffset=g+(A*_+C*M)-A,l.yOffset=v+(A*S+C*b)-C):l.xOffset=l.yOffset=0,l.xOrigin=B,l.yOrigin=L,l.smooth=!!r,l.origin=t,l.originIsAbsolute=!!n,e.style[Va]="0px 0px",a&&(jf(a,l,"xOrigin",h,B),jf(a,l,"yOrigin",m,L),jf(a,l,"xOffset",g,l.xOffset),jf(a,l,"yOffset",v,l.yOffset)),e.setAttribute("data-svg-origin",B+" "+L)},Ny=function(e,t){var n=e._gsap||new fI(e);if("x"in n&&!t&&!n.uncache)return n;var r=e.style,s=n.scaleX<0,a="px",l="deg",c=getComputedStyle(e),h=Qo(e,Va)||"0",m,g,v,_,S,M,b,A,C,w,B,L,N,I,P,U,O,H,V,W,K,ae,G,q,$,pe,z,oe,ve,Ae,se,Te;return m=g=v=M=b=A=C=w=B=0,_=S=1,n.svg=!!(e.getCTM&&TI(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(r[nr]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[nr]!=="none"?c[nr]:"")),r.scale=r.rotate=r.translate="none"),I=Sw(e,n.svg),n.svg&&(n.uncache?($=e.getBBox(),h=n.xOrigin-$.x+"px "+(n.yOrigin-$.y)+"px",q=""):q=!t&&e.getAttribute("data-svg-origin"),dC(e,q||h,!!q||n.originIsAbsolute,n.smooth!==!1,I)),L=n.xOrigin||0,N=n.yOrigin||0,I!==Ly&&(H=I[0],V=I[1],W=I[2],K=I[3],m=ae=I[4],g=G=I[5],I.length===6?(_=Math.sqrt(H*H+V*V),S=Math.sqrt(K*K+W*W),M=H||V?Ym(V,H)*wd:0,C=W||K?Ym(W,K)*wd+M:0,C&&(S*=Math.abs(Math.cos(C*pg))),n.svg&&(m-=L-(L*H+N*W),g-=N-(L*V+N*K))):(Te=I[6],Ae=I[7],z=I[8],oe=I[9],ve=I[10],se=I[11],m=I[12],g=I[13],v=I[14],P=Ym(Te,ve),b=P*wd,P&&(U=Math.cos(-P),O=Math.sin(-P),q=ae*U+z*O,$=G*U+oe*O,pe=Te*U+ve*O,z=ae*-O+z*U,oe=G*-O+oe*U,ve=Te*-O+ve*U,se=Ae*-O+se*U,ae=q,G=$,Te=pe),P=Ym(-W,ve),A=P*wd,P&&(U=Math.cos(-P),O=Math.sin(-P),q=H*U-z*O,$=V*U-oe*O,pe=W*U-ve*O,se=K*O+se*U,H=q,V=$,W=pe),P=Ym(V,H),M=P*wd,P&&(U=Math.cos(P),O=Math.sin(P),q=H*U+V*O,$=ae*U+G*O,V=V*U-H*O,G=G*U-ae*O,H=q,ae=$),b&&Math.abs(b)+Math.abs(M)>359.9&&(b=M=0,A=180-A),_=Sr(Math.sqrt(H*H+V*V+W*W)),S=Sr(Math.sqrt(G*G+Te*Te)),P=Ym(ae,G),C=Math.abs(P)>2e-4?P*wd:0,B=se?1/(se<0?-se:se):0),n.svg&&(q=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!wI(Qo(e,nr)),q&&e.setAttribute("transform",q))),Math.abs(C)>90&&Math.abs(C)<270&&(s?(_*=-1,C+=M<=0?180:-180,M+=M<=0?180:-180):(S*=-1,C+=C<=0?180:-180)),t=t||n.uncache,n.x=m-((n.xPercent=m&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-m)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+a,n.y=g-((n.yPercent=g&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+a,n.z=v+a,n.scaleX=Sr(_),n.scaleY=Sr(S),n.rotation=Sr(M)+l,n.rotationX=Sr(b)+l,n.rotationY=Sr(A)+l,n.skewX=C+l,n.skewY=w+l,n.transformPerspective=B+a,(n.zOrigin=parseFloat(h.split(" ")[2])||!t&&n.zOrigin||0)&&(r[Va]=IA(h)),n.xOffset=n.yOffset=0,n.force3D=po.force3D,n.renderTransform=n.svg?UW:MI?RI:OW,n.uncache=0,n},IA=function(e){return(e=e.split(" "))[0]+" "+e[1]},rT=function(e,t,n){var r=Gs(t);return Sr(parseFloat(t)+parseFloat(rh(e,"x",n+"px",r)))+r},OW=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,RI(e,t)},Sd="0deg",Cv="0px",Ad=") ",RI=function(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,a=n.x,l=n.y,c=n.z,h=n.rotation,m=n.rotationY,g=n.rotationX,v=n.skewX,_=n.skewY,S=n.scaleX,M=n.scaleY,b=n.transformPerspective,A=n.force3D,C=n.target,w=n.zOrigin,B="",L=A==="auto"&&e&&e!==1||A===!0;if(w&&(g!==Sd||m!==Sd)){var N=parseFloat(m)*pg,I=Math.sin(N),P=Math.cos(N),U;N=parseFloat(g)*pg,U=Math.cos(N),a=rT(C,a,I*U*-w),l=rT(C,l,-Math.sin(N)*-w),c=rT(C,c,P*U*-w+w)}b!==Cv&&(B+="perspective("+b+Ad),(r||s)&&(B+="translate("+r+"%, "+s+"%) "),(L||a!==Cv||l!==Cv||c!==Cv)&&(B+=c!==Cv||L?"translate3d("+a+", "+l+", "+c+") ":"translate("+a+", "+l+Ad),h!==Sd&&(B+="rotate("+h+Ad),m!==Sd&&(B+="rotateY("+m+Ad),g!==Sd&&(B+="rotateX("+g+Ad),(v!==Sd||_!==Sd)&&(B+="skew("+v+", "+_+Ad),(S!==1||M!==1)&&(B+="scale("+S+", "+M+Ad),C.style[nr]=B||"translate(0, 0)"},UW=function(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,a=n.x,l=n.y,c=n.rotation,h=n.skewX,m=n.skewY,g=n.scaleX,v=n.scaleY,_=n.target,S=n.xOrigin,M=n.yOrigin,b=n.xOffset,A=n.yOffset,C=n.forceCSS,w=parseFloat(a),B=parseFloat(l),L,N,I,P,U;c=parseFloat(c),h=parseFloat(h),m=parseFloat(m),m&&(m=parseFloat(m),h+=m,c+=m),c||h?(c*=pg,h*=pg,L=Math.cos(c)*g,N=Math.sin(c)*g,I=Math.sin(c-h)*-v,P=Math.cos(c-h)*v,h&&(m*=pg,U=Math.tan(h-m),U=Math.sqrt(1+U*U),I*=U,P*=U,m&&(U=Math.tan(m),U=Math.sqrt(1+U*U),L*=U,N*=U)),L=Sr(L),N=Sr(N),I=Sr(I),P=Sr(P)):(L=g,P=v,N=I=0),(w&&!~(a+"").indexOf("px")||B&&!~(l+"").indexOf("px"))&&(w=rh(_,"x",a,"px"),B=rh(_,"y",l,"px")),(S||M||b||A)&&(w=Sr(w+S-(S*L+M*I)+b),B=Sr(B+M-(S*N+M*P)+A)),(r||s)&&(U=_.getBBox(),w=Sr(w+r/100*U.width),B=Sr(B+s/100*U.height)),U="matrix("+L+","+N+","+I+","+P+","+w+","+B+")",_.setAttribute("transform",U),C&&(_.style[nr]=U)},LW=function(e,t,n,r,s){var a=360,l=os(s),c=parseFloat(s)*(l&&~s.indexOf("rad")?wd:1),h=c-r,m=r+h+"deg",g,v;return l&&(g=s.split("_")[1],g==="short"&&(h%=a,h!==h%(a/2)&&(h+=h<0?a:-a)),g==="cw"&&h<0?h=(h+a*iO)%a-~~(h/a)*a:g==="ccw"&&h>0&&(h=(h-a*iO)%a-~~(h/a)*a)),e._pt=v=new Ga(e._pt,t,n,r,h,vW),v.e=m,v.u="deg",e._props.push(n),v},cO=function(e,t){for(var n in t)e[n]=t[n];return e},NW=function(e,t,n){var r=cO({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",a=n.style,l,c,h,m,g,v,_,S;r.svg?(h=n.getAttribute("transform"),n.setAttribute("transform",""),a[nr]=t,l=Ny(n,1),dp(n,nr),n.setAttribute("transform",h)):(h=getComputedStyle(n)[nr],a[nr]=t,l=Ny(n,1),a[nr]=h);for(c in Uc)h=r[c],m=l[c],h!==m&&s.indexOf(c)<0&&(_=Gs(h),S=Gs(m),g=_!==S?rh(n,c,h,S):parseFloat(h),v=parseFloat(m),e._pt=new Ga(e._pt,l,c,g,v-g,cC),e._pt.u=S||0,e._props.push(c));cO(l,r)};Ha("padding,margin,Width,Radius",function(i,e){var t="Top",n="Right",r="Bottom",s="Left",a=(e<3?[t,n,r,s]:[t+s,t+n,r+n,r+s]).map(function(l){return e<2?i+l:"border"+l+i});PA[e>1?"border"+i:i]=function(l,c,h,m,g){var v,_;if(arguments.length<4)return v=a.map(function(S){return Sc(l,S,h)}),_=v.join(" "),_.split(v[0]).length===5?v[0]:_;v=(m+"").split(" "),_={},a.forEach(function(S,M){return _[S]=v[M]=v[M]||v[(M-1)/2|0]}),l.init(c,_,g)}});var BI={name:"css",register:hC,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,s){var a=this._props,l=e.style,c=n.vars.startAt,h,m,g,v,_,S,M,b,A,C,w,B,L,N,I,P;yw||hC(),this.styles=this.styles||bI(e),P=this.styles.props,this.tween=n;for(M in t)if(M!=="autoRound"&&(m=t[M],!(oo[M]&&hI(M,t,n,r,e,s)))){if(_=typeof m,S=PA[M],_==="function"&&(m=m.call(n,r,e,s),_=typeof m),_==="string"&&~m.indexOf("random(")&&(m=Dy(m)),S)S(this,e,M,m,n)&&(I=1);else if(M.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(M)+"").trim(),m+="",Zf.lastIndex=0,Zf.test(h)||(b=Gs(h),A=Gs(m)),A?b!==A&&(h=rh(e,M,h,A)+A):b&&(m+=b),this.add(l,"setProperty",h,m,r,s,0,0,M),a.push(M),P.push(M,0,l[M]);else if(_!=="undefined"){if(c&&M in c?(h=typeof c[M]=="function"?c[M].call(n,r,e,s):c[M],os(h)&&~h.indexOf("random(")&&(h=Dy(h)),Gs(h+"")||h==="auto"||(h+=po.units[M]||Gs(Sc(e,M))||""),(h+"").charAt(1)==="="&&(h=Sc(e,M))):h=Sc(e,M),v=parseFloat(h),C=_==="string"&&m.charAt(1)==="="&&m.substr(0,2),C&&(m=m.substr(2)),g=parseFloat(m),M in Uu&&(M==="autoAlpha"&&(v===1&&Sc(e,"visibility")==="hidden"&&g&&(v=0),P.push("visibility",0,l.visibility),jf(this,l,"visibility",v?"inherit":"hidden",g?"inherit":"hidden",!g)),M!=="scale"&&M!=="transform"&&(M=Uu[M],~M.indexOf(",")&&(M=M.split(",")[0]))),w=M in Uc,w){if(this.styles.save(M),_==="string"&&m.substring(0,6)==="var(--"&&(m=Qo(e,m.substring(4,m.indexOf(")"))),g=parseFloat(m)),B||(L=e._gsap,L.renderTransform&&!t.parseTransform||Ny(e,t.parseTransform),N=t.smoothOrigin!==!1&&L.smooth,B=this._pt=new Ga(this._pt,l,nr,0,1,L.renderTransform,L,0,-1),B.dep=1),M==="scale")this._pt=new Ga(this._pt,L,"scaleY",L.scaleY,(C?hg(L.scaleY,C+g):g)-L.scaleY||0,cC),this._pt.u=0,a.push("scaleY",M),M+="X";else if(M==="transformOrigin"){P.push(Va,0,l[Va]),m=BW(m),L.svg?dC(e,m,0,N,0,this):(A=parseFloat(m.split(" ")[2])||0,A!==L.zOrigin&&jf(this,L,"zOrigin",L.zOrigin,A),jf(this,l,M,IA(h),IA(m)));continue}else if(M==="svgOrigin"){dC(e,m,1,N,0,this);continue}else if(M in CI){LW(this,L,M,v,C?hg(v,C+m):m);continue}else if(M==="smoothOrigin"){jf(this,L,"smooth",L.smooth,m);continue}else if(M==="force3D"){L[M]=m;continue}else if(M==="transform"){NW(this,m,e);continue}}else M in l||(M=Ig(M)||M);if(w||(g||g===0)&&(v||v===0)&&!gW.test(m)&&M in l)b=(h+"").substr((v+"").length),g||(g=0),A=Gs(m)||(M in po.units?po.units[M]:b),b!==A&&(v=rh(e,M,h,A)),this._pt=new Ga(this._pt,w?L:l,M,v,(C?hg(v,C+g):g)-v,!w&&(A==="px"||M==="zIndex")&&t.autoRound!==!1?_W:cC),this._pt.u=A||0,b!==A&&A!=="%"&&(this._pt.b=h,this._pt.r=yW);else if(M in l)RW.call(this,e,M,h,C?C+m:m);else if(M in e)this.add(e,M,h||e[M],C?C+m:m,r,s);else if(M!=="parseTransform"){lw(M,m);continue}w||(M in l?P.push(M,0,l[M]):typeof e[M]=="function"?P.push(M,2,e[M]()):P.push(M,1,h||e[M])),a.push(M)}}I&&yI(this)},render:function(e,t){if(t.tween._time||!_w())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Sc,aliases:Uu,getSetter:function(e,t,n){var r=Uu[t];return r&&r.indexOf(",")<0&&(t=r),t in Uc&&t!==Va&&(e._gsap.x||Sc(e,"x"))?n&&nO===n?t==="scale"?bW:AW:(nO=n||{})&&(t==="scale"?MW:EW):e.style&&!sw(e.style[t])?xW:~t.indexOf("-")?SW:gw(e,t)},core:{_removeProperty:dp,_getMatrix:Sw}};ka.utils.checkPrefix=Ig;ka.core.getStyleSaver=bI;(function(i,e,t,n){var r=Ha(i+","+e+","+t,function(s){Uc[s]=1});Ha(e,function(s){po.units[s]="deg",CI[s]=1}),Uu[r[13]]=i+","+e,Ha(n,function(s){var a=s.split(":");Uu[a[1]]=r[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ha("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){po.units[i]="px"});ka.registerPlugin(BI);var Aw=ka.registerPlugin(BI)||ka;Aw.core.Tween;function PW(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function IW(i,e,t){return e&&PW(i.prototype,e),i}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _s,ES,co,qf,Wf,mg,DI,Rd,iy,OI,Tc,Ol,UI,LI=function(){return _s||typeof window<"u"&&(_s=window.gsap)&&_s.registerPlugin&&_s},NI=1,tg=[],Hn=[],Pu=[],ry=Date.now,pC=function(e,t){return t},FW=function(){var e=iy.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,Hn),r.push.apply(r,Pu),Hn=n,Pu=r,pC=function(a,l){return t[a](l)}},Qf=function(e,t){return~Pu.indexOf(e)&&Pu[Pu.indexOf(e)+1][t]},sy=function(e){return!!~OI.indexOf(e)},ca=function(e,t,n,r,s){return e.addEventListener(t,n,{passive:r!==!1,capture:!!s})},ua=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},eS="scrollLeft",tS="scrollTop",mC=function(){return Tc&&Tc.isPressed||Hn.cache++},FA=function(e,t){var n=function r(s){if(s||s===0){NI&&(co.history.scrollRestoration="manual");var a=Tc&&Tc.isPressed;s=r.v=Math.round(s)||(Tc&&Tc.iOS?1:0),e(s),r.cacheID=Hn.cache,a&&pC("ss",s)}else(t||Hn.cache!==r.cacheID||pC("ref"))&&(r.cacheID=Hn.cache,r.v=e());return r.v+r.offset};return n.offset=0,e&&n},ya={s:eS,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:FA(function(i){return arguments.length?co.scrollTo(i,jr.sc()):co.pageXOffset||qf[eS]||Wf[eS]||mg[eS]||0})},jr={s:tS,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ya,sc:FA(function(i){return arguments.length?co.scrollTo(ya.sc(),i):co.pageYOffset||qf[tS]||Wf[tS]||mg[tS]||0})},Na=function(e,t){return(t&&t._ctx&&t._ctx.selector||_s.utils.toArray)(e)[0]||(typeof e=="string"&&_s.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},zW=function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1},sh=function(e,t){var n=t.s,r=t.sc;sy(e)&&(e=qf.scrollingElement||Wf);var s=Hn.indexOf(e),a=r===jr.sc?1:2;!~s&&(s=Hn.push(e)-1),Hn[s+a]||ca(e,"scroll",mC);var l=Hn[s+a],c=l||(Hn[s+a]=FA(Qf(e,n),!0)||(sy(e)?r:FA(function(h){return arguments.length?e[n]=h:e[n]})));return c.target=e,l||(c.smooth=_s.getProperty(e,"scrollBehavior")==="smooth"),c},gC=function(e,t,n){var r=e,s=e,a=ry(),l=a,c=t||50,h=Math.max(500,c*3),m=function(S,M){var b=ry();M||b-a>c?(s=r,r=S,l=a,a=b):n?r+=S:r=s+(S-s)/(b-l)*(a-l)},g=function(){s=r=n?0:r,l=a=0},v=function(S){var M=l,b=s,A=ry();return(S||S===0)&&S!==r&&m(S),a===l||A-l>h?0:(r+(n?b:-b))/((n?A:a)-M)*1e3};return{update:m,reset:g,getVelocity:v}},wv=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},fO=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},PI=function(){iy=_s.core.globals().ScrollTrigger,iy&&iy.core&&FW()},II=function(e){return _s=e||LI(),!ES&&_s&&typeof document<"u"&&document.body&&(co=window,qf=document,Wf=qf.documentElement,mg=qf.body,OI=[co,qf,Wf,mg],_s.utils.clamp,UI=_s.core.context||function(){},Rd="onpointerenter"in mg?"pointer":"mouse",DI=Mr.isTouch=co.matchMedia&&co.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in co||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Ol=Mr.eventTypes=("ontouchstart"in Wf?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Wf?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return NI=0},500),PI(),ES=1),ES};ya.op=jr;Hn.cache=0;var Mr=function(){function i(t){this.init(t)}var e=i.prototype;return e.init=function(n){ES||II(_s)||console.warn("Please gsap.registerPlugin(Observer)"),iy||PI();var r=n.tolerance,s=n.dragMinimum,a=n.type,l=n.target,c=n.lineHeight,h=n.debounce,m=n.preventDefault,g=n.onStop,v=n.onStopDelay,_=n.ignore,S=n.wheelSpeed,M=n.event,b=n.onDragStart,A=n.onDragEnd,C=n.onDrag,w=n.onPress,B=n.onRelease,L=n.onRight,N=n.onLeft,I=n.onUp,P=n.onDown,U=n.onChangeX,O=n.onChangeY,H=n.onChange,V=n.onToggleX,W=n.onToggleY,K=n.onHover,ae=n.onHoverEnd,G=n.onMove,q=n.ignoreCheck,$=n.isNormalizer,pe=n.onGestureStart,z=n.onGestureEnd,oe=n.onWheel,ve=n.onEnable,Ae=n.onDisable,se=n.onClick,Te=n.scrollSpeed,we=n.capture,Fe=n.allowClicks,Ue=n.lockAxis,dt=n.onLockAxis;this.target=l=Na(l)||Wf,this.vars=n,_&&(_=_s.utils.toArray(_)),r=r||1e-9,s=s||0,S=S||1,Te=Te||1,a=a||"wheel,touch,pointer",h=h!==!1,c||(c=parseFloat(co.getComputedStyle(mg).lineHeight)||22);var At,zt,Lt,ot,Z,et,Ke,ce=this,je=0,Mt=0,rt=n.passive||!m&&n.passive!==!1,ht=sh(l,ya),qt=sh(l,jr),ne=ht(),j=qt(),xe=~a.indexOf("touch")&&!~a.indexOf("pointer")&&Ol[0]==="pointerdown",Ge=sy(l),ze=l.ownerDocument||qf,Pe=[0,0,0],mt=[0,0,0],vt=0,Rt=function(){return vt=ry()},St=function(It,Jt){return(ce.event=It)&&_&&zW(It.target,_)||Jt&&xe&&It.pointerType!=="touch"||q&&q(It,Jt)},Je=function(){ce._vx.reset(),ce._vy.reset(),zt.pause(),g&&g(ce)},ft=function(){var It=ce.deltaX=fO(Pe),Jt=ce.deltaY=fO(mt),pt=Math.abs(It)>=r,Ht=Math.abs(Jt)>=r;H&&(pt||Ht)&&H(ce,It,Jt,Pe,mt),pt&&(L&&ce.deltaX>0&&L(ce),N&&ce.deltaX<0&&N(ce),U&&U(ce),V&&ce.deltaX<0!=je<0&&V(ce),je=ce.deltaX,Pe[0]=Pe[1]=Pe[2]=0),Ht&&(P&&ce.deltaY>0&&P(ce),I&&ce.deltaY<0&&I(ce),O&&O(ce),W&&ce.deltaY<0!=Mt<0&&W(ce),Mt=ce.deltaY,mt[0]=mt[1]=mt[2]=0),(ot||Lt)&&(G&&G(ce),Lt&&(b&&Lt===1&&b(ce),C&&C(ce),Lt=0),ot=!1),et&&!(et=!1)&&dt&&dt(ce),Z&&(oe(ce),Z=!1),At=0},Bt=function(It,Jt,pt){Pe[pt]+=It,mt[pt]+=Jt,ce._vx.update(It),ce._vy.update(Jt),h?At||(At=requestAnimationFrame(ft)):ft()},ue=function(It,Jt){Ue&&!Ke&&(ce.axis=Ke=Math.abs(It)>Math.abs(Jt)?"x":"y",et=!0),Ke!=="y"&&(Pe[2]+=It,ce._vx.update(It,!0)),Ke!=="x"&&(mt[2]+=Jt,ce._vy.update(Jt,!0)),h?At||(At=requestAnimationFrame(ft)):ft()},Se=function(It){if(!St(It,1)){It=wv(It,m);var Jt=It.clientX,pt=It.clientY,Ht=Jt-ce.x,Dt=pt-ce.y,Wt=ce.isDragging;ce.x=Jt,ce.y=pt,(Wt||(Ht||Dt)&&(Math.abs(ce.startX-Jt)>=s||Math.abs(ce.startY-pt)>=s))&&(Lt=Wt?2:1,Wt||(ce.isDragging=!0),ue(Ht,Dt))}},$e=ce.onPress=function(Et){St(Et,1)||Et&&Et.button||(ce.axis=Ke=null,zt.pause(),ce.isPressed=!0,Et=wv(Et),je=Mt=0,ce.startX=ce.x=Et.clientX,ce.startY=ce.y=Et.clientY,ce._vx.reset(),ce._vy.reset(),ca($?l:ze,Ol[1],Se,rt,!0),ce.deltaX=ce.deltaY=0,w&&w(ce))},re=ce.onRelease=function(Et){if(!St(Et,1)){ua($?l:ze,Ol[1],Se,!0);var It=!isNaN(ce.y-ce.startY),Jt=ce.isDragging,pt=Jt&&(Math.abs(ce.x-ce.startX)>3||Math.abs(ce.y-ce.startY)>3),Ht=wv(Et);!pt&&It&&(ce._vx.reset(),ce._vy.reset(),m&&Fe&&_s.delayedCall(.08,function(){if(ry()-vt>300&&!Et.defaultPrevented){if(Et.target.click)Et.target.click();else if(ze.createEvent){var Dt=ze.createEvent("MouseEvents");Dt.initMouseEvent("click",!0,!0,co,1,Ht.screenX,Ht.screenY,Ht.clientX,Ht.clientY,!1,!1,!1,!1,0,null),Et.target.dispatchEvent(Dt)}}})),ce.isDragging=ce.isGesturing=ce.isPressed=!1,g&&Jt&&!$&&zt.restart(!0),Lt&&ft(),A&&Jt&&A(ce),B&&B(ce,pt)}},Be=function(It){return It.touches&&It.touches.length>1&&(ce.isGesturing=!0)&&pe(It,ce.isDragging)},qe=function(){return(ce.isGesturing=!1)||z(ce)},gt=function(It){if(!St(It)){var Jt=ht(),pt=qt();Bt((Jt-ne)*Te,(pt-j)*Te,1),ne=Jt,j=pt,g&&zt.restart(!0)}},ut=function(It){if(!St(It)){It=wv(It,m),oe&&(Z=!0);var Jt=(It.deltaMode===1?c:It.deltaMode===2?co.innerHeight:1)*S;Bt(It.deltaX*Jt,It.deltaY*Jt,0),g&&!$&&zt.restart(!0)}},Ze=function(It){if(!St(It)){var Jt=It.clientX,pt=It.clientY,Ht=Jt-ce.x,Dt=pt-ce.y;ce.x=Jt,ce.y=pt,ot=!0,g&&zt.restart(!0),(Ht||Dt)&&ue(Ht,Dt)}},Tt=function(It){ce.event=It,K(ce)},Pt=function(It){ce.event=It,ae(ce)},fn=function(It){return St(It)||wv(It,m)&&se(ce)};zt=ce._dc=_s.delayedCall(v||.25,Je).pause(),ce.deltaX=ce.deltaY=0,ce._vx=gC(0,50,!0),ce._vy=gC(0,50,!0),ce.scrollX=ht,ce.scrollY=qt,ce.isDragging=ce.isGesturing=ce.isPressed=!1,UI(this),ce.enable=function(Et){return ce.isEnabled||(ca(Ge?ze:l,"scroll",mC),a.indexOf("scroll")>=0&&ca(Ge?ze:l,"scroll",gt,rt,we),a.indexOf("wheel")>=0&&ca(l,"wheel",ut,rt,we),(a.indexOf("touch")>=0&&DI||a.indexOf("pointer")>=0)&&(ca(l,Ol[0],$e,rt,we),ca(ze,Ol[2],re),ca(ze,Ol[3],re),Fe&&ca(l,"click",Rt,!0,!0),se&&ca(l,"click",fn),pe&&ca(ze,"gesturestart",Be),z&&ca(ze,"gestureend",qe),K&&ca(l,Rd+"enter",Tt),ae&&ca(l,Rd+"leave",Pt),G&&ca(l,Rd+"move",Ze)),ce.isEnabled=!0,ce.isDragging=ce.isGesturing=ce.isPressed=ot=Lt=!1,ce._vx.reset(),ce._vy.reset(),ne=ht(),j=qt(),Et&&Et.type&&$e(Et),ve&&ve(ce)),ce},ce.disable=function(){ce.isEnabled&&(tg.filter(function(Et){return Et!==ce&&sy(Et.target)}).length||ua(Ge?ze:l,"scroll",mC),ce.isPressed&&(ce._vx.reset(),ce._vy.reset(),ua($?l:ze,Ol[1],Se,!0)),ua(Ge?ze:l,"scroll",gt,we),ua(l,"wheel",ut,we),ua(l,Ol[0],$e,we),ua(ze,Ol[2],re),ua(ze,Ol[3],re),ua(l,"click",Rt,!0),ua(l,"click",fn),ua(ze,"gesturestart",Be),ua(ze,"gestureend",qe),ua(l,Rd+"enter",Tt),ua(l,Rd+"leave",Pt),ua(l,Rd+"move",Ze),ce.isEnabled=ce.isPressed=ce.isDragging=!1,Ae&&Ae(ce))},ce.kill=ce.revert=function(){ce.disable();var Et=tg.indexOf(ce);Et>=0&&tg.splice(Et,1),Tc===ce&&(Tc=0)},tg.push(ce),$&&sy(l)&&(Tc=ce),ce.enable(M)},IW(i,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),i}();Mr.version="3.13.0";Mr.create=function(i){return new Mr(i)};Mr.register=II;Mr.getAll=function(){return tg.slice()};Mr.getById=function(i){return tg.filter(function(e){return e.vars.id===i})[0]};LI()&&_s.registerPlugin(Mr);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Xt,Wm,zn,Ni,lo,gi,bw,zA,Py,ay,Pv,nS,Is,Pb,vC,da,hO,dO,Km,FI,sT,zI,ha,yC,HI,GI,zf,_C,Mw,gg,Ew,HA,xC,aT,iS=1,zs=Date.now,oT=zs(),$o=0,Iv=0,pO=function(e,t,n){var r=ao(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},mO=function(e,t){return t&&(!ao(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},HW=function i(){return Iv&&requestAnimationFrame(i)},gO=function(){return Pb=1},vO=function(){return Pb=0},Bu=function(e){return e},Fv=function(e){return Math.round(e*1e5)/1e5||0},VI=function(){return typeof window<"u"},kI=function(){return Xt||VI()&&(Xt=window.gsap)&&Xt.registerPlugin&&Xt},pp=function(e){return!!~bw.indexOf(e)},XI=function(e){return(e==="Height"?Ew:zn["inner"+e])||lo["client"+e]||gi["client"+e]},YI=function(e){return Qf(e,"getBoundingClientRect")||(pp(e)?function(){return BS.width=zn.innerWidth,BS.height=Ew,BS}:function(){return bc(e)})},GW=function(e,t,n){var r=n.d,s=n.d2,a=n.a;return(a=Qf(e,"getBoundingClientRect"))?function(){return a()[r]}:function(){return(t?XI(s):e["client"+s])||0}},VW=function(e,t){return!t||~Pu.indexOf(e)?YI(e):function(){return BS}},Lu=function(e,t){var n=t.s,r=t.d2,s=t.d,a=t.a;return Math.max(0,(n="scroll"+r)&&(a=Qf(e,n))?a()-YI(e)()[s]:pp(e)?(lo[n]||gi[n])-XI(r):e[n]-e["offset"+r])},rS=function(e,t){for(var n=0;n<Km.length;n+=3)(!t||~t.indexOf(Km[n+1]))&&e(Km[n],Km[n+1],Km[n+2])},ao=function(e){return typeof e=="string"},Vs=function(e){return typeof e=="function"},zv=function(e){return typeof e=="number"},Bd=function(e){return typeof e=="object"},Rv=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},lT=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},jm=Math.abs,jI="left",qI="top",Tw="right",Cw="bottom",Qd="width",$d="height",oy="Right",ly="Left",uy="Top",cy="Bottom",Ur="padding",Yo="margin",Fg="Width",ww="Height",Yr="px",jo=function(e){return zn.getComputedStyle(e)},kW=function(e){var t=jo(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},yO=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},bc=function(e,t){var n=t&&jo(e)[vC]!=="matrix(1, 0, 0, 1, 0, 0)"&&Xt.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},GA=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},WI=function(e){var t=[],n=e.labels,r=e.duration(),s;for(s in n)t.push(n[s]/r);return t},XW=function(e){return function(t){return Xt.utils.snap(WI(e),t)}},Rw=function(e){var t=Xt.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(r,s){return r-s});return n?function(r,s,a){a===void 0&&(a=.001);var l;if(!s)return t(r);if(s>0){for(r-=a,l=0;l<n.length;l++)if(n[l]>=r)return n[l];return n[l-1]}else for(l=n.length,r+=a;l--;)if(n[l]<=r)return n[l];return n[0]}:function(r,s,a){a===void 0&&(a=.001);var l=t(r);return!s||Math.abs(l-r)<a||l-r<0==s<0?l:t(s<0?r-e:r+e)}},YW=function(e){return function(t,n){return Rw(WI(e))(t,n.direction)}},sS=function(e,t,n,r){return n.split(",").forEach(function(s){return e(t,s,r)})},rs=function(e,t,n,r,s){return e.addEventListener(t,n,{passive:!r,capture:!!s})},is=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},aS=function(e,t,n){n=n&&n.wheelHandler,n&&(e(t,"wheel",n),e(t,"touchmove",n))},_O={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},oS={toggleActions:"play",anticipatePin:0},VA={top:0,left:0,center:.5,bottom:1,right:1},TS=function(e,t){if(ao(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in VA?VA[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},lS=function(e,t,n,r,s,a,l,c){var h=s.startColor,m=s.endColor,g=s.fontSize,v=s.indent,_=s.fontWeight,S=Ni.createElement("div"),M=pp(n)||Qf(n,"pinType")==="fixed",b=e.indexOf("scroller")!==-1,A=M?gi:n,C=e.indexOf("start")!==-1,w=C?h:m,B="border-color:"+w+";font-size:"+g+";color:"+w+";font-weight:"+_+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return B+="position:"+((b||c)&&M?"fixed;":"absolute;"),(b||c||!M)&&(B+=(r===jr?Tw:Cw)+":"+(a+parseFloat(v))+"px;"),l&&(B+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),S._isStart=C,S.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),S.style.cssText=B,S.innerText=t||t===0?e+"-"+t:e,A.children[0]?A.insertBefore(S,A.children[0]):A.appendChild(S),S._offset=S["offset"+r.op.d2],CS(S,0,r,C),S},CS=function(e,t,n,r){var s={display:"block"},a=n[r?"os2":"p2"],l=n[r?"p2":"os2"];e._isFlipped=r,s[n.a+"Percent"]=r?-100:0,s[n.a]=r?"1px":0,s["border"+a+Fg]=1,s["border"+l+Fg]=0,s[n.p]=t+"px",Xt.set(e,s)},Nn=[],SC={},Iy,xO=function(){return zs()-$o>34&&(Iy||(Iy=requestAnimationFrame(Rc)))},qm=function(){(!ha||!ha.isPressed||ha.startX>gi.clientWidth)&&(Hn.cache++,ha?Iy||(Iy=requestAnimationFrame(Rc)):Rc(),$o||gp("scrollStart"),$o=zs())},uT=function(){GI=zn.innerWidth,HI=zn.innerHeight},Hv=function(e){Hn.cache++,(e===!0||!Is&&!zI&&!Ni.fullscreenElement&&!Ni.webkitFullscreenElement&&(!yC||GI!==zn.innerWidth||Math.abs(zn.innerHeight-HI)>zn.innerHeight*.25))&&zA.restart(!0)},mp={},jW=[],KI=function i(){return is(Pn,"scrollEnd",i)||Gd(!0)},gp=function(e){return mp[e]&&mp[e].map(function(t){return t()})||jW},so=[],JI=function(e){for(var t=0;t<so.length;t+=5)(!e||so[t+4]&&so[t+4].query===e)&&(so[t].style.cssText=so[t+1],so[t].getBBox&&so[t].setAttribute("transform",so[t+2]||""),so[t+3].uncache=1)},Bw=function(e,t){var n;for(da=0;da<Nn.length;da++)n=Nn[da],n&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));HA=!0,t&&JI(t),t||gp("revert")},ZI=function(e,t){Hn.cache++,(t||!pa)&&Hn.forEach(function(n){return Vs(n)&&n.cacheID++&&(n.rec=0)}),ao(e)&&(zn.history.scrollRestoration=Mw=e)},pa,ep=0,SO,qW=function(){if(SO!==ep){var e=SO=ep;requestAnimationFrame(function(){return e===ep&&Gd(!0)})}},QI=function(){gi.appendChild(gg),Ew=!ha&&gg.offsetHeight||zn.innerHeight,gi.removeChild(gg)},AO=function(e){return Py(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Gd=function(e,t){if(lo=Ni.documentElement,gi=Ni.body,bw=[zn,Ni,lo,gi],$o&&!e&&!HA){rs(Pn,"scrollEnd",KI);return}QI(),pa=Pn.isRefreshing=!0,Hn.forEach(function(r){return Vs(r)&&++r.cacheID&&(r.rec=r())});var n=gp("refreshInit");FI&&Pn.sort(),t||Bw(),Hn.forEach(function(r){Vs(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),Nn.slice(0).forEach(function(r){return r.refresh()}),HA=!1,Nn.forEach(function(r){if(r._subPinOffset&&r.pin){var s=r.vars.horizontal?"offsetWidth":"offsetHeight",a=r.pin[s];r.revert(!0,1),r.adjustPinSpacing(r.pin[s]-a),r.refresh()}}),xC=1,AO(!0),Nn.forEach(function(r){var s=Lu(r.scroller,r._dir),a=r.vars.end==="max"||r._endClamp&&r.end>s,l=r._startClamp&&r.start>=s;(a||l)&&r.setPositions(l?s-1:r.start,a?Math.max(l?s:r.start+1,s):r.end,!0)}),AO(!1),xC=0,n.forEach(function(r){return r&&r.render&&r.render(-1)}),Hn.forEach(function(r){Vs(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),ZI(Mw,1),zA.pause(),ep++,pa=2,Rc(2),Nn.forEach(function(r){return Vs(r.vars.onRefresh)&&r.vars.onRefresh(r)}),pa=Pn.isRefreshing=!1,gp("refresh")},AC=0,wS=1,fy,Rc=function(e){if(e===2||!pa&&!HA){Pn.isUpdating=!0,fy&&fy.update(0);var t=Nn.length,n=zs(),r=n-oT>=50,s=t&&Nn[0].scroll();if(wS=AC>s?-1:1,pa||(AC=s),r&&($o&&!Pb&&n-$o>200&&($o=0,gp("scrollEnd")),Pv=oT,oT=n),wS<0){for(da=t;da-- >0;)Nn[da]&&Nn[da].update(0,r);wS=1}else for(da=0;da<t;da++)Nn[da]&&Nn[da].update(0,r);Pn.isUpdating=!1}Iy=0},bC=[jI,qI,Cw,Tw,Yo+cy,Yo+oy,Yo+uy,Yo+ly,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],RS=bC.concat([Qd,$d,"boxSizing","max"+Fg,"max"+ww,"position",Yo,Ur,Ur+uy,Ur+oy,Ur+cy,Ur+ly]),WW=function(e,t,n){vg(n);var r=e._gsap;if(r.spacerIsNative)vg(r.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1},cT=function(e,t,n,r){if(!e._gsap.swappedIn){for(var s=bC.length,a=t.style,l=e.style,c;s--;)c=bC[s],a[c]=n[c];a.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(a.display="inline-block"),l[Cw]=l[Tw]="auto",a.flexBasis=n.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[Qd]=GA(e,ya)+Yr,a[$d]=GA(e,jr)+Yr,a[Ur]=l[Yo]=l[qI]=l[jI]="0",vg(r),l[Qd]=l["max"+Fg]=n[Qd],l[$d]=l["max"+ww]=n[$d],l[Ur]=n[Ur],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},KW=/([A-Z])/g,vg=function(e){if(e){var t=e.t.style,n=e.length,r=0,s,a;for((e.t._gsap||Xt.core.getCache(e.t)).uncache=1;r<n;r+=2)a=e[r+1],s=e[r],a?t[s]=a:t[s]&&t.removeProperty(s.replace(KW,"-$1").toLowerCase())}},uS=function(e){for(var t=RS.length,n=e.style,r=[],s=0;s<t;s++)r.push(RS[s],n[RS[s]]);return r.t=e,r},JW=function(e,t,n){for(var r=[],s=e.length,a=n?8:0,l;a<s;a+=2)l=e[a],r.push(l,l in t?t[l]:e[a+1]);return r.t=e.t,r},BS={left:0,top:0},bO=function(e,t,n,r,s,a,l,c,h,m,g,v,_,S){Vs(e)&&(e=e(c)),ao(e)&&e.substr(0,3)==="max"&&(e=v+(e.charAt(4)==="="?TS("0"+e.substr(3),n):0));var M=_?_.time():0,b,A,C;if(_&&_.seek(0),isNaN(e)||(e=+e),zv(e))_&&(e=Xt.utils.mapRange(_.scrollTrigger.start,_.scrollTrigger.end,0,v,e)),l&&CS(l,n,r,!0);else{Vs(t)&&(t=t(c));var w=(e||"0").split(" "),B,L,N,I;C=Na(t,c)||gi,B=bc(C)||{},(!B||!B.left&&!B.top)&&jo(C).display==="none"&&(I=C.style.display,C.style.display="block",B=bc(C),I?C.style.display=I:C.style.removeProperty("display")),L=TS(w[0],B[r.d]),N=TS(w[1]||"0",n),e=B[r.p]-h[r.p]-m+L+s-N,l&&CS(l,N,r,n-N<20||l._isStart&&N>20),n-=n-N}if(S&&(c[S]=e||-.001,e<0&&(e=0)),a){var P=e+n,U=a._isStart;b="scroll"+r.d2,CS(a,P,r,U&&P>20||!U&&(g?Math.max(gi[b],lo[b]):a.parentNode[b])<=P+1),g&&(h=bc(l),g&&(a.style[r.op.p]=h[r.op.p]-r.op.m-a._offset+Yr))}return _&&C&&(b=bc(C),_.seek(v),A=bc(C),_._caScrollDist=b[r.p]-A[r.p],e=e/_._caScrollDist*v),_&&_.seek(M),_?e:Math.round(e)},ZW=/(webkit|moz|length|cssText|inset)/i,MO=function(e,t,n,r){if(e.parentNode!==t){var s=e.style,a,l;if(t===gi){e._stOrig=s.cssText,l=jo(e);for(a in l)!+a&&!ZW.test(a)&&l[a]&&typeof s[a]=="string"&&a!=="0"&&(s[a]=l[a]);s.top=n,s.left=r}else s.cssText=e._stOrig;Xt.core.getCache(e).uncache=1,t.appendChild(e)}},$I=function(e,t,n){var r=t,s=r;return function(a){var l=Math.round(e());return l!==r&&l!==s&&Math.abs(l-r)>3&&Math.abs(l-s)>3&&(a=l,n&&n()),s=r,r=Math.round(a),r}},cS=function(e,t,n){var r={};r[t.p]="+="+n,Xt.set(e,r)},EO=function(e,t){var n=sh(e,t),r="_scroll"+t.p2,s=function a(l,c,h,m,g){var v=a.tween,_=c.onComplete,S={};h=h||n();var M=$I(n,h,function(){v.kill(),a.tween=0});return g=m&&g||0,m=m||l-h,v&&v.kill(),c[r]=l,c.inherit=!1,c.modifiers=S,S[r]=function(){return M(h+m*v.ratio+g*v.ratio*v.ratio)},c.onUpdate=function(){Hn.cache++,a.tween&&Rc()},c.onComplete=function(){a.tween=0,_&&_.call(v)},v=a.tween=Xt.to(e,c),v};return e[r]=n,n.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},rs(e,"wheel",n.wheelHandler),Pn.isTouch&&rs(e,"touchmove",n.wheelHandler),s},Pn=function(){function i(t,n){Wm||i.register(Xt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),_C(this),this.init(t,n)}var e=i.prototype;return e.init=function(n,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Iv){this.update=this.refresh=this.kill=Bu;return}n=yO(ao(n)||zv(n)||n.nodeType?{trigger:n}:n,oS);var s=n,a=s.onUpdate,l=s.toggleClass,c=s.id,h=s.onToggle,m=s.onRefresh,g=s.scrub,v=s.trigger,_=s.pin,S=s.pinSpacing,M=s.invalidateOnRefresh,b=s.anticipatePin,A=s.onScrubComplete,C=s.onSnapComplete,w=s.once,B=s.snap,L=s.pinReparent,N=s.pinSpacer,I=s.containerAnimation,P=s.fastScrollEnd,U=s.preventOverlaps,O=n.horizontal||n.containerAnimation&&n.horizontal!==!1?ya:jr,H=!g&&g!==0,V=Na(n.scroller||zn),W=Xt.core.getCache(V),K=pp(V),ae=("pinType"in n?n.pinType:Qf(V,"pinType")||K&&"fixed")==="fixed",G=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],q=H&&n.toggleActions.split(" "),$="markers"in n?n.markers:oS.markers,pe=K?0:parseFloat(jo(V)["border"+O.p2+Fg])||0,z=this,oe=n.onRefreshInit&&function(){return n.onRefreshInit(z)},ve=GW(V,K,O),Ae=VW(V,K),se=0,Te=0,we=0,Fe=sh(V,O),Ue,dt,At,zt,Lt,ot,Z,et,Ke,ce,je,Mt,rt,ht,qt,ne,j,xe,Ge,ze,Pe,mt,vt,Rt,St,Je,ft,Bt,ue,Se,$e,re,Be,qe,gt,ut,Ze,Tt,Pt;if(z._startClamp=z._endClamp=!1,z._dir=O,b*=45,z.scroller=V,z.scroll=I?I.time.bind(I):Fe,zt=Fe(),z.vars=n,r=r||n.animation,"refreshPriority"in n&&(FI=1,n.refreshPriority===-9999&&(fy=z)),W.tweenScroll=W.tweenScroll||{top:EO(V,jr),left:EO(V,ya)},z.tweenTo=Ue=W.tweenScroll[O.p],z.scrubDuration=function(pt){Be=zv(pt)&&pt,Be?re?re.duration(pt):re=Xt.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Be,paused:!0,onComplete:function(){return A&&A(z)}}):(re&&re.progress(1).kill(),re=0)},r&&(r.vars.lazy=!1,r._initted&&!z.isReverted||r.vars.immediateRender!==!1&&n.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),z.animation=r.pause(),r.scrollTrigger=z,z.scrubDuration(g),Se=0,c||(c=r.vars.id)),B&&((!Bd(B)||B.push)&&(B={snapTo:B}),"scrollBehavior"in gi.style&&Xt.set(K?[gi,lo]:V,{scrollBehavior:"auto"}),Hn.forEach(function(pt){return Vs(pt)&&pt.target===(K?Ni.scrollingElement||lo:V)&&(pt.smooth=!1)}),At=Vs(B.snapTo)?B.snapTo:B.snapTo==="labels"?XW(r):B.snapTo==="labelsDirectional"?YW(r):B.directional!==!1?function(pt,Ht){return Rw(B.snapTo)(pt,zs()-Te<500?0:Ht.direction)}:Xt.utils.snap(B.snapTo),qe=B.duration||{min:.1,max:2},qe=Bd(qe)?ay(qe.min,qe.max):ay(qe,qe),gt=Xt.delayedCall(B.delay||Be/2||.1,function(){var pt=Fe(),Ht=zs()-Te<500,Dt=Ue.tween;if((Ht||Math.abs(z.getVelocity())<10)&&!Dt&&!Pb&&se!==pt){var Wt=(pt-ot)/ht,ai=r&&!H?r.totalProgress():Wt,en=Ht?0:(ai-$e)/(zs()-Pv)*1e3||0,Nt=Xt.utils.clamp(-Wt,1-Wt,jm(en/2)*en/.185),ii=Wt+(B.inertia===!1?0:Nt),tn,X,J=B,de=J.onStart,be=J.onInterrupt,De=J.onComplete;if(tn=At(ii,z),zv(tn)||(tn=ii),X=Math.max(0,Math.round(ot+tn*ht)),pt<=Z&&pt>=ot&&X!==pt){if(Dt&&!Dt._initted&&Dt.data<=jm(X-pt))return;B.inertia===!1&&(Nt=tn-Wt),Ue(X,{duration:qe(jm(Math.max(jm(ii-ai),jm(tn-ai))*.185/en/.05||0)),ease:B.ease||"power3",data:jm(X-pt),onInterrupt:function(){return gt.restart(!0)&&be&&be(z)},onComplete:function(){z.update(),se=Fe(),r&&!H&&(re?re.resetTo("totalProgress",tn,r._tTime/r._tDur):r.progress(tn)),Se=$e=r&&!H?r.totalProgress():z.progress,C&&C(z),De&&De(z)}},pt,Nt*ht,X-pt-Nt*ht),de&&de(z,Ue.tween)}}else z.isActive&&se!==pt&&gt.restart(!0)}).pause()),c&&(SC[c]=z),v=z.trigger=Na(v||_!==!0&&_),Pt=v&&v._gsap&&v._gsap.stRevert,Pt&&(Pt=Pt(z)),_=_===!0?v:Na(_),ao(l)&&(l={targets:v,className:l}),_&&(S===!1||S===Yo||(S=!S&&_.parentNode&&_.parentNode.style&&jo(_.parentNode).display==="flex"?!1:Ur),z.pin=_,dt=Xt.core.getCache(_),dt.spacer?qt=dt.pinState:(N&&(N=Na(N),N&&!N.nodeType&&(N=N.current||N.nativeElement),dt.spacerIsNative=!!N,N&&(dt.spacerState=uS(N))),dt.spacer=xe=N||Ni.createElement("div"),xe.classList.add("pin-spacer"),c&&xe.classList.add("pin-spacer-"+c),dt.pinState=qt=uS(_)),n.force3D!==!1&&Xt.set(_,{force3D:!0}),z.spacer=xe=dt.spacer,ue=jo(_),Rt=ue[S+O.os2],ze=Xt.getProperty(_),Pe=Xt.quickSetter(_,O.a,Yr),cT(_,xe,ue),j=uS(_)),$){Mt=Bd($)?yO($,_O):_O,ce=lS("scroller-start",c,V,O,Mt,0),je=lS("scroller-end",c,V,O,Mt,0,ce),Ge=ce["offset"+O.op.d2];var fn=Na(Qf(V,"content")||V);et=this.markerStart=lS("start",c,fn,O,Mt,Ge,0,I),Ke=this.markerEnd=lS("end",c,fn,O,Mt,Ge,0,I),I&&(Tt=Xt.quickSetter([et,Ke],O.a,Yr)),!ae&&!(Pu.length&&Qf(V,"fixedMarkers")===!0)&&(kW(K?gi:V),Xt.set([ce,je],{force3D:!0}),Je=Xt.quickSetter(ce,O.a,Yr),Bt=Xt.quickSetter(je,O.a,Yr))}if(I){var Et=I.vars.onUpdate,It=I.vars.onUpdateParams;I.eventCallback("onUpdate",function(){z.update(0,0,1),Et&&Et.apply(I,It||[])})}if(z.previous=function(){return Nn[Nn.indexOf(z)-1]},z.next=function(){return Nn[Nn.indexOf(z)+1]},z.revert=function(pt,Ht){if(!Ht)return z.kill(!0);var Dt=pt!==!1||!z.enabled,Wt=Is;Dt!==z.isReverted&&(Dt&&(ut=Math.max(Fe(),z.scroll.rec||0),we=z.progress,Ze=r&&r.progress()),et&&[et,Ke,ce,je].forEach(function(ai){return ai.style.display=Dt?"none":"block"}),Dt&&(Is=z,z.update(Dt)),_&&(!L||!z.isActive)&&(Dt?WW(_,xe,qt):cT(_,xe,jo(_),St)),Dt||z.update(Dt),Is=Wt,z.isReverted=Dt)},z.refresh=function(pt,Ht,Dt,Wt){if(!((Is||!z.enabled)&&!Ht)){if(_&&pt&&$o){rs(i,"scrollEnd",KI);return}!pa&&oe&&oe(z),Is=z,Ue.tween&&!Dt&&(Ue.tween.kill(),Ue.tween=0),re&&re.pause(),M&&r&&(r.revert({kill:!1}).invalidate(),r.getChildren&&r.getChildren(!0,!0,!1).forEach(function(Gt){return Gt.vars.immediateRender&&Gt.render(0,!0,!0)})),z.isReverted||z.revert(!0,!0),z._subPinOffset=!1;var ai=ve(),en=Ae(),Nt=I?I.duration():Lu(V,O),ii=ht<=.01||!ht,tn=0,X=Wt||0,J=Bd(Dt)?Dt.end:n.end,de=n.endTrigger||v,be=Bd(Dt)?Dt.start:n.start||(n.start===0||!v?0:_?"0 0":"0 100%"),De=z.pinnedContainer=n.pinnedContainer&&Na(n.pinnedContainer,z),He=v&&Math.max(0,Nn.indexOf(z))||0,lt=He,Qe,Y,ie,fe,le,ge,Re,Xe,it,st,_t,bt,Ct;for($&&Bd(Dt)&&(bt=Xt.getProperty(ce,O.p),Ct=Xt.getProperty(je,O.p));lt-- >0;)ge=Nn[lt],ge.end||ge.refresh(0,1)||(Is=z),Re=ge.pin,Re&&(Re===v||Re===_||Re===De)&&!ge.isReverted&&(st||(st=[]),st.unshift(ge),ge.revert(!0,!0)),ge!==Nn[lt]&&(He--,lt--);for(Vs(be)&&(be=be(z)),be=pO(be,"start",z),ot=bO(be,v,ai,O,Fe(),et,ce,z,en,pe,ae,Nt,I,z._startClamp&&"_startClamp")||(_?-.001:0),Vs(J)&&(J=J(z)),ao(J)&&!J.indexOf("+=")&&(~J.indexOf(" ")?J=(ao(be)?be.split(" ")[0]:"")+J:(tn=TS(J.substr(2),ai),J=ao(be)?be:(I?Xt.utils.mapRange(0,I.duration(),I.scrollTrigger.start,I.scrollTrigger.end,ot):ot)+tn,de=v)),J=pO(J,"end",z),Z=Math.max(ot,bO(J||(de?"100% 0":Nt),de,ai,O,Fe()+tn,Ke,je,z,en,pe,ae,Nt,I,z._endClamp&&"_endClamp"))||-.001,tn=0,lt=He;lt--;)ge=Nn[lt],Re=ge.pin,Re&&ge.start-ge._pinPush<=ot&&!I&&ge.end>0&&(Qe=ge.end-(z._startClamp?Math.max(0,ge.start):ge.start),(Re===v&&ge.start-ge._pinPush<ot||Re===De)&&isNaN(be)&&(tn+=Qe*(1-ge.progress)),Re===_&&(X+=Qe));if(ot+=tn,Z+=tn,z._startClamp&&(z._startClamp+=tn),z._endClamp&&!pa&&(z._endClamp=Z||-.001,Z=Math.min(Z,Lu(V,O))),ht=Z-ot||(ot-=.01)&&.001,ii&&(we=Xt.utils.clamp(0,1,Xt.utils.normalize(ot,Z,ut))),z._pinPush=X,et&&tn&&(Qe={},Qe[O.a]="+="+tn,De&&(Qe[O.p]="-="+Fe()),Xt.set([et,Ke],Qe)),_&&!(xC&&z.end>=Lu(V,O)))Qe=jo(_),fe=O===jr,ie=Fe(),mt=parseFloat(ze(O.a))+X,!Nt&&Z>1&&(_t=(K?Ni.scrollingElement||lo:V).style,_t={style:_t,value:_t["overflow"+O.a.toUpperCase()]},K&&jo(gi)["overflow"+O.a.toUpperCase()]!=="scroll"&&(_t.style["overflow"+O.a.toUpperCase()]="scroll")),cT(_,xe,Qe),j=uS(_),Y=bc(_,!0),Xe=ae&&sh(V,fe?ya:jr)(),S?(St=[S+O.os2,ht+X+Yr],St.t=xe,lt=S===Ur?GA(_,O)+ht+X:0,lt&&(St.push(O.d,lt+Yr),xe.style.flexBasis!=="auto"&&(xe.style.flexBasis=lt+Yr)),vg(St),De&&Nn.forEach(function(Gt){Gt.pin===De&&Gt.vars.pinSpacing!==!1&&(Gt._subPinOffset=!0)}),ae&&Fe(ut)):(lt=GA(_,O),lt&&xe.style.flexBasis!=="auto"&&(xe.style.flexBasis=lt+Yr)),ae&&(le={top:Y.top+(fe?ie-ot:Xe)+Yr,left:Y.left+(fe?Xe:ie-ot)+Yr,boxSizing:"border-box",position:"fixed"},le[Qd]=le["max"+Fg]=Math.ceil(Y.width)+Yr,le[$d]=le["max"+ww]=Math.ceil(Y.height)+Yr,le[Yo]=le[Yo+uy]=le[Yo+oy]=le[Yo+cy]=le[Yo+ly]="0",le[Ur]=Qe[Ur],le[Ur+uy]=Qe[Ur+uy],le[Ur+oy]=Qe[Ur+oy],le[Ur+cy]=Qe[Ur+cy],le[Ur+ly]=Qe[Ur+ly],ne=JW(qt,le,L),pa&&Fe(0)),r?(it=r._initted,sT(1),r.render(r.duration(),!0,!0),vt=ze(O.a)-mt+ht+X,ft=Math.abs(ht-vt)>1,ae&&ft&&ne.splice(ne.length-2,2),r.render(0,!0,!0),it||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),sT(0)):vt=ht,_t&&(_t.value?_t.style["overflow"+O.a.toUpperCase()]=_t.value:_t.style.removeProperty("overflow-"+O.a));else if(v&&Fe()&&!I)for(Y=v.parentNode;Y&&Y!==gi;)Y._pinOffset&&(ot-=Y._pinOffset,Z-=Y._pinOffset),Y=Y.parentNode;st&&st.forEach(function(Gt){return Gt.revert(!1,!0)}),z.start=ot,z.end=Z,zt=Lt=pa?ut:Fe(),!I&&!pa&&(zt<ut&&Fe(ut),z.scroll.rec=0),z.revert(!1,!0),Te=zs(),gt&&(se=-1,gt.restart(!0)),Is=0,r&&H&&(r._initted||Ze)&&r.progress()!==Ze&&r.progress(Ze||0,!0).render(r.time(),!0,!0),(ii||we!==z.progress||I||M||r&&!r._initted)&&(r&&!H&&(r._initted||we||r.vars.immediateRender!==!1)&&r.totalProgress(I&&ot<-.001&&!we?Xt.utils.normalize(ot,Z,0):we,!0),z.progress=ii||(zt-ot)/ht===we?0:we),_&&S&&(xe._pinOffset=Math.round(z.progress*vt)),re&&re.invalidate(),isNaN(bt)||(bt-=Xt.getProperty(ce,O.p),Ct-=Xt.getProperty(je,O.p),cS(ce,O,bt),cS(et,O,bt-(Wt||0)),cS(je,O,Ct),cS(Ke,O,Ct-(Wt||0))),ii&&!pa&&z.update(),m&&!pa&&!rt&&(rt=!0,m(z),rt=!1)}},z.getVelocity=function(){return(Fe()-Lt)/(zs()-Pv)*1e3||0},z.endAnimation=function(){Rv(z.callbackAnimation),r&&(re?re.progress(1):r.paused()?H||Rv(r,z.direction<0,1):Rv(r,r.reversed()))},z.labelToScroll=function(pt){return r&&r.labels&&(ot||z.refresh()||ot)+r.labels[pt]/r.duration()*ht||0},z.getTrailing=function(pt){var Ht=Nn.indexOf(z),Dt=z.direction>0?Nn.slice(0,Ht).reverse():Nn.slice(Ht+1);return(ao(pt)?Dt.filter(function(Wt){return Wt.vars.preventOverlaps===pt}):Dt).filter(function(Wt){return z.direction>0?Wt.end<=ot:Wt.start>=Z})},z.update=function(pt,Ht,Dt){if(!(I&&!Dt&&!pt)){var Wt=pa===!0?ut:z.scroll(),ai=pt?0:(Wt-ot)/ht,en=ai<0?0:ai>1?1:ai||0,Nt=z.progress,ii,tn,X,J,de,be,De,He;if(Ht&&(Lt=zt,zt=I?Fe():Wt,B&&($e=Se,Se=r&&!H?r.totalProgress():en)),b&&_&&!Is&&!iS&&$o&&(!en&&ot<Wt+(Wt-Lt)/(zs()-Pv)*b?en=1e-4:en===1&&Z>Wt+(Wt-Lt)/(zs()-Pv)*b&&(en=.9999)),en!==Nt&&z.enabled){if(ii=z.isActive=!!en&&en<1,tn=!!Nt&&Nt<1,be=ii!==tn,de=be||!!en!=!!Nt,z.direction=en>Nt?1:-1,z.progress=en,de&&!Is&&(X=en&&!Nt?0:en===1?1:Nt===1?2:3,H&&(J=!be&&q[X+1]!=="none"&&q[X+1]||q[X],He=r&&(J==="complete"||J==="reset"||J in r))),U&&(be||He)&&(He||g||!r)&&(Vs(U)?U(z):z.getTrailing(U).forEach(function(ie){return ie.endAnimation()})),H||(re&&!Is&&!iS?(re._dp._time-re._start!==re._time&&re.render(re._dp._time-re._start),re.resetTo?re.resetTo("totalProgress",en,r._tTime/r._tDur):(re.vars.totalProgress=en,re.invalidate().restart())):r&&r.totalProgress(en,!!(Is&&(Te||pt)))),_){if(pt&&S&&(xe.style[S+O.os2]=Rt),!ae)Pe(Fv(mt+vt*en));else if(de){if(De=!pt&&en>Nt&&Z+1>Wt&&Wt+1>=Lu(V,O),L)if(!pt&&(ii||De)){var lt=bc(_,!0),Qe=Wt-ot;MO(_,gi,lt.top+(O===jr?Qe:0)+Yr,lt.left+(O===jr?0:Qe)+Yr)}else MO(_,xe);vg(ii||De?ne:j),ft&&en<1&&ii||Pe(mt+(en===1&&!De?vt:0))}}B&&!Ue.tween&&!Is&&!iS&&gt.restart(!0),l&&(be||w&&en&&(en<1||!aT))&&Py(l.targets).forEach(function(ie){return ie.classList[ii||w?"add":"remove"](l.className)}),a&&!H&&!pt&&a(z),de&&!Is?(H&&(He&&(J==="complete"?r.pause().totalProgress(1):J==="reset"?r.restart(!0).pause():J==="restart"?r.restart(!0):r[J]()),a&&a(z)),(be||!aT)&&(h&&be&&lT(z,h),G[X]&&lT(z,G[X]),w&&(en===1?z.kill(!1,1):G[X]=0),be||(X=en===1?1:3,G[X]&&lT(z,G[X]))),P&&!ii&&Math.abs(z.getVelocity())>(zv(P)?P:2500)&&(Rv(z.callbackAnimation),re?re.progress(1):Rv(r,J==="reverse"?1:!en,1))):H&&a&&!Is&&a(z)}if(Bt){var Y=I?Wt/I.duration()*(I._caScrollDist||0):Wt;Je(Y+(ce._isFlipped?1:0)),Bt(Y)}Tt&&Tt(-Wt/I.duration()*(I._caScrollDist||0))}},z.enable=function(pt,Ht){z.enabled||(z.enabled=!0,rs(V,"resize",Hv),K||rs(V,"scroll",qm),oe&&rs(i,"refreshInit",oe),pt!==!1&&(z.progress=we=0,zt=Lt=se=Fe()),Ht!==!1&&z.refresh())},z.getTween=function(pt){return pt&&Ue?Ue.tween:re},z.setPositions=function(pt,Ht,Dt,Wt){if(I){var ai=I.scrollTrigger,en=I.duration(),Nt=ai.end-ai.start;pt=ai.start+Nt*pt/en,Ht=ai.start+Nt*Ht/en}z.refresh(!1,!1,{start:mO(pt,Dt&&!!z._startClamp),end:mO(Ht,Dt&&!!z._endClamp)},Wt),z.update()},z.adjustPinSpacing=function(pt){if(St&&pt){var Ht=St.indexOf(O.d)+1;St[Ht]=parseFloat(St[Ht])+pt+Yr,St[1]=parseFloat(St[1])+pt+Yr,vg(St)}},z.disable=function(pt,Ht){if(z.enabled&&(pt!==!1&&z.revert(!0,!0),z.enabled=z.isActive=!1,Ht||re&&re.pause(),ut=0,dt&&(dt.uncache=1),oe&&is(i,"refreshInit",oe),gt&&(gt.pause(),Ue.tween&&Ue.tween.kill()&&(Ue.tween=0)),!K)){for(var Dt=Nn.length;Dt--;)if(Nn[Dt].scroller===V&&Nn[Dt]!==z)return;is(V,"resize",Hv),K||is(V,"scroll",qm)}},z.kill=function(pt,Ht){z.disable(pt,Ht),re&&!Ht&&re.kill(),c&&delete SC[c];var Dt=Nn.indexOf(z);Dt>=0&&Nn.splice(Dt,1),Dt===da&&wS>0&&da--,Dt=0,Nn.forEach(function(Wt){return Wt.scroller===z.scroller&&(Dt=1)}),Dt||pa||(z.scroll.rec=0),r&&(r.scrollTrigger=null,pt&&r.revert({kill:!1}),Ht||r.kill()),et&&[et,Ke,ce,je].forEach(function(Wt){return Wt.parentNode&&Wt.parentNode.removeChild(Wt)}),fy===z&&(fy=0),_&&(dt&&(dt.uncache=1),Dt=0,Nn.forEach(function(Wt){return Wt.pin===_&&Dt++}),Dt||(dt.spacer=0)),n.onKill&&n.onKill(z)},Nn.push(z),z.enable(!1,!1),Pt&&Pt(z),r&&r.add&&!ht){var Jt=z.update;z.update=function(){z.update=Jt,Hn.cache++,ot||Z||z.refresh()},Xt.delayedCall(.01,z.update),ht=.01,ot=Z=0}else z.refresh();_&&qW()},i.register=function(n){return Wm||(Xt=n||kI(),VI()&&window.document&&i.enable(),Wm=Iv),Wm},i.defaults=function(n){if(n)for(var r in n)oS[r]=n[r];return oS},i.disable=function(n,r){Iv=0,Nn.forEach(function(a){return a[r?"kill":"disable"](n)}),is(zn,"wheel",qm),is(Ni,"scroll",qm),clearInterval(nS),is(Ni,"touchcancel",Bu),is(gi,"touchstart",Bu),sS(is,Ni,"pointerdown,touchstart,mousedown",gO),sS(is,Ni,"pointerup,touchend,mouseup",vO),zA.kill(),rS(is);for(var s=0;s<Hn.length;s+=3)aS(is,Hn[s],Hn[s+1]),aS(is,Hn[s],Hn[s+2])},i.enable=function(){if(zn=window,Ni=document,lo=Ni.documentElement,gi=Ni.body,Xt&&(Py=Xt.utils.toArray,ay=Xt.utils.clamp,_C=Xt.core.context||Bu,sT=Xt.core.suppressOverwrites||Bu,Mw=zn.history.scrollRestoration||"auto",AC=zn.pageYOffset||0,Xt.core.globals("ScrollTrigger",i),gi)){Iv=1,gg=document.createElement("div"),gg.style.height="100vh",gg.style.position="absolute",QI(),HW(),Mr.register(Xt),i.isTouch=Mr.isTouch,zf=Mr.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),yC=Mr.isTouch===1,rs(zn,"wheel",qm),bw=[zn,Ni,lo,gi],Xt.matchMedia?(i.matchMedia=function(h){var m=Xt.matchMedia(),g;for(g in h)m.add(g,h[g]);return m},Xt.addEventListener("matchMediaInit",function(){return Bw()}),Xt.addEventListener("matchMediaRevert",function(){return JI()}),Xt.addEventListener("matchMedia",function(){Gd(0,1),gp("matchMedia")}),Xt.matchMedia().add("(orientation: portrait)",function(){return uT(),uT})):console.warn("Requires GSAP 3.11.0 or later"),uT(),rs(Ni,"scroll",qm);var n=gi.hasAttribute("style"),r=gi.style,s=r.borderTopStyle,a=Xt.core.Animation.prototype,l,c;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",l=bc(gi),jr.m=Math.round(l.top+jr.sc())||0,ya.m=Math.round(l.left+ya.sc())||0,s?r.borderTopStyle=s:r.removeProperty("border-top-style"),n||(gi.setAttribute("style",""),gi.removeAttribute("style")),nS=setInterval(xO,250),Xt.delayedCall(.5,function(){return iS=0}),rs(Ni,"touchcancel",Bu),rs(gi,"touchstart",Bu),sS(rs,Ni,"pointerdown,touchstart,mousedown",gO),sS(rs,Ni,"pointerup,touchend,mouseup",vO),vC=Xt.utils.checkPrefix("transform"),RS.push(vC),Wm=zs(),zA=Xt.delayedCall(.2,Gd).pause(),Km=[Ni,"visibilitychange",function(){var h=zn.innerWidth,m=zn.innerHeight;Ni.hidden?(hO=h,dO=m):(hO!==h||dO!==m)&&Hv()},Ni,"DOMContentLoaded",Gd,zn,"load",Gd,zn,"resize",Hv],rS(rs),Nn.forEach(function(h){return h.enable(0,1)}),c=0;c<Hn.length;c+=3)aS(is,Hn[c],Hn[c+1]),aS(is,Hn[c],Hn[c+2])}},i.config=function(n){"limitCallbacks"in n&&(aT=!!n.limitCallbacks);var r=n.syncInterval;r&&clearInterval(nS)||(nS=r)&&setInterval(xO,r),"ignoreMobileResize"in n&&(yC=i.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(rS(is)||rS(rs,n.autoRefreshEvents||"none"),zI=(n.autoRefreshEvents+"").indexOf("resize")===-1)},i.scrollerProxy=function(n,r){var s=Na(n),a=Hn.indexOf(s),l=pp(s);~a&&Hn.splice(a,l?6:2),r&&(l?Pu.unshift(zn,r,gi,r,lo,r):Pu.unshift(s,r))},i.clearMatchMedia=function(n){Nn.forEach(function(r){return r._ctx&&r._ctx.query===n&&r._ctx.kill(!0,!0)})},i.isInViewport=function(n,r,s){var a=(ao(n)?Na(n):n).getBoundingClientRect(),l=a[s?Qd:$d]*r||0;return s?a.right-l>0&&a.left+l<zn.innerWidth:a.bottom-l>0&&a.top+l<zn.innerHeight},i.positionInViewport=function(n,r,s){ao(n)&&(n=Na(n));var a=n.getBoundingClientRect(),l=a[s?Qd:$d],c=r==null?l/2:r in VA?VA[r]*l:~r.indexOf("%")?parseFloat(r)*l/100:parseFloat(r)||0;return s?(a.left+c)/zn.innerWidth:(a.top+c)/zn.innerHeight},i.killAll=function(n){if(Nn.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),n!==!0){var r=mp.killAll||[];mp={},r.forEach(function(s){return s()})}},i}();Pn.version="3.13.0";Pn.saveStyles=function(i){return i?Py(i).forEach(function(e){if(e&&e.style){var t=so.indexOf(e);t>=0&&so.splice(t,5),so.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Xt.core.getCache(e),_C())}}):so};Pn.revert=function(i,e){return Bw(!i,e)};Pn.create=function(i,e){return new Pn(i,e)};Pn.refresh=function(i){return i?Hv(!0):(Wm||Pn.register())&&Gd(!0)};Pn.update=function(i){return++Hn.cache&&Rc(i===!0?2:0)};Pn.clearScrollMemory=ZI;Pn.maxScroll=function(i,e){return Lu(i,e?ya:jr)};Pn.getScrollFunc=function(i,e){return sh(Na(i),e?ya:jr)};Pn.getById=function(i){return SC[i]};Pn.getAll=function(){return Nn.filter(function(i){return i.vars.id!=="ScrollSmoother"})};Pn.isScrolling=function(){return!!$o};Pn.snapDirectional=Rw;Pn.addEventListener=function(i,e){var t=mp[i]||(mp[i]=[]);~t.indexOf(e)||t.push(e)};Pn.removeEventListener=function(i,e){var t=mp[i],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)};Pn.batch=function(i,e){var t=[],n={},r=e.interval||.016,s=e.batchMax||1e9,a=function(h,m){var g=[],v=[],_=Xt.delayedCall(r,function(){m(g,v),g=[],v=[]}).pause();return function(S){g.length||_.restart(!0),g.push(S.trigger),v.push(S),s<=g.length&&_.progress(1)}},l;for(l in e)n[l]=l.substr(0,2)==="on"&&Vs(e[l])&&l!=="onRefreshInit"?a(l,e[l]):e[l];return Vs(s)&&(s=s(),rs(Pn,"refresh",function(){return s=e.batchMax()})),Py(i).forEach(function(c){var h={};for(l in n)h[l]=n[l];h.trigger=c,t.push(Pn.create(h))}),t};var TO=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},fT=function i(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Mr.isTouch?" pinch-zoom":""):"none",e===lo&&i(gi,t)},fS={auto:1,scroll:1},QW=function(e){var t=e.event,n=e.target,r=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,a=s._gsap||Xt.core.getCache(s),l=zs(),c;if(!a._isScrollT||l-a._isScrollT>2e3){for(;s&&s!==gi&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(fS[(c=jo(s)).overflowY]||fS[c.overflowX]));)s=s.parentNode;a._isScroll=s&&s!==n&&!pp(s)&&(fS[(c=jo(s)).overflowY]||fS[c.overflowX]),a._isScrollT=l}(a._isScroll||r==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},e4=function(e,t,n,r){return Mr.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&QW,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&rs(Ni,Mr.eventTypes[0],wO,!1,!0)},onDisable:function(){return is(Ni,Mr.eventTypes[0],wO,!0)}})},$W=/(input|label|select|textarea)/i,CO,wO=function(e){var t=$W.test(e.target.tagName);(t||CO)&&(e._gsapAllow=!0,CO=t)},eK=function(e){Bd(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,n=t.normalizeScrollX,r=t.momentum,s=t.allowNestedScroll,a=t.onRelease,l,c,h=Na(e.target)||lo,m=Xt.core.globals().ScrollSmoother,g=m&&m.get(),v=zf&&(e.content&&Na(e.content)||g&&e.content!==!1&&!g.smooth()&&g.content()),_=sh(h,jr),S=sh(h,ya),M=1,b=(Mr.isTouch&&zn.visualViewport?zn.visualViewport.scale*zn.visualViewport.width:zn.outerWidth)/zn.innerWidth,A=0,C=Vs(r)?function(){return r(l)}:function(){return r||2.8},w,B,L=e4(h,e.type,!0,s),N=function(){return B=!1},I=Bu,P=Bu,U=function(){c=Lu(h,jr),P=ay(zf?1:0,c),n&&(I=ay(0,Lu(h,ya))),w=ep},O=function(){v._gsap.y=Fv(parseFloat(v._gsap.y)+_.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",_.offset=_.cacheID=0},H=function(){if(B){requestAnimationFrame(N);var $=Fv(l.deltaY/2),pe=P(_.v-$);if(v&&pe!==_.v+_.offset){_.offset=pe-_.v;var z=Fv((parseFloat(v&&v._gsap.y)||0)-_.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+z+", 0, 1)",v._gsap.y=z+"px",_.cacheID=Hn.cache,Rc()}return!0}_.offset&&O(),B=!0},V,W,K,ae,G=function(){U(),V.isActive()&&V.vars.scrollY>c&&(_()>c?V.progress(1)&&_(c):V.resetTo("scrollY",c))};return v&&Xt.set(v,{y:"+=0"}),e.ignoreCheck=function(q){return zf&&q.type==="touchmove"&&H()||M>1.05&&q.type!=="touchstart"||l.isGesturing||q.touches&&q.touches.length>1},e.onPress=function(){B=!1;var q=M;M=Fv((zn.visualViewport&&zn.visualViewport.scale||1)/b),V.pause(),q!==M&&fT(h,M>1.01?!0:n?!1:"x"),W=S(),K=_(),U(),w=ep},e.onRelease=e.onGestureStart=function(q,$){if(_.offset&&O(),!$)ae.restart(!0);else{Hn.cache++;var pe=C(),z,oe;n&&(z=S(),oe=z+pe*.05*-q.velocityX/.227,pe*=TO(S,z,oe,Lu(h,ya)),V.vars.scrollX=I(oe)),z=_(),oe=z+pe*.05*-q.velocityY/.227,pe*=TO(_,z,oe,Lu(h,jr)),V.vars.scrollY=P(oe),V.invalidate().duration(pe).play(.01),(zf&&V.vars.scrollY>=c||z>=c-1)&&Xt.to({},{onUpdate:G,duration:pe})}a&&a(q)},e.onWheel=function(){V._ts&&V.pause(),zs()-A>1e3&&(w=0,A=zs())},e.onChange=function(q,$,pe,z,oe){if(ep!==w&&U(),$&&n&&S(I(z[2]===$?W+(q.startX-q.x):S()+$-z[1])),pe){_.offset&&O();var ve=oe[2]===pe,Ae=ve?K+q.startY-q.y:_()+pe-oe[1],se=P(Ae);ve&&Ae!==se&&(K+=se-Ae),_(se)}(pe||$)&&Rc()},e.onEnable=function(){fT(h,n?!1:"x"),Pn.addEventListener("refresh",G),rs(zn,"resize",G),_.smooth&&(_.target.style.scrollBehavior="auto",_.smooth=S.smooth=!1),L.enable()},e.onDisable=function(){fT(h,!0),is(zn,"resize",G),Pn.removeEventListener("refresh",G),L.kill()},e.lockAxis=e.lockAxis!==!1,l=new Mr(e),l.iOS=zf,zf&&!_()&&_(1),zf&&Xt.ticker.add(Bu),ae=l._dc,V=Xt.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:$I(_,_(),function(){return V.pause()})},onUpdate:Rc,onComplete:ae.vars.onComplete}),l};Pn.sort=function(i){if(Vs(i))return Nn.sort(i);var e=zn.pageYOffset||0;return Pn.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+zn.innerHeight}),Nn.sort(i||function(t,n){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};Pn.observe=function(i){return new Mr(i)};Pn.normalizeScroll=function(i){if(typeof i>"u")return ha;if(i===!0&&ha)return ha.enable();if(i===!1){ha&&ha.kill(),ha=i;return}var e=i instanceof Mr?i:eK(i);return ha&&ha.target===e.target&&ha.kill(),pp(e.target)&&(ha=e),e};Pn.core={_getVelocityProp:gC,_inputObserver:e4,_scrollers:Hn,_proxies:Pu,bridge:{ss:function(){$o||gp("scrollStart"),$o=zs()},ref:function(){return Is}}};kI()&&Xt.registerPlugin(Pn);function tK(i){return kl({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.712 17.711H7.288l-1.204 2.916L12 24l5.916-3.373-1.204-2.916ZM14.692 0l7.832 16.855.814-12.856L14.692 0ZM9.308 0 .662 3.999l.814 12.856L9.308 0Zm-.405 13.93h6.198L12 6.396 8.903 13.93Z"},child:[]}]})(i)}function nK(i){return kl({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 003.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288Z"},child:[]}]})(i)}function iK(i){return kl({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 18.588a1.529 1.529 0 01-1.895-.72l-3.45-4.771-.5-.667-4.003 5.444a1.466 1.466 0 01-1.802.708l5.158-6.92-4.798-6.251a1.595 1.595 0 011.9.666l3.576 4.83 3.596-4.81a1.435 1.435 0 011.788-.668L21.708 7.9l-2.522 3.283a.666.666 0 000 .994l4.804 6.412zM.002 11.576l.42-2.075c1.154-4.103 5.858-5.81 9.094-3.27 1.895 1.489 2.368 3.597 2.275 5.973H1.116C.943 16.447 4.005 19.009 7.92 17.7a4.078 4.078 0 002.582-2.876c.207-.666.548-.78 1.174-.588a5.417 5.417 0 01-2.589 3.957 6.272 6.272 0 01-7.306-.933 6.575 6.575 0 01-1.64-3.858c0-.235-.08-.455-.134-.666A88.33 88.33 0 010 11.577zm1.127-.286h9.654c-.06-3.076-2.001-5.258-4.59-5.278-2.882-.04-4.944 2.094-5.071 5.264z"},child:[]}]})(i)}function rK(i){return kl({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"},child:[]}]})(i)}function sK(i){return kl({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.193 9.555c-1.264-5.58-4.252-7.414-4.573-8.115-.28-.394-.53-.954-.735-1.44-.036.495-.055.685-.523 1.184-.723.566-4.438 3.682-4.74 10.02-.282 5.912 4.27 9.435 4.888 9.884l.07.05A73.49 73.49 0 0111.91 24h.481c.114-1.032.284-2.056.51-3.07.417-.296.604-.463.85-.693a11.342 11.342 0 003.639-8.464c.01-.814-.103-1.662-.197-2.218zm-5.336 8.195s0-8.291.275-8.29c.213 0 .49 10.695.49 10.695-.381-.045-.765-1.76-.765-2.405z"},child:[]}]})(i)}function aK(i){return kl({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.998,24c-0.321,0-0.641-0.084-0.922-0.247l-2.936-1.737c-0.438-0.245-0.224-0.332-0.08-0.383 c0.585-0.203,0.703-0.25,1.328-0.604c0.065-0.037,0.151-0.023,0.218,0.017l2.256,1.339c0.082,0.045,0.197,0.045,0.272,0l8.795-5.076 c0.082-0.047,0.134-0.141,0.134-0.238V6.921c0-0.099-0.053-0.192-0.137-0.242l-8.791-5.072c-0.081-0.047-0.189-0.047-0.271,0 L3.075,6.68C2.99,6.729,2.936,6.825,2.936,6.921v10.15c0,0.097,0.054,0.189,0.139,0.235l2.409,1.392 c1.307,0.654,2.108-0.116,2.108-0.89V7.787c0-0.142,0.114-0.253,0.256-0.253h1.115c0.139,0,0.255,0.112,0.255,0.253v10.021 c0,1.745-0.95,2.745-2.604,2.745c-0.508,0-0.909,0-2.026-0.551L2.28,18.675c-0.57-0.329-0.922-0.945-0.922-1.604V6.921 c0-0.659,0.353-1.275,0.922-1.603l8.795-5.082c0.557-0.315,1.296-0.315,1.848,0l8.794,5.082c0.57,0.329,0.924,0.944,0.924,1.603 v10.15c0,0.659-0.354,1.273-0.924,1.604l-8.794,5.078C12.643,23.916,12.324,24,11.998,24z M19.099,13.993 c0-1.9-1.284-2.406-3.987-2.763c-2.731-0.361-3.009-0.548-3.009-1.187c0-0.528,0.235-1.233,2.258-1.233 c1.807,0,2.473,0.389,2.747,1.607c0.024,0.115,0.129,0.199,0.247,0.199h1.141c0.071,0,0.138-0.031,0.186-0.081 c0.048-0.054,0.074-0.123,0.067-0.196c-0.177-2.098-1.571-3.076-4.388-3.076c-2.508,0-4.004,1.058-4.004,2.833 c0,1.925,1.488,2.457,3.895,2.695c2.88,0.282,3.103,0.703,3.103,1.269c0,0.983-0.789,1.402-2.642,1.402 c-2.327,0-2.839-0.584-3.011-1.742c-0.02-0.124-0.126-0.215-0.253-0.215h-1.137c-0.141,0-0.254,0.112-0.254,0.253 c0,1.482,0.806,3.248,4.655,3.248C17.501,17.007,19.099,15.91,19.099,13.993z"},child:[]}]})(i)}function oK(i){return kl({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.41 0-.783.093-1.106.278-1.375.793-1.683 3.264-.973 6.365C1.98 8.917 0 10.42 0 12.004c0 1.59 1.99 3.097 5.043 4.03-.704 3.113-.39 5.588.988 6.38.32.187.69.275 1.102.275 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.41 0 .783-.09 1.106-.275 1.374-.792 1.683-3.263.973-6.365C22.02 15.096 24 13.59 24 12.004c0-1.59-1.99-3.097-5.043-4.032.704-3.11.39-5.587-.988-6.38-.318-.184-.688-.277-1.092-.278zm-.005 1.09v.006c.225 0 .406.044.558.127.666.382.955 1.835.73 3.704-.054.46-.142.945-.25 1.44-.96-.236-2.006-.417-3.107-.534-.66-.905-1.345-1.727-2.035-2.447 1.592-1.48 3.087-2.292 4.105-2.295zm-9.77.02c1.012 0 2.514.808 4.11 2.28-.686.72-1.37 1.537-2.02 2.442-1.107.117-2.154.298-3.113.538-.112-.49-.195-.964-.254-1.42-.23-1.868.054-3.32.714-3.707.19-.09.4-.127.563-.132zm4.882 3.05c.455.468.91.992 1.36 1.564-.44-.02-.89-.034-1.345-.034-.46 0-.915.01-1.36.034.44-.572.895-1.096 1.345-1.565zM12 8.1c.74 0 1.477.034 2.202.093.406.582.802 1.203 1.183 1.86.372.64.71 1.29 1.018 1.946-.308.655-.646 1.31-1.013 1.95-.38.66-.773 1.288-1.18 1.87-.728.063-1.466.098-2.21.098-.74 0-1.477-.035-2.202-.093-.406-.582-.802-1.204-1.183-1.86-.372-.64-.71-1.29-1.018-1.946.303-.657.646-1.313 1.013-1.954.38-.66.773-1.286 1.18-1.868.728-.064 1.466-.098 2.21-.098zm-3.635.254c-.24.377-.48.763-.704 1.16-.225.39-.435.782-.635 1.174-.265-.656-.49-1.31-.676-1.947.64-.15 1.315-.283 2.015-.386zm7.26 0c.695.103 1.365.23 2.006.387-.18.632-.405 1.282-.66 1.933-.2-.39-.41-.783-.64-1.174-.225-.392-.465-.774-.705-1.146zm3.063.675c.484.15.944.317 1.375.498 1.732.74 2.852 1.708 2.852 2.476-.005.768-1.125 1.74-2.857 2.475-.42.18-.88.342-1.355.493-.28-.958-.646-1.956-1.1-2.98.45-1.017.81-2.01 1.085-2.964zm-13.395.004c.278.96.645 1.957 1.1 2.98-.45 1.017-.812 2.01-1.086 2.964-.484-.15-.944-.318-1.37-.5-1.732-.737-2.852-1.706-2.852-2.474 0-.768 1.12-1.742 2.852-2.476.42-.18.88-.342 1.356-.494zm11.678 4.28c.265.657.49 1.312.676 1.948-.64.157-1.316.29-2.016.39.24-.375.48-.762.705-1.158.225-.39.435-.788.636-1.18zm-9.945.02c.2.392.41.783.64 1.175.23.39.465.772.705 1.143-.695-.102-1.365-.23-2.006-.386.18-.63.406-1.282.66-1.933zM17.92 16.32c.112.493.2.968.254 1.423.23 1.868-.054 3.32-.714 3.708-.147.09-.338.128-.563.128-1.012 0-2.514-.807-4.11-2.28.686-.72 1.37-1.536 2.02-2.44 1.107-.118 2.154-.3 3.113-.54zm-11.83.01c.96.234 2.006.415 3.107.532.66.905 1.345 1.727 2.035 2.446-1.595 1.483-3.092 2.295-4.11 2.295-.22-.005-.406-.05-.553-.132-.666-.38-.955-1.834-.73-3.703.054-.46.142-.944.25-1.438zm4.56.64c.44.02.89.034 1.345.034.46 0 .915-.01 1.36-.034-.44.572-.895 1.095-1.345 1.565-.455-.47-.91-.993-1.36-1.565z"},child:[]}]})(i)}function lK(i){return kl({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m23.693 10.7058-4.73-8.1844c-.4094-.7106-1.4166-1.2942-2.2402-1.2942H7.2725c-.819 0-1.8308.5836-2.2402 1.2942L.307 10.7058c-.4095.7106-.4095 1.873 0 2.5837l4.7252 8.189c.4094.7107 1.4166 1.2943 2.2402 1.2943h9.455c.819 0 1.826-.5836 2.2402-1.2942l4.7252-8.189c.4095-.7107.4095-1.8732 0-2.5838zM10.9763 5.7547c0-.5365.4377-.9742.9742-.9742s.9742.4377.9742.9742v5.8217c0 .5366-.4377.9742-.9742.9742s-.9742-.4376-.9742-.9742zm.9742 12.4294c-3.6427 0-6.6077-2.965-6.6077-6.6077.0047-2.0896.993-4.0521 2.6685-5.304a.8657.8657 0 0 1 1.2142.1788.8657.8657 0 0 1-.1788 1.2143c-2.1602 1.6048-2.612 4.6592-1.0072 6.8194 1.6049 2.1603 4.6593 2.612 6.8195 1.0072 1.2378-.9177 1.9673-2.372 1.9673-3.9157a4.8972 4.8972 0 0 0-1.9861-3.925c-.386-.2824-.466-.8284-.1836-1.2143.2824-.386.8283-.466 1.2143-.1835 1.6895 1.2471 2.6826 3.2238 2.6873 5.3228 0 3.6474-2.965 6.6077-6.6077 6.6077z"},child:[]}]})(i)}function uK(){const[i,e]=Me.useState(window.innerWidth);return Me.useEffect(()=>{const t=()=>e(window.innerWidth);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),i}const Dw=Me.createContext({});function Ib(i){const e=Me.useRef(null);return e.current===null&&(e.current=i()),e.current}const Ow=typeof window<"u",Uw=Ow?Me.useLayoutEffect:Me.useEffect,Fb=Me.createContext(null);function Lw(i,e){i.indexOf(e)===-1&&i.push(e)}function Nw(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const Lc=(i,e,t)=>t>e?e:t<i?i:t;let Pw=()=>{};const Nc={},t4=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function n4(i){return typeof i=="object"&&i!==null}const i4=i=>/^0[^.\s]+$/u.test(i);function Iw(i){let e;return()=>(e===void 0&&(e=i()),e)}const el=i=>i,cK=(i,e)=>t=>e(i(t)),c_=(...i)=>i.reduce(cK),Fy=(i,e,t)=>{const n=e-i;return n===0?1:(t-i)/n};class Fw{constructor(){this.subscriptions=[]}add(e){return Lw(this.subscriptions,e),()=>Nw(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const a=this.subscriptions[s];a&&a(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Iu=i=>i*1e3,Fu=i=>i/1e3;function r4(i,e){return e?i*(1e3/e):0}const s4=(i,e,t)=>(((1-3*t+3*e)*i+(3*t-6*e))*i+3*e)*i,fK=1e-7,hK=12;function dK(i,e,t,n,r){let s,a,l=0;do a=e+(t-e)/2,s=s4(a,n,r)-i,s>0?t=a:e=a;while(Math.abs(s)>fK&&++l<hK);return a}function f_(i,e,t,n){if(i===e&&t===n)return el;const r=s=>dK(s,0,1,i,t);return s=>s===0||s===1?s:s4(r(s),e,n)}const a4=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,o4=i=>e=>1-i(1-e),l4=f_(.33,1.53,.69,.99),zw=o4(l4),u4=a4(zw),c4=i=>(i*=2)<1?.5*zw(i):.5*(2-Math.pow(2,-10*(i-1))),Hw=i=>1-Math.sin(Math.acos(i)),f4=o4(Hw),h4=a4(Hw),pK=f_(.42,0,1,1),mK=f_(0,0,.58,1),d4=f_(.42,0,.58,1),gK=i=>Array.isArray(i)&&typeof i[0]!="number",p4=i=>Array.isArray(i)&&typeof i[0]=="number",vK={linear:el,easeIn:pK,easeInOut:d4,easeOut:mK,circIn:Hw,circInOut:h4,circOut:f4,backIn:zw,backInOut:u4,backOut:l4,anticipate:c4},yK=i=>typeof i=="string",RO=i=>{if(p4(i)){Pw(i.length===4);const[e,t,n,r]=i;return f_(e,t,n,r)}else if(yK(i))return vK[i];return i},hS=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _K(i,e){let t=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(m){a.has(m)&&(h.schedule(m),i()),m(l)}const h={schedule:(m,g=!1,v=!1)=>{const S=v&&r?t:n;return g&&a.add(m),S.has(m)||S.add(m),m},cancel:m=>{n.delete(m),a.delete(m)},process:m=>{if(l=m,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(c),t.clear(),r=!1,s&&(s=!1,h.process(m))}};return h}const xK=40;function m4(i,e){let t=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=hS.reduce((w,B)=>(w[B]=_K(s),w),{}),{setup:l,read:c,resolveKeyframes:h,preUpdate:m,update:g,preRender:v,render:_,postRender:S}=a,M=()=>{const w=Nc.useManualTiming?r.timestamp:performance.now();t=!1,Nc.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(w-r.timestamp,xK),1)),r.timestamp=w,r.isProcessing=!0,l.process(r),c.process(r),h.process(r),m.process(r),g.process(r),v.process(r),_.process(r),S.process(r),r.isProcessing=!1,t&&e&&(n=!1,i(M))},b=()=>{t=!0,n=!0,r.isProcessing||i(M)};return{schedule:hS.reduce((w,B)=>{const L=a[B];return w[B]=(N,I=!1,P=!1)=>(t||b(),L.schedule(N,I,P)),w},{}),cancel:w=>{for(let B=0;B<hS.length;B++)a[hS[B]].cancel(w)},state:r,steps:a}}const{schedule:rr,cancel:ah,state:ys,steps:hT}=m4(typeof requestAnimationFrame<"u"?requestAnimationFrame:el,!0);let DS;function SK(){DS=void 0}const Fa={now:()=>(DS===void 0&&Fa.set(ys.isProcessing||Nc.useManualTiming?ys.timestamp:performance.now()),DS),set:i=>{DS=i,queueMicrotask(SK)}},g4=i=>e=>typeof e=="string"&&e.startsWith(i),Gw=g4("--"),AK=g4("var(--"),Vw=i=>AK(i)?bK.test(i.split("/*")[0].trim()):!1,bK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jg={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},zy={...jg,transform:i=>Lc(0,1,i)},dS={...jg,default:1},hy=i=>Math.round(i*1e5)/1e5,kw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function MK(i){return i==null}const EK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xw=(i,e)=>t=>!!(typeof t=="string"&&EK.test(t)&&t.startsWith(i)||e&&!MK(t)&&Object.prototype.hasOwnProperty.call(t,e)),v4=(i,e,t)=>n=>{if(typeof n!="string")return n;const[r,s,a,l]=n.match(kw);return{[i]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},TK=i=>Lc(0,255,i),dT={...jg,transform:i=>Math.round(TK(i))},Vd={test:Xw("rgb","red"),parse:v4("red","green","blue"),transform:({red:i,green:e,blue:t,alpha:n=1})=>"rgba("+dT.transform(i)+", "+dT.transform(e)+", "+dT.transform(t)+", "+hy(zy.transform(n))+")"};function CK(i){let e="",t="",n="",r="";return i.length>5?(e=i.substring(1,3),t=i.substring(3,5),n=i.substring(5,7),r=i.substring(7,9)):(e=i.substring(1,2),t=i.substring(2,3),n=i.substring(3,4),r=i.substring(4,5),e+=e,t+=t,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const MC={test:Xw("#"),parse:CK,transform:Vd.transform},h_=i=>({test:e=>typeof e=="string"&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),Hf=h_("deg"),zu=h_("%"),gn=h_("px"),wK=h_("vh"),RK=h_("vw"),BO={...zu,parse:i=>zu.parse(i)/100,transform:i=>zu.transform(i*100)},ng={test:Xw("hsl","hue"),parse:v4("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(i)+", "+zu.transform(hy(e))+", "+zu.transform(hy(t))+", "+hy(zy.transform(n))+")"},Lr={test:i=>Vd.test(i)||MC.test(i)||ng.test(i),parse:i=>Vd.test(i)?Vd.parse(i):ng.test(i)?ng.parse(i):MC.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?Vd.transform(i):ng.transform(i),getAnimatableNone:i=>{const e=Lr.parse(i);return e.alpha=0,Lr.transform(e)}},BK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DK(i){return isNaN(i)&&typeof i=="string"&&(i.match(kw)?.length||0)+(i.match(BK)?.length||0)>0}const y4="number",_4="color",OK="var",UK="var(",DO="${}",LK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hy(i){const e=i.toString(),t=[],n={color:[],number:[],var:[]},r=[];let s=0;const l=e.replace(LK,c=>(Lr.test(c)?(n.color.push(s),r.push(_4),t.push(Lr.parse(c))):c.startsWith(UK)?(n.var.push(s),r.push(OK),t.push(c)):(n.number.push(s),r.push(y4),t.push(parseFloat(c))),++s,DO)).split(DO);return{values:t,split:l,indexes:n,types:r}}function x4(i){return Hy(i).values}function S4(i){const{split:e,types:t}=Hy(i),n=e.length;return r=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],r[a]!==void 0){const l=t[a];l===y4?s+=hy(r[a]):l===_4?s+=Lr.transform(r[a]):s+=r[a]}return s}}const NK=i=>typeof i=="number"?0:Lr.test(i)?Lr.getAnimatableNone(i):i;function PK(i){const e=x4(i);return S4(i)(e.map(NK))}const oh={test:DK,parse:x4,createTransformer:S4,getAnimatableNone:PK};function pT(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function IK({hue:i,saturation:e,lightness:t,alpha:n}){i/=360,e/=100,t/=100;let r=0,s=0,a=0;if(!e)r=s=a=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;r=pT(c,l,i+1/3),s=pT(c,l,i),a=pT(c,l,i-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function kA(i,e){return t=>t>0?e:i}const ir=(i,e,t)=>i+(e-i)*t,mT=(i,e,t)=>{const n=i*i,r=t*(e*e-n)+n;return r<0?0:Math.sqrt(r)},FK=[MC,Vd,ng],zK=i=>FK.find(e=>e.test(i));function OO(i){const e=zK(i);if(!e)return!1;let t=e.parse(i);return e===ng&&(t=IK(t)),t}const UO=(i,e)=>{const t=OO(i),n=OO(e);if(!t||!n)return kA(i,e);const r={...t};return s=>(r.red=mT(t.red,n.red,s),r.green=mT(t.green,n.green,s),r.blue=mT(t.blue,n.blue,s),r.alpha=ir(t.alpha,n.alpha,s),Vd.transform(r))},EC=new Set(["none","hidden"]);function HK(i,e){return EC.has(i)?t=>t<=0?i:e:t=>t>=1?e:i}function GK(i,e){return t=>ir(i,e,t)}function Yw(i){return typeof i=="number"?GK:typeof i=="string"?Vw(i)?kA:Lr.test(i)?UO:XK:Array.isArray(i)?A4:typeof i=="object"?Lr.test(i)?UO:VK:kA}function A4(i,e){const t=[...i],n=t.length,r=i.map((s,a)=>Yw(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)t[a]=r[a](s);return t}}function VK(i,e){const t={...i,...e},n={};for(const r in t)i[r]!==void 0&&e[r]!==void 0&&(n[r]=Yw(i[r])(i[r],e[r]));return r=>{for(const s in n)t[s]=n[s](r);return t}}function kK(i,e){const t=[],n={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],a=i.indexes[s][n[s]],l=i.values[a]??0;t[r]=l,n[s]++}return t}const XK=(i,e)=>{const t=oh.createTransformer(e),n=Hy(i),r=Hy(e);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?EC.has(i)&&!r.values.length||EC.has(e)&&!n.values.length?HK(i,e):c_(A4(kK(n,r),r.values),t):kA(i,e)};function b4(i,e,t){return typeof i=="number"&&typeof e=="number"&&typeof t=="number"?ir(i,e,t):Yw(i)(i,e)}const YK=i=>{const e=({timestamp:t})=>i(t);return{start:(t=!0)=>rr.update(e,t),stop:()=>ah(e),now:()=>ys.isProcessing?ys.timestamp:Fa.now()}},M4=(i,e,t=10)=>{let n="";const r=Math.max(Math.round(e/t),2);for(let s=0;s<r;s++)n+=Math.round(i(s/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},XA=2e4;function jw(i){let e=0;const t=50;let n=i.next(e);for(;!n.done&&e<XA;)e+=t,n=i.next(e);return e>=XA?1/0:e}function jK(i,e=100,t){const n=t({...i,keyframes:[0,e]}),r=Math.min(jw(n),XA);return{type:"keyframes",ease:s=>n.next(r*s).value/e,duration:Fu(r)}}const qK=5;function E4(i,e,t){const n=Math.max(e-qK,0);return r4(t-i(n),e-n)}const ur={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gT=.001;function WK({duration:i=ur.duration,bounce:e=ur.bounce,velocity:t=ur.velocity,mass:n=ur.mass}){let r,s,a=1-e;a=Lc(ur.minDamping,ur.maxDamping,a),i=Lc(ur.minDuration,ur.maxDuration,Fu(i)),a<1?(r=h=>{const m=h*a,g=m*i,v=m-t,_=TC(h,a),S=Math.exp(-g);return gT-v/_*S},s=h=>{const g=h*a*i,v=g*t+t,_=Math.pow(a,2)*Math.pow(h,2)*i,S=Math.exp(-g),M=TC(Math.pow(h,2),a);return(-r(h)+gT>0?-1:1)*((v-_)*S)/M}):(r=h=>{const m=Math.exp(-h*i),g=(h-t)*i+1;return-gT+m*g},s=h=>{const m=Math.exp(-h*i),g=(t-h)*(i*i);return m*g});const l=5/i,c=JK(r,s,l);if(i=Iu(i),isNaN(c))return{stiffness:ur.stiffness,damping:ur.damping,duration:i};{const h=Math.pow(c,2)*n;return{stiffness:h,damping:a*2*Math.sqrt(n*h),duration:i}}}const KK=12;function JK(i,e,t){let n=t;for(let r=1;r<KK;r++)n=n-i(n)/e(n);return n}function TC(i,e){return i*Math.sqrt(1-e*e)}const ZK=["duration","bounce"],QK=["stiffness","damping","mass"];function LO(i,e){return e.some(t=>i[t]!==void 0)}function $K(i){let e={velocity:ur.velocity,stiffness:ur.stiffness,damping:ur.damping,mass:ur.mass,isResolvedFromDuration:!1,...i};if(!LO(i,QK)&&LO(i,ZK))if(i.visualDuration){const t=i.visualDuration,n=2*Math.PI/(t*1.2),r=n*n,s=2*Lc(.05,1,1-(i.bounce||0))*Math.sqrt(r);e={...e,mass:ur.mass,stiffness:r,damping:s}}else{const t=WK(i);e={...e,...t,mass:ur.mass},e.isResolvedFromDuration=!0}return e}function YA(i=ur.visualDuration,e=ur.bounce){const t=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:e}:i;let{restSpeed:n,restDelta:r}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:h,mass:m,duration:g,velocity:v,isResolvedFromDuration:_}=$K({...t,velocity:-Fu(t.velocity||0)}),S=v||0,M=h/(2*Math.sqrt(c*m)),b=a-s,A=Fu(Math.sqrt(c/m)),C=Math.abs(b)<5;n||(n=C?ur.restSpeed.granular:ur.restSpeed.default),r||(r=C?ur.restDelta.granular:ur.restDelta.default);let w;if(M<1){const L=TC(A,M);w=N=>{const I=Math.exp(-M*A*N);return a-I*((S+M*A*b)/L*Math.sin(L*N)+b*Math.cos(L*N))}}else if(M===1)w=L=>a-Math.exp(-A*L)*(b+(S+A*b)*L);else{const L=A*Math.sqrt(M*M-1);w=N=>{const I=Math.exp(-M*A*N),P=Math.min(L*N,300);return a-I*((S+M*A*b)*Math.sinh(P)+L*b*Math.cosh(P))/L}}const B={calculatedDuration:_&&g||null,next:L=>{const N=w(L);if(_)l.done=L>=g;else{let I=L===0?S:0;M<1&&(I=L===0?Iu(S):E4(w,L,N));const P=Math.abs(I)<=n,U=Math.abs(a-N)<=r;l.done=P&&U}return l.value=l.done?a:N,l},toString:()=>{const L=Math.min(jw(B),XA),N=M4(I=>B.next(L*I).value,L,30);return L+"ms "+N},toTransition:()=>{}};return B}YA.applyToOptions=i=>{const e=jK(i,100,YA);return i.ease=e.ease,i.duration=Iu(e.duration),i.type="keyframes",i};function CC({keyframes:i,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:h=.5,restSpeed:m}){const g=i[0],v={done:!1,value:g},_=P=>l!==void 0&&P<l||c!==void 0&&P>c,S=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let M=t*e;const b=g+M,A=a===void 0?b:a(b);A!==b&&(M=A-g);const C=P=>-M*Math.exp(-P/n),w=P=>A+C(P),B=P=>{const U=C(P),O=w(P);v.done=Math.abs(U)<=h,v.value=v.done?A:O};let L,N;const I=P=>{_(v.value)&&(L=P,N=YA({keyframes:[v.value,S(v.value)],velocity:E4(w,P,v.value),damping:r,stiffness:s,restDelta:h,restSpeed:m}))};return I(0),{calculatedDuration:null,next:P=>{let U=!1;return!N&&L===void 0&&(U=!0,B(P),I(P)),L!==void 0&&P>=L?N.next(P-L):(!U&&B(P),v)}}}function eJ(i,e,t){const n=[],r=t||Nc.mix||b4,s=i.length-1;for(let a=0;a<s;a++){let l=r(i[a],i[a+1]);if(e){const c=Array.isArray(e)?e[a]||el:e;l=c_(c,l)}n.push(l)}return n}function tJ(i,e,{clamp:t=!0,ease:n,mixer:r}={}){const s=i.length;if(Pw(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=i[0]===i[1];i[0]>i[s-1]&&(i=[...i].reverse(),e=[...e].reverse());const l=eJ(e,n,r),c=l.length,h=m=>{if(a&&m<i[0])return e[0];let g=0;if(c>1)for(;g<i.length-2&&!(m<i[g+1]);g++);const v=Fy(i[g],i[g+1],m);return l[g](v)};return t?m=>h(Lc(i[0],i[s-1],m)):h}function nJ(i,e){const t=i[i.length-1];for(let n=1;n<=e;n++){const r=Fy(0,e,n);i.push(ir(t,1,r))}}function iJ(i){const e=[0];return nJ(e,i.length-1),e}function rJ(i,e){return i.map(t=>t*e)}function sJ(i,e){return i.map(()=>e||d4).splice(0,i.length-1)}function dy({duration:i=300,keyframes:e,times:t,ease:n="easeInOut"}){const r=gK(n)?n.map(RO):RO(n),s={done:!1,value:e[0]},a=rJ(t&&t.length===e.length?t:iJ(e),i),l=tJ(a,e,{ease:Array.isArray(r)?r:sJ(e,r)});return{calculatedDuration:i,next:c=>(s.value=l(c),s.done=c>=i,s)}}const aJ=i=>i!==null;function qw(i,{repeat:e,repeatType:t="loop"},n,r=1){const s=i.filter(aJ),l=r<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const oJ={decay:CC,inertia:CC,tween:dy,keyframes:dy,spring:YA};function T4(i){typeof i.type=="string"&&(i.type=oJ[i.type])}class Ww{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const lJ=i=>i/100;class Kw extends Ww{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Fa.now()&&this.tick(Fa.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;T4(e);const{type:t=dy,repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:a=0}=e;let{keyframes:l}=e;const c=t||dy;c!==dy&&typeof l[0]!="number"&&(this.mixKeyframes=c_(lJ,b4(l[0],l[1])),l=[0,100]);const h=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=jw(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=h}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:m,repeat:g,repeatType:v,repeatDelay:_,type:S,onUpdate:M,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const A=this.currentTime-h*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?A<0:A>r;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let w=this.currentTime,B=n;if(g){const P=Math.min(this.currentTime,r)/l;let U=Math.floor(P),O=P%1;!O&&P>=1&&(O=1),O===1&&U--,U=Math.min(U,g+1),!!(U%2)&&(v==="reverse"?(O=1-O,_&&(O-=_/l)):v==="mirror"&&(B=a)),w=Lc(0,1,O)*l}const L=C?{done:!1,value:m[0]}:B.next(w);s&&(L.value=s(L.value));let{done:N}=L;!C&&c!==null&&(N=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return I&&S!==CC&&(L.value=qw(m,this.options,b,this.speed)),M&&M(L.value),I&&this.finish(),L}then(e,t){return this.finished.then(e,t)}get duration(){return Fu(this.calculatedDuration)}get time(){return Fu(this.currentTime)}set time(e){e=Iu(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Fa.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Fu(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=YK,startTime:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fa.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function uJ(i){for(let e=1;e<i.length;e++)i[e]??(i[e]=i[e-1])}const kd=i=>i*180/Math.PI,wC=i=>{const e=kd(Math.atan2(i[1],i[0]));return RC(e)},cJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:wC,rotateZ:wC,skewX:i=>kd(Math.atan(i[1])),skewY:i=>kd(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},RC=i=>(i=i%360,i<0&&(i+=360),i),NO=wC,PO=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),IO=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),fJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:PO,scaleY:IO,scale:i=>(PO(i)+IO(i))/2,rotateX:i=>RC(kd(Math.atan2(i[6],i[5]))),rotateY:i=>RC(kd(Math.atan2(-i[2],i[0]))),rotateZ:NO,rotate:NO,skewX:i=>kd(Math.atan(i[4])),skewY:i=>kd(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function BC(i){return i.includes("scale")?1:0}function DC(i,e){if(!i||i==="none")return BC(e);const t=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(t)n=fJ,r=t;else{const l=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=cJ,r=l}if(!r)return BC(e);const s=n[e],a=r[1].split(",").map(dJ);return typeof s=="function"?s(a):a[s]}const hJ=(i,e)=>{const{transform:t="none"}=getComputedStyle(i);return DC(t,e)};function dJ(i){return parseFloat(i.trim())}const qg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wg=new Set(qg),FO=i=>i===jg||i===gn,pJ=new Set(["x","y","z"]),mJ=qg.filter(i=>!pJ.has(i));function gJ(i){const e=[];return mJ.forEach(t=>{const n=i.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const tp={width:({x:i},{paddingLeft:e="0",paddingRight:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),height:({y:i},{paddingTop:e="0",paddingBottom:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:(i,{transform:e})=>DC(e,"x"),y:(i,{transform:e})=>DC(e,"y")};tp.translateX=tp.x;tp.translateY=tp.y;const np=new Set;let OC=!1,UC=!1,LC=!1;function C4(){if(UC){const i=Array.from(np).filter(n=>n.needsMeasurement),e=new Set(i.map(n=>n.element)),t=new Map;e.forEach(n=>{const r=gJ(n);r.length&&(t.set(n,r),n.render())}),i.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const r=t.get(n);r&&r.forEach(([s,a])=>{n.getValue(s)?.set(a)})}),i.forEach(n=>n.measureEndState()),i.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}UC=!1,OC=!1,np.forEach(i=>i.complete(LC)),np.clear()}function w4(){np.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(UC=!0)})}function vJ(){LC=!0,w4(),C4(),LC=!1}class Jw{constructor(e,t,n,r,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(np.add(this),OC||(OC=!0,rr.read(w4),rr.resolveKeyframes(C4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(e[0]===null){const s=r?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&t){const l=n.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&s===void 0&&r.set(e[0])}uJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),np.delete(this)}cancel(){this.state==="scheduled"&&(np.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yJ=i=>i.startsWith("--");function _J(i,e,t){yJ(e)?i.style.setProperty(e,t):i.style[e]=t}const xJ=Iw(()=>window.ScrollTimeline!==void 0),SJ={};function AJ(i,e){const t=Iw(i);return()=>SJ[e]??t()}const R4=AJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gv=([i,e,t,n])=>`cubic-bezier(${i}, ${e}, ${t}, ${n})`,zO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gv([0,.65,.55,1]),circOut:Gv([.55,0,1,.45]),backIn:Gv([.31,.01,.66,-.59]),backOut:Gv([.33,1.53,.69,.99])};function B4(i,e){if(i)return typeof i=="function"?R4()?M4(i,e):"ease-out":p4(i)?Gv(i):Array.isArray(i)?i.map(t=>B4(t,e)||zO.easeOut):zO[i]}function bJ(i,e,t,{delay:n=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},h=void 0){const m={[e]:t};c&&(m.offset=c);const g=B4(l,r);Array.isArray(g)&&(m.easing=g);const v={delay:n,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),i.animate(m,v)}function D4(i){return typeof i=="function"&&"applyToOptions"in i}function MJ({type:i,...e}){return D4(i)&&R4()?i.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class EJ extends Ww{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,Pw(typeof e.type!="string");const h=MJ(e);this.animation=bJ(t,n,r,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const m=qw(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(m):_J(t,n,m),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Fu(Number(e))}get time(){return Fu(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Iu(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&xJ()?(this.animation.timeline=e,el):t(this)}}const O4={anticipate:c4,backInOut:u4,circInOut:h4};function TJ(i){return i in O4}function CJ(i){typeof i.ease=="string"&&TJ(i.ease)&&(i.ease=O4[i.ease])}const HO=10;class wJ extends EJ{constructor(e){CJ(e),T4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:s,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new Kw({...a,autoplay:!1}),c=Iu(this.finishedTime??this.time);t.setWithVelocity(l.sample(c-HO).value,l.sample(c).value,HO),l.stop()}}const GO=(i,e)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(oh.test(i)||i==="0")&&!i.startsWith("url("));function RJ(i){const e=i[0];if(i.length===1)return!0;for(let t=0;t<i.length;t++)if(i[t]!==e)return!0}function BJ(i,e,t,n){const r=i[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=i[i.length-1],a=GO(r,e),l=GO(s,e);return!a||!l?!1:RJ(i)||(t==="spring"||D4(t))&&n}function Zw(i){return n4(i)&&"offsetHeight"in i}const DJ=new Set(["opacity","clipPath","filter","transform"]),OJ=Iw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function UJ(i){const{motionValue:e,name:t,repeatDelay:n,repeatType:r,damping:s,type:a}=i;if(!Zw(e?.owner?.current))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return OJ()&&t&&DJ.has(t)&&(t!=="transform"||!c)&&!l&&!n&&r!=="mirror"&&s!==0&&a!=="inertia"}const LJ=40;class NJ extends Ww{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:h,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Fa.now();const v={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:s,repeatType:a,name:c,motionValue:h,element:m,...g},_=m?.KeyframeResolver||Jw;this.keyframeResolver=new _(l,(S,M,b)=>this.onKeyframesResolved(S,M,v,!b),c,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:h,onUpdate:m}=n;this.resolvedAt=Fa.now(),BJ(e,s,a,l)||((Nc.instantAnimations||!c)&&m?.(qw(e,n,t)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const v={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>LJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},_=!h&&UJ(v)?new wJ({...v,element:v.motionValue.owner.current}):new Kw(v);_.finished.then(()=>this.notifyFinished()).catch(el),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),vJ()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const PJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function IJ(i){const e=PJ.exec(i);if(!e)return[,];const[,t,n,r]=e;return[`--${t??n}`,r]}function U4(i,e,t=1){const[n,r]=IJ(i);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return t4(a)?parseFloat(a):a}return Vw(r)?U4(r,e,t+1):r}function Qw(i,e){return i?.[e]??i?.default??i}const L4=new Set(["width","height","top","left","right","bottom",...qg]),FJ={test:i=>i==="auto",parse:i=>i},N4=i=>e=>e.test(i),P4=[jg,gn,zu,Hf,RK,wK,FJ],VO=i=>P4.find(N4(i));function zJ(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||i4(i):!0}const HJ=new Set(["brightness","contrast","saturate","opacity"]);function GJ(i){const[e,t]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[n]=t.match(kw)||[];if(!n)return i;const r=t.replace(n,"");let s=HJ.has(e)?1:0;return n!==t&&(s*=100),e+"("+s+r+")"}const VJ=/\b([a-z-]*)\(.*?\)/gu,NC={...oh,getAnimatableNone:i=>{const e=i.match(VJ);return e?e.map(GJ).join(" "):i}},kO={...jg,transform:Math.round},kJ={rotate:Hf,rotateX:Hf,rotateY:Hf,rotateZ:Hf,scale:dS,scaleX:dS,scaleY:dS,scaleZ:dS,skew:Hf,skewX:Hf,skewY:Hf,distance:gn,translateX:gn,translateY:gn,translateZ:gn,x:gn,y:gn,z:gn,perspective:gn,transformPerspective:gn,opacity:zy,originX:BO,originY:BO,originZ:gn},$w={borderWidth:gn,borderTopWidth:gn,borderRightWidth:gn,borderBottomWidth:gn,borderLeftWidth:gn,borderRadius:gn,radius:gn,borderTopLeftRadius:gn,borderTopRightRadius:gn,borderBottomRightRadius:gn,borderBottomLeftRadius:gn,width:gn,maxWidth:gn,height:gn,maxHeight:gn,top:gn,right:gn,bottom:gn,left:gn,padding:gn,paddingTop:gn,paddingRight:gn,paddingBottom:gn,paddingLeft:gn,margin:gn,marginTop:gn,marginRight:gn,marginBottom:gn,marginLeft:gn,backgroundPositionX:gn,backgroundPositionY:gn,...kJ,zIndex:kO,fillOpacity:zy,strokeOpacity:zy,numOctaves:kO},XJ={...$w,color:Lr,backgroundColor:Lr,outlineColor:Lr,fill:Lr,stroke:Lr,borderColor:Lr,borderTopColor:Lr,borderRightColor:Lr,borderBottomColor:Lr,borderLeftColor:Lr,filter:NC,WebkitFilter:NC},I4=i=>XJ[i];function F4(i,e){let t=I4(i);return t!==NC&&(t=oh),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const YJ=new Set(["auto","none","0"]);function jJ(i,e,t){let n=0,r;for(;n<i.length&&!r;){const s=i[n];typeof s=="string"&&!YJ.has(s)&&Hy(s).values.length&&(r=i[n]),n++}if(r&&t)for(const s of e)i[s]=F4(t,r)}class qJ extends Jw{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),Vw(h))){const m=U4(h,t.current);m!==void 0&&(e[c]=m),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!L4.has(n)||e.length!==2)return;const[r,s]=e,a=VO(r),l=VO(s);if(a!==l)if(FO(a)&&FO(l))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else tp[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(e[r]===null||zJ(e[r]))&&n.push(r);n.length&&jJ(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=tp[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function z4(i,e,t){if(i instanceof EventTarget)return[i];if(typeof i=="string"){const r=document.querySelectorAll(i);return r?Array.from(r):[]}return Array.from(i)}const H4=(i,e)=>e&&typeof i=="number"?e.transform(i):i,XO=30,WJ=i=>!isNaN(parseFloat(i));class KJ{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,r=!0)=>{const s=Fa.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty();r&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Fa.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=WJ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Fw);const n=this.events[e].add(t);return e==="change"?()=>{n(),rr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Fa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>XO)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,XO);return r4(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zg(i,e){return new KJ(i,e)}const{schedule:eR}=m4(queueMicrotask,!1),Ul={x:!1,y:!1};function G4(){return Ul.x||Ul.y}function JJ(i){return i==="x"||i==="y"?Ul[i]?null:(Ul[i]=!0,()=>{Ul[i]=!1}):Ul.x||Ul.y?null:(Ul.x=Ul.y=!0,()=>{Ul.x=Ul.y=!1})}function V4(i,e){const t=z4(i),n=new AbortController,r={passive:!0,...e,signal:n.signal};return[t,r,()=>n.abort()]}function YO(i){return!(i.pointerType==="touch"||G4())}function ZJ(i,e,t={}){const[n,r,s]=V4(i,t),a=l=>{if(!YO(l))return;const{target:c}=l,h=e(c,l);if(typeof h!="function"||!c)return;const m=g=>{YO(g)&&(h(g),c.removeEventListener("pointerleave",m))};c.addEventListener("pointerleave",m,r)};return n.forEach(l=>{l.addEventListener("pointerenter",a,r)}),s}const k4=(i,e)=>e?i===e?!0:k4(i,e.parentElement):!1,tR=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,QJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $J(i){return QJ.has(i.tagName)||i.tabIndex!==-1}const OS=new WeakSet;function jO(i){return e=>{e.key==="Enter"&&i(e)}}function vT(i,e){i.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const eZ=(i,e)=>{const t=i.currentTarget;if(!t)return;const n=jO(()=>{if(OS.has(t))return;vT(t,"down");const r=jO(()=>{vT(t,"up")}),s=()=>vT(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function qO(i){return tR(i)&&!G4()}function tZ(i,e,t={}){const[n,r,s]=V4(i,t),a=l=>{const c=l.currentTarget;if(!qO(l))return;OS.add(c);const h=e(c,l),m=(_,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),OS.has(c)&&OS.delete(c),qO(_)&&typeof h=="function"&&h(_,{success:S})},g=_=>{m(_,c===window||c===document||t.useGlobalTarget||k4(c,_.target))},v=_=>{m(_,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",v,r)};return n.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",a,r),Zw(l)&&(l.addEventListener("focus",h=>eZ(h,r)),!$J(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function X4(i){return n4(i)&&"ownerSVGElement"in i}function nZ(i){return X4(i)&&i.tagName==="svg"}const Xs=i=>!!(i&&i.getVelocity),iZ=[...P4,Lr,oh],rZ=i=>iZ.find(N4(i)),nR=Me.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});class sZ extends Me.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=t.offsetParent,r=Zw(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function aZ({children:i,isPresent:e,anchorX:t}){const n=Me.useId(),r=Me.useRef(null),s=Me.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=Me.useContext(nR);return Me.useInsertionEffect(()=>{const{width:l,height:c,top:h,left:m,right:g}=s.current;if(e||!r.current||!l||!c)return;const v=t==="left"?`left: ${m}`:`right: ${g}`;r.current.dataset.motionPopId=n;const _=document.createElement("style");return a&&(_.nonce=a),document.head.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${v}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.contains(_)&&document.head.removeChild(_)}},[e]),We.jsx(sZ,{isPresent:e,childRef:r,sizeRef:s,children:Me.cloneElement(i,{ref:r})})}const oZ=({children:i,initial:e,isPresent:t,onExitComplete:n,custom:r,presenceAffectsLayout:s,mode:a,anchorX:l})=>{const c=Ib(lZ),h=Me.useId();let m=!0,g=Me.useMemo(()=>(m=!1,{id:h,initial:e,isPresent:t,custom:r,onExitComplete:v=>{c.set(v,!0);for(const _ of c.values())if(!_)return;n&&n()},register:v=>(c.set(v,!1),()=>c.delete(v))}),[t,c,n]);return s&&m&&(g={...g}),Me.useMemo(()=>{c.forEach((v,_)=>c.set(_,!1))},[t]),Me.useEffect(()=>{!t&&!c.size&&n&&n()},[t]),a==="popLayout"&&(i=We.jsx(aZ,{isPresent:t,anchorX:l,children:i})),We.jsx(Fb.Provider,{value:g,children:i})};function lZ(){return new Map}function Y4(i=!0){const e=Me.useContext(Fb);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=Me.useId();Me.useEffect(()=>{if(i)return r(s)},[i]);const a=Me.useCallback(()=>i&&n&&n(s),[s,n,i]);return!t&&n?[!1,a]:[!0]}const pS=i=>i.key||"";function WO(i){const e=[];return Me.Children.forEach(i,t=>{Me.isValidElement(t)&&e.push(t)}),e}const uZ=({children:i,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:r=!0,mode:s="sync",propagate:a=!1,anchorX:l="left"})=>{const[c,h]=Y4(a),m=Me.useMemo(()=>WO(i),[i]),g=a&&!c?[]:m.map(pS),v=Me.useRef(!0),_=Me.useRef(m),S=Ib(()=>new Map),[M,b]=Me.useState(m),[A,C]=Me.useState(m);Uw(()=>{v.current=!1,_.current=m;for(let L=0;L<A.length;L++){const N=pS(A[L]);g.includes(N)?S.delete(N):S.get(N)!==!0&&S.set(N,!1)}},[A,g.length,g.join("-")]);const w=[];if(m!==M){let L=[...m];for(let N=0;N<A.length;N++){const I=A[N],P=pS(I);g.includes(P)||(L.splice(N,0,I),w.push(I))}return s==="wait"&&w.length&&(L=w),C(WO(L)),b(m),null}const{forceRender:B}=Me.useContext(Dw);return We.jsx(We.Fragment,{children:A.map(L=>{const N=pS(L),I=a&&!c?!1:m===A||g.includes(N),P=()=>{if(S.has(N))S.set(N,!0);else return;let U=!0;S.forEach(O=>{O||(U=!1)}),U&&(B?.(),C(_.current),a&&h?.(),n&&n())};return We.jsx(oZ,{isPresent:I,initial:!v.current||t?void 0:!1,custom:e,presenceAffectsLayout:r,mode:s,onExitComplete:I?void 0:P,anchorX:l,children:L},N)})})},j4=Me.createContext({strict:!1}),KO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hg={};for(const i in KO)Hg[i]={isEnabled:e=>KO[i].some(t=>!!e[t])};function cZ(i){for(const e in i)Hg[e]={...Hg[e],...i[e]}}const fZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jA(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||fZ.has(i)}let q4=i=>!jA(i);function hZ(i){typeof i=="function"&&(q4=e=>e.startsWith("on")?!jA(e):i(e))}try{hZ(require("@emotion/is-prop-valid").default)}catch{}function dZ(i,e,t){const n={};for(const r in i)r==="values"&&typeof i.values=="object"||(q4(r)||t===!0&&jA(r)||!e&&!jA(r)||i.draggable&&r.startsWith("onDrag"))&&(n[r]=i[r]);return n}function pZ(i){if(typeof Proxy>"u")return i;const e=new Map,t=(...n)=>i(...n);return new Proxy(t,{get:(n,r)=>r==="create"?i:(e.has(r)||e.set(r,i(r)),e.get(r))})}const zb=Me.createContext({});function Hb(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function Gy(i){return typeof i=="string"||Array.isArray(i)}const iR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rR=["initial",...iR];function Gb(i){return Hb(i.animate)||rR.some(e=>Gy(i[e]))}function W4(i){return!!(Gb(i)||i.variants)}function mZ(i,e){if(Gb(i)){const{initial:t,animate:n}=i;return{initial:t===!1||Gy(t)?t:void 0,animate:Gy(n)?n:void 0}}return i.inherit!==!1?e:{}}function gZ(i){const{initial:e,animate:t}=mZ(i,Me.useContext(zb));return Me.useMemo(()=>({initial:e,animate:t}),[JO(e),JO(t)])}function JO(i){return Array.isArray(i)?i.join(" "):i}const vZ=Symbol.for("motionComponentSymbol");function ig(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function yZ(i,e,t){return Me.useCallback(n=>{n&&i.onMount&&i.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):ig(t)&&(t.current=n))},[e])}const sR=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_Z="framerAppearId",K4="data-"+sR(_Z),J4=Me.createContext({});function xZ(i,e,t,n,r){const{visualElement:s}=Me.useContext(zb),a=Me.useContext(j4),l=Me.useContext(Fb),c=Me.useContext(nR).reducedMotion,h=Me.useRef(null);n=n||a.renderer,!h.current&&n&&(h.current=n(i,{visualState:e,parent:s,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const m=h.current,g=Me.useContext(J4);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&SZ(h.current,t,r,g);const v=Me.useRef(!1);Me.useInsertionEffect(()=>{m&&v.current&&m.update(t,l)});const _=t[K4],S=Me.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return Uw(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),eR.render(m.render),S.current&&m.animationState&&m.animationState.animateChanges())}),Me.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),S.current=!1))}),m}function SZ(i,e,t,n){const{layoutId:r,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:h,layoutCrossfade:m}=e;i.projection=new t(i.latestValues,e["data-framer-portal-id"]?void 0:Z4(i.parent)),i.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!a||l&&ig(l),visualElement:i,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:c,layoutRoot:h})}function Z4(i){if(i)return i.options.allowProjection!==!1?i.projection:Z4(i.parent)}function AZ({preloadedFeatures:i,createVisualElement:e,useRender:t,useVisualState:n,Component:r}){i&&cZ(i);function s(l,c){let h;const m={...Me.useContext(nR),...l,layoutId:bZ(l)},{isStatic:g}=m,v=gZ(l),_=n(l,g);if(!g&&Ow){MZ();const S=EZ(m);h=S.MeasureLayout,v.visualElement=xZ(r,_,m,e,S.ProjectionNode)}return We.jsxs(zb.Provider,{value:v,children:[h&&v.visualElement?We.jsx(h,{visualElement:v.visualElement,...m}):null,t(r,l,yZ(_,v.visualElement,c),_,g,v.visualElement)]})}s.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const a=Me.forwardRef(s);return a[vZ]=r,a}function bZ({layoutId:i}){const e=Me.useContext(Dw).id;return e&&i!==void 0?e+"-"+i:i}function MZ(i,e){Me.useContext(j4).strict}function EZ(i){const{drag:e,layout:t}=Hg;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e?.isEnabled(i)||t?.isEnabled(i)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Vy={};function TZ(i){for(const e in i)Vy[e]=i[e],Gw(e)&&(Vy[e].isCSSVariable=!0)}function Q4(i,{layout:e,layoutId:t}){return Wg.has(i)||i.startsWith("origin")||(e||t!==void 0)&&(!!Vy[i]||i==="opacity")}const CZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wZ=qg.length;function RZ(i,e,t){let n="",r=!0;for(let s=0;s<wZ;s++){const a=qg[s],l=i[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||t){const h=H4(l,$w[a]);if(!c){r=!1;const m=CZ[a]||a;n+=`${m}(${h}) `}t&&(e[a]=h)}}return n=n.trim(),t?n=t(e,r?"":n):r&&(n="none"),n}function aR(i,e,t){const{style:n,vars:r,transformOrigin:s}=i;let a=!1,l=!1;for(const c in e){const h=e[c];if(Wg.has(c)){a=!0;continue}else if(Gw(c)){r[c]=h;continue}else{const m=H4(h,$w[c]);c.startsWith("origin")?(l=!0,s[c]=m):n[c]=m}}if(e.transform||(a||t?n.transform=RZ(e,i.transform,t):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:h="50%",originZ:m=0}=s;n.transformOrigin=`${c} ${h} ${m}`}}const oR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $4(i,e,t){for(const n in e)!Xs(e[n])&&!Q4(n,t)&&(i[n]=e[n])}function BZ({transformTemplate:i},e){return Me.useMemo(()=>{const t=oR();return aR(t,e,i),Object.assign({},t.vars,t.style)},[e])}function DZ(i,e){const t=i.style||{},n={};return $4(n,t,i),Object.assign(n,BZ(i,e)),n}function OZ(i,e){const t={},n=DZ(i,e);return i.drag&&i.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(t.tabIndex=0),t.style=n,t}const UZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},LZ={offset:"strokeDashoffset",array:"strokeDasharray"};function NZ(i,e,t=1,n=0,r=!0){i.pathLength=1;const s=r?UZ:LZ;i[s.offset]=gn.transform(-n);const a=gn.transform(e),l=gn.transform(t);i[s.array]=`${a} ${l}`}function eF(i,{attrX:e,attrY:t,attrScale:n,pathLength:r,pathSpacing:s=1,pathOffset:a=0,...l},c,h,m){if(aR(i,l,h),c){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:g,style:v}=i;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),n!==void 0&&(g.scale=n),r!==void 0&&NZ(g,r,s,a,!1)}const tF=()=>({...oR(),attrs:{}}),nF=i=>typeof i=="string"&&i.toLowerCase()==="svg";function PZ(i,e,t,n){const r=Me.useMemo(()=>{const s=tF();return eF(s,e,nF(n),i.transformTemplate,i.style),{...s.attrs,style:{...s.style}}},[e]);if(i.style){const s={};$4(s,i.style,i),r.style={...s,...r.style}}return r}const IZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lR(i){return typeof i!="string"||i.includes("-")?!1:!!(IZ.indexOf(i)>-1||/[A-Z]/u.test(i))}function FZ(i=!1){return(t,n,r,{latestValues:s},a)=>{const c=(lR(t)?PZ:OZ)(n,s,a,t),h=dZ(n,typeof t=="string",i),m=t!==Me.Fragment?{...h,...c,ref:r}:{},{children:g}=n,v=Me.useMemo(()=>Xs(g)?g.get():g,[g]);return Me.createElement(t,{...m,children:v})}}function ZO(i){const e=[{},{}];return i?.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function uR(i,e,t,n){if(typeof e=="function"){const[r,s]=ZO(n);e=e(t!==void 0?t:i.custom,r,s)}if(typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"){const[r,s]=ZO(n);e=e(t!==void 0?t:i.custom,r,s)}return e}function US(i){return Xs(i)?i.get():i}function zZ({scrapeMotionValuesFromProps:i,createRenderState:e},t,n,r){return{latestValues:HZ(t,n,r,i),renderState:e()}}const iF=i=>(e,t)=>{const n=Me.useContext(zb),r=Me.useContext(Fb),s=()=>zZ(i,e,n,r);return t?s():Ib(s)};function HZ(i,e,t,n){const r={},s=n(i,{});for(const v in s)r[v]=US(s[v]);let{initial:a,animate:l}=i;const c=Gb(i),h=W4(i);e&&h&&!c&&i.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let m=t?t.initial===!1:!1;m=m||a===!1;const g=m?l:a;if(g&&typeof g!="boolean"&&!Hb(g)){const v=Array.isArray(g)?g:[g];for(let _=0;_<v.length;_++){const S=uR(i,v[_]);if(S){const{transitionEnd:M,transition:b,...A}=S;for(const C in A){let w=A[C];if(Array.isArray(w)){const B=m?w.length-1:0;w=w[B]}w!==null&&(r[C]=w)}for(const C in M)r[C]=M[C]}}}return r}function cR(i,e,t){const{style:n}=i,r={};for(const s in n)(Xs(n[s])||e.style&&Xs(e.style[s])||Q4(s,i)||t?.getValue(s)?.liveStyle!==void 0)&&(r[s]=n[s]);return r}const GZ={useVisualState:iF({scrapeMotionValuesFromProps:cR,createRenderState:oR})};function rF(i,e,t){const n=cR(i,e,t);for(const r in i)if(Xs(i[r])||Xs(e[r])){const s=qg.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=i[r]}return n}const VZ={useVisualState:iF({scrapeMotionValuesFromProps:rF,createRenderState:tF})};function kZ(i,e){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...lR(n)?VZ:GZ,preloadedFeatures:i,useRender:FZ(r),createVisualElement:e,Component:n};return AZ(a)}}function ky(i,e,t){const n=i.getProps();return uR(n,e,t!==void 0?t:n.custom,i)}const PC=i=>Array.isArray(i);function XZ(i,e,t){i.hasValue(e)?i.getValue(e).set(t):i.addValue(e,zg(t))}function YZ(i){return PC(i)?i[i.length-1]||0:i}function fR(i,e){const t=ky(i,e);let{transitionEnd:n={},transition:r={},...s}=t||{};s={...s,...n};for(const a in s){const l=YZ(s[a]);XZ(i,a,l)}}function jZ(i){return!!(Xs(i)&&i.add)}function IC(i,e){const t=i.getValue("willChange");if(jZ(t))return t.add(e);if(!t&&Nc.WillChange){const n=new Nc.WillChange("auto");i.addValue("willChange",n),n.add(e)}}function sF(i){return i.props[K4]}const qZ=i=>i!==null;function WZ(i,{repeat:e,repeatType:t="loop"},n){const r=i.filter(qZ),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[s]}const KZ={type:"spring",stiffness:500,damping:25,restSpeed:10},JZ=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),ZZ={type:"keyframes",duration:.8},QZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$Z=(i,{keyframes:e})=>e.length>2?ZZ:Wg.has(i)?i.startsWith("scale")?JZ(e[1]):KZ:QZ;function eQ({when:i,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:h,...m}){return!!Object.keys(m).length}const hR=(i,e,t,n={},r,s)=>a=>{const l=Qw(n,i)||{},c=l.delay||n.delay||0;let{elapsed:h=0}=n;h=h-Iu(c);const m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:v=>{e.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:i,motionValue:e,element:s?void 0:r};eQ(l)||Object.assign(m,$Z(i,m)),m.duration&&(m.duration=Iu(m.duration)),m.repeatDelay&&(m.repeatDelay=Iu(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),(Nc.instantAnimations||Nc.skipAnimations)&&(g=!0,m.duration=0,m.delay=0),m.allowFlatten=!l.type&&!l.ease,g&&!s&&e.get()!==void 0){const v=WZ(m.keyframes,l);if(v!==void 0){rr.update(()=>{m.onUpdate(v),m.onComplete()});return}}return l.isSync?new Kw(m):new NJ(m)};function tQ({protectedKeys:i,needsAnimating:e},t){const n=i.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function aF(i,e,{delay:t=0,transitionOverride:n,type:r}={}){let{transition:s=i.getDefaultTransition(),transitionEnd:a,...l}=e;n&&(s=n);const c=[],h=r&&i.animationState&&i.animationState.getState()[r];for(const m in l){const g=i.getValue(m,i.latestValues[m]??null),v=l[m];if(v===void 0||h&&tQ(h,m))continue;const _={delay:t,...Qw(s||{},m)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===S&&!_.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const A=sF(i);if(A){const C=window.MotionHandoffAnimation(A,m,rr);C!==null&&(_.startTime=C,M=!0)}}IC(i,m),g.start(hR(m,g,v,i.shouldReduceMotion&&L4.has(m)?{type:!1}:_,i,M));const b=g.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{rr.update(()=>{a&&fR(i,a)})}),c}function FC(i,e,t={}){const n=ky(i,e,t.type==="exit"?i.presenceContext?.custom:void 0);let{transition:r=i.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(r=t.transitionOverride);const s=n?()=>Promise.all(aF(i,n,t)):()=>Promise.resolve(),a=i.variantChildren&&i.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:g}=r;return nQ(i,e,h+c,m,g,t)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,h]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>h())}else return Promise.all([s(),a(t.delay)])}function nQ(i,e,t=0,n=0,r=1,s){const a=[],l=(i.variantChildren.size-1)*n,c=r===1?(h=0)=>h*n:(h=0)=>l-h*n;return Array.from(i.variantChildren).sort(iQ).forEach((h,m)=>{h.notify("AnimationStart",e),a.push(FC(h,e,{...s,delay:t+c(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(a)}function iQ(i,e){return i.sortNodePosition(e)}function oF(i,e,t={}){i.notify("AnimationStart",e);let n;if(Array.isArray(e)){const r=e.map(s=>FC(i,s,t));n=Promise.all(r)}else if(typeof e=="string")n=FC(i,e,t);else{const r=typeof e=="function"?ky(i,e,t.custom):e;n=Promise.all(aF(i,r,t))}return n.then(()=>{i.notify("AnimationComplete",e)})}function lF(i,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}const rQ=rR.length;function uF(i){if(!i)return;if(!i.isControllingVariants){const t=i.parent?uF(i.parent)||{}:{};return i.props.initial!==void 0&&(t.initial=i.props.initial),t}const e={};for(let t=0;t<rQ;t++){const n=rR[t],r=i.props[n];(Gy(r)||r===!1)&&(e[n]=r)}return e}const sQ=[...iR].reverse(),aQ=iR.length;function oQ(i){return e=>Promise.all(e.map(({animation:t,options:n})=>oF(i,t,n)))}function lQ(i){let e=oQ(i),t=QO(),n=!0;const r=c=>(h,m)=>{const g=ky(i,m,c==="exit"?i.presenceContext?.custom:void 0);if(g){const{transition:v,transitionEnd:_,...S}=g;h={...h,...S,..._}}return h};function s(c){e=c(i)}function a(c){const{props:h}=i,m=uF(i.parent)||{},g=[],v=new Set;let _={},S=1/0;for(let b=0;b<aQ;b++){const A=sQ[b],C=t[A],w=h[A]!==void 0?h[A]:m[A],B=Gy(w),L=A===c?C.isActive:null;L===!1&&(S=b);let N=w===m[A]&&w!==h[A]&&B;if(N&&n&&i.manuallyAnimateOnMount&&(N=!1),C.protectedKeys={..._},!C.isActive&&L===null||!w&&!C.prevProp||Hb(w)||typeof w=="boolean")continue;const I=uQ(C.prevProp,w);let P=I||A===c&&C.isActive&&!N&&B||b>S&&B,U=!1;const O=Array.isArray(w)?w:[w];let H=O.reduce(r(A),{});L===!1&&(H={});const{prevResolvedValues:V={}}=C,W={...V,...H},K=q=>{P=!0,v.has(q)&&(U=!0,v.delete(q)),C.needsAnimating[q]=!0;const $=i.getValue(q);$&&($.liveStyle=!1)};for(const q in W){const $=H[q],pe=V[q];if(_.hasOwnProperty(q))continue;let z=!1;PC($)&&PC(pe)?z=!lF($,pe):z=$!==pe,z?$!=null?K(q):v.add(q):$!==void 0&&v.has(q)?K(q):C.protectedKeys[q]=!0}C.prevProp=w,C.prevResolvedValues=H,C.isActive&&(_={..._,...H}),n&&i.blockInitialAnimation&&(P=!1),P&&(!(N&&I)||U)&&g.push(...O.map(q=>({animation:q,options:{type:A}})))}if(v.size){const b={};if(typeof h.initial!="boolean"){const A=ky(i,Array.isArray(h.initial)?h.initial[0]:h.initial);A&&A.transition&&(b.transition=A.transition)}v.forEach(A=>{const C=i.getBaseTarget(A),w=i.getValue(A);w&&(w.liveStyle=!0),b[A]=C??null}),g.push({animation:b})}let M=!!g.length;return n&&(h.initial===!1||h.initial===h.animate)&&!i.manuallyAnimateOnMount&&(M=!1),n=!1,M?e(g):Promise.resolve()}function l(c,h){if(t[c].isActive===h)return Promise.resolve();i.variantChildren?.forEach(g=>g.animationState?.setActive(c,h)),t[c].isActive=h;const m=a(c);for(const g in t)t[g].protectedKeys={};return m}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>t,reset:()=>{t=QO(),n=!0}}}function uQ(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!lF(e,i):!1}function bd(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function QO(){return{animate:bd(!0),whileInView:bd(),whileHover:bd(),whileTap:bd(),whileDrag:bd(),whileFocus:bd(),exit:bd()}}class ph{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cQ extends ph{constructor(e){super(e),e.animationState||(e.animationState=lQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let fQ=0;class hQ extends ph{constructor(){super(...arguments),this.id=fQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const dQ={animation:{Feature:cQ},exit:{Feature:hQ}};function Xy(i,e,t,n={passive:!0}){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t)}function d_(i){return{point:{x:i.pageX,y:i.pageY}}}const pQ=i=>e=>tR(e)&&i(e,d_(e));function py(i,e,t,n){return Xy(i,e,pQ(t),n)}function cF({top:i,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:i,max:n}}}function mQ({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function gQ(i,e){if(!e)return i;const t=e({x:i.left,y:i.top}),n=e({x:i.right,y:i.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}const fF=1e-4,vQ=1-fF,yQ=1+fF,hF=.01,_Q=0-hF,xQ=0+hF;function _a(i){return i.max-i.min}function SQ(i,e,t){return Math.abs(i-e)<=t}function $O(i,e,t,n=.5){i.origin=n,i.originPoint=ir(e.min,e.max,i.origin),i.scale=_a(t)/_a(e),i.translate=ir(t.min,t.max,i.origin)-i.originPoint,(i.scale>=vQ&&i.scale<=yQ||isNaN(i.scale))&&(i.scale=1),(i.translate>=_Q&&i.translate<=xQ||isNaN(i.translate))&&(i.translate=0)}function my(i,e,t,n){$O(i.x,e.x,t.x,n?n.originX:void 0),$O(i.y,e.y,t.y,n?n.originY:void 0)}function eU(i,e,t){i.min=t.min+e.min,i.max=i.min+_a(e)}function AQ(i,e,t){eU(i.x,e.x,t.x),eU(i.y,e.y,t.y)}function tU(i,e,t){i.min=e.min-t.min,i.max=i.min+_a(e)}function gy(i,e,t){tU(i.x,e.x,t.x),tU(i.y,e.y,t.y)}const nU=()=>({translate:0,scale:1,origin:0,originPoint:0}),rg=()=>({x:nU(),y:nU()}),iU=()=>({min:0,max:0}),xr=()=>({x:iU(),y:iU()});function ko(i){return[i("x"),i("y")]}function yT(i){return i===void 0||i===1}function zC({scale:i,scaleX:e,scaleY:t}){return!yT(i)||!yT(e)||!yT(t)}function Dd(i){return zC(i)||dF(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function dF(i){return rU(i.x)||rU(i.y)}function rU(i){return i&&i!=="0%"}function qA(i,e,t){const n=i-t,r=e*n;return t+r}function sU(i,e,t,n,r){return r!==void 0&&(i=qA(i,r,n)),qA(i,t,n)+e}function HC(i,e=0,t=1,n,r){i.min=sU(i.min,e,t,n,r),i.max=sU(i.max,e,t,n,r)}function pF(i,{x:e,y:t}){HC(i.x,e.translate,e.scale,e.originPoint),HC(i.y,t.translate,t.scale,t.originPoint)}const aU=.999999999999,oU=1.0000000000001;function bQ(i,e,t,n=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,a;for(let l=0;l<r;l++){s=t[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ag(i,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,pF(i,a)),n&&Dd(s.latestValues)&&ag(i,s.latestValues))}e.x<oU&&e.x>aU&&(e.x=1),e.y<oU&&e.y>aU&&(e.y=1)}function sg(i,e){i.min=i.min+e,i.max=i.max+e}function lU(i,e,t,n,r=.5){const s=ir(i.min,i.max,r);HC(i,e,t,s,n)}function ag(i,e){lU(i.x,e.x,e.scaleX,e.scale,e.originX),lU(i.y,e.y,e.scaleY,e.scale,e.originY)}function mF(i,e){return cF(gQ(i.getBoundingClientRect(),e))}function MQ(i,e,t){const n=mF(i,t),{scroll:r}=e;return r&&(sg(n.x,r.offset.x),sg(n.y,r.offset.y)),n}const gF=({current:i})=>i?i.ownerDocument.defaultView:null,uU=(i,e)=>Math.abs(i-e);function EQ(i,e){const t=uU(i.x,e.x),n=uU(i.y,e.y);return Math.sqrt(t**2+n**2)}class vF{constructor(e,t,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=xT(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=EQ(g.offset,{x:0,y:0})>=3;if(!v&&!_)return;const{point:S}=g,{timestamp:M}=ys;this.history.push({...S,timestamp:M});const{onStart:b,onMove:A}=this.handlers;v||(b&&b(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=_T(v,this.transformPagePoint),rr.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=xT(g.type==="pointercancel"?this.lastMoveEventInfo:_T(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(g,b),S&&S(g,b)},!tR(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const a=d_(e),l=_T(a,this.transformPagePoint),{point:c}=l,{timestamp:h}=ys;this.history=[{...c,timestamp:h}];const{onSessionStart:m}=t;m&&m(e,xT(l,this.history)),this.removeListeners=c_(py(this.contextWindow,"pointermove",this.handlePointerMove),py(this.contextWindow,"pointerup",this.handlePointerUp),py(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ah(this.updatePoint)}}function _T(i,e){return e?{point:e(i.point)}:i}function cU(i,e){return{x:i.x-e.x,y:i.y-e.y}}function xT({point:i},e){return{point:i,delta:cU(i,yF(e)),offset:cU(i,TQ(e)),velocity:CQ(e,.1)}}function TQ(i){return i[0]}function yF(i){return i[i.length-1]}function CQ(i,e){if(i.length<2)return{x:0,y:0};let t=i.length-1,n=null;const r=yF(i);for(;t>=0&&(n=i[t],!(r.timestamp-n.timestamp>Iu(e)));)t--;if(!n)return{x:0,y:0};const s=Fu(r.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(r.x-n.x)/s,y:(r.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function wQ(i,{min:e,max:t},n){return e!==void 0&&i<e?i=n?ir(e,i,n.min):Math.max(i,e):t!==void 0&&i>t&&(i=n?ir(t,i,n.max):Math.min(i,t)),i}function fU(i,e,t){return{min:e!==void 0?i.min+e:void 0,max:t!==void 0?i.max+t-(i.max-i.min):void 0}}function RQ(i,{top:e,left:t,bottom:n,right:r}){return{x:fU(i.x,t,r),y:fU(i.y,e,n)}}function hU(i,e){let t=e.min-i.min,n=e.max-i.max;return e.max-e.min<i.max-i.min&&([t,n]=[n,t]),{min:t,max:n}}function BQ(i,e){return{x:hU(i.x,e.x),y:hU(i.y,e.y)}}function DQ(i,e){let t=.5;const n=_a(i),r=_a(e);return r>n?t=Fy(e.min,e.max-n,i.min):n>r&&(t=Fy(i.min,i.max-r,e.min)),Lc(0,1,t)}function OQ(i,e){const t={};return e.min!==void 0&&(t.min=e.min-i.min),e.max!==void 0&&(t.max=e.max-i.min),t}const GC=.35;function UQ(i=GC){return i===!1?i=0:i===!0&&(i=GC),{x:dU(i,"left","right"),y:dU(i,"top","bottom")}}function dU(i,e,t){return{min:pU(i,e),max:pU(i,t)}}function pU(i,e){return typeof i=="number"?i:i[e]||0}const LQ=new WeakMap;class NQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const r=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(d_(m).point)},s=(m,g)=>{const{drag:v,dragPropagation:_,onDragStart:S}=this.getProps();if(v&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=JJ(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ko(b=>{let A=this.getAxisMotionValue(b).get()||0;if(zu.test(A)){const{projection:C}=this.visualElement;if(C&&C.layout){const w=C.layout.layoutBox[b];w&&(A=_a(w)*(parseFloat(A)/100))}}this.originPoint[b]=A}),S&&rr.postRender(()=>S(m,g)),IC(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},a=(m,g)=>{const{dragPropagation:v,dragDirectionLock:_,onDirectionLock:S,onDrag:M}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:b}=g;if(_&&this.currentDirection===null){this.currentDirection=PQ(b),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,b),this.updateAxis("y",g.point,b),this.visualElement.render(),M&&M(m,g)},l=(m,g)=>this.stop(m,g),c=()=>ko(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new vF(e,{onSessionStart:r,onStart:s,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:gF(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&rr.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!mS(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=wQ(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&ig(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=RQ(n.layoutBox,e):this.constraints=!1,this.elastic=UQ(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ko(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=OQ(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ig(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=MQ(n,r.root,this.visualElement.getTransformPagePoint());let a=BQ(r.layout.layoutBox,s);if(t){const l=t(mQ(a));this.hasMutatedConstraints=!!l,l&&(a=cF(l))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},h=ko(m=>{if(!mS(m,t,this.currentDirection))return;let g=c&&c[m]||{};a&&(g={min:0,max:0});const v=r?200:1e6,_=r?40:1e7,S={type:"inertia",velocity:n?e[m]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(h).then(l)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return IC(this.visualElement,e),n.start(hR(e,n,0,t,this.visualElement,!1))}stopAnimation(){ko(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ko(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ko(t=>{const{drag:n}=this.getProps();if(!mS(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:a,max:l}=r.layout.layoutBox[t];s.set(e[t]-ir(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!ig(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ko(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();r[a]=DQ({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ko(a=>{if(!mS(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:h}=this.constraints[a];l.set(ir(c,h,r[a]))})}addListeners(){if(!this.visualElement.current)return;LQ.set(this.visualElement,this);const e=this.visualElement.current,t=py(e,"pointerdown",c=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();ig(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),rr.read(n);const a=Xy(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(ko(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=c[m].translate,g.set(g.get()+c[m].translate))}),this.visualElement.render())});return()=>{a(),t(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:a=GC,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function mS(i,e,t){return(e===!0||e===i)&&(t===null||t===i)}function PQ(i,e=10){let t=null;return Math.abs(i.y)>e?t="y":Math.abs(i.x)>e&&(t="x"),t}class IQ extends ph{constructor(e){super(e),this.removeGroupControls=el,this.removeListeners=el,this.controls=new NQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||el}unmount(){this.removeGroupControls(),this.removeListeners()}}const mU=i=>(e,t)=>{i&&rr.postRender(()=>i(e,t))};class FQ extends ph{constructor(){super(...arguments),this.removePointerDownListener=el}onPointerDown(e){this.session=new vF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:mU(e),onStart:mU(t),onMove:n,onEnd:(s,a)=>{delete this.session,r&&rr.postRender(()=>r(s,a))}}}mount(){this.removePointerDownListener=py(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const LS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gU(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const Bv={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(gn.test(i))i=parseFloat(i);else return i;const t=gU(i,e.target.x),n=gU(i,e.target.y);return`${t}% ${n}%`}},zQ={correct:(i,{treeScale:e,projectionDelta:t})=>{const n=i,r=oh.parse(i);if(r.length>5)return n;const s=oh.createTransformer(i),a=typeof r[0]!="number"?1:0,l=t.x.scale*e.x,c=t.y.scale*e.y;r[0+a]/=l,r[1+a]/=c;const h=ir(l,c,.5);return typeof r[2+a]=="number"&&(r[2+a]/=h),typeof r[3+a]=="number"&&(r[3+a]/=h),s(r)}};class HQ extends Me.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;TZ(GQ),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),LS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,r||e.layoutDependency!==t||t===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||rr.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),eR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _F(i){const[e,t]=Y4(),n=Me.useContext(Dw);return We.jsx(HQ,{...i,layoutGroup:n,switchLayoutGroup:Me.useContext(J4),isPresent:e,safeToRemove:t})}const GQ={borderRadius:{...Bv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bv,borderTopRightRadius:Bv,borderBottomLeftRadius:Bv,borderBottomRightRadius:Bv,boxShadow:zQ};function VQ(i,e,t){const n=Xs(i)?i:zg(i);return n.start(hR("",n,e,t)),n.animation}const kQ=(i,e)=>i.depth-e.depth;class XQ{constructor(){this.children=[],this.isDirty=!1}add(e){Lw(this.children,e),this.isDirty=!0}remove(e){Nw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kQ),this.isDirty=!1,this.children.forEach(e)}}function YQ(i,e){const t=Fa.now(),n=({timestamp:r})=>{const s=r-t;s>=e&&(ah(n),i(s-e))};return rr.setup(n,!0),()=>ah(n)}const xF=["TopLeft","TopRight","BottomLeft","BottomRight"],jQ=xF.length,vU=i=>typeof i=="string"?parseFloat(i):i,yU=i=>typeof i=="number"||gn.test(i);function qQ(i,e,t,n,r,s){r?(i.opacity=ir(0,t.opacity??1,WQ(n)),i.opacityExit=ir(e.opacity??1,0,KQ(n))):s&&(i.opacity=ir(e.opacity??1,t.opacity??1,n));for(let a=0;a<jQ;a++){const l=`border${xF[a]}Radius`;let c=_U(e,l),h=_U(t,l);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||yU(c)===yU(h)?(i[l]=Math.max(ir(vU(c),vU(h),n),0),(zu.test(h)||zu.test(c))&&(i[l]+="%")):i[l]=h}(e.rotate||t.rotate)&&(i.rotate=ir(e.rotate||0,t.rotate||0,n))}function _U(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const WQ=SF(0,.5,f4),KQ=SF(.5,.95,el);function SF(i,e,t){return n=>n<i?0:n>e?1:t(Fy(i,e,n))}function xU(i,e){i.min=e.min,i.max=e.max}function Go(i,e){xU(i.x,e.x),xU(i.y,e.y)}function SU(i,e){i.translate=e.translate,i.scale=e.scale,i.originPoint=e.originPoint,i.origin=e.origin}function AU(i,e,t,n,r){return i-=e,i=qA(i,1/t,n),r!==void 0&&(i=qA(i,1/r,n)),i}function JQ(i,e=0,t=1,n=.5,r,s=i,a=i){if(zu.test(e)&&(e=parseFloat(e),e=ir(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=ir(s.min,s.max,n);i===s&&(l-=e),i.min=AU(i.min,e,t,l,r),i.max=AU(i.max,e,t,l,r)}function bU(i,e,[t,n,r],s,a){JQ(i,e[t],e[n],e[r],e.scale,s,a)}const ZQ=["x","scaleX","originX"],QQ=["y","scaleY","originY"];function MU(i,e,t,n){bU(i.x,e,ZQ,t?t.x:void 0,n?n.x:void 0),bU(i.y,e,QQ,t?t.y:void 0,n?n.y:void 0)}function EU(i){return i.translate===0&&i.scale===1}function AF(i){return EU(i.x)&&EU(i.y)}function TU(i,e){return i.min===e.min&&i.max===e.max}function $Q(i,e){return TU(i.x,e.x)&&TU(i.y,e.y)}function CU(i,e){return Math.round(i.min)===Math.round(e.min)&&Math.round(i.max)===Math.round(e.max)}function bF(i,e){return CU(i.x,e.x)&&CU(i.y,e.y)}function wU(i){return _a(i.x)/_a(i.y)}function RU(i,e){return i.translate===e.translate&&i.scale===e.scale&&i.originPoint===e.originPoint}class e${constructor(){this.members=[]}add(e){Lw(this.members,e),e.scheduleRender()}remove(e){if(Nw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let n;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function t$(i,e,t){let n="";const r=i.x.translate/e.x,s=i.y.translate/e.y,a=t?.z||0;if((r||s||a)&&(n=`translate3d(${r}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:v,skewX:_,skewY:S}=t;h&&(n=`perspective(${h}px) ${n}`),m&&(n+=`rotate(${m}deg) `),g&&(n+=`rotateX(${g}deg) `),v&&(n+=`rotateY(${v}deg) `),_&&(n+=`skewX(${_}deg) `),S&&(n+=`skewY(${S}deg) `)}const l=i.x.scale*e.x,c=i.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const ST=["","X","Y","Z"],n$={visibility:"hidden"},i$=1e3;let r$=0;function AT(i,e,t,n){const{latestValues:r}=e;r[i]&&(t[i]=r[i],e.setStaticValue(i,0),n&&(n[i]=0))}function MF(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:e}=i.options;if(!e)return;const t=sF(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=i.options;window.MotionCancelOptimisedAnimation(t,"transform",rr,!(r||s))}const{parent:n}=i;n&&!n.hasCheckedOptimisedAppear&&MF(n)}function EF({attachResizeListener:i,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(a={},l=e?.()){this.id=r$++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(o$),this.nodes.forEach(f$),this.nodes.forEach(h$),this.nodes.forEach(l$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new XQ)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Fw),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=X4(a)&&!nZ(a),this.instance=a;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),i){let m;const g=()=>this.root.updateBlockedByResize=!1;i(a,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=YQ(g,250),LS.hasAnimatedSinceResize&&(LS.hasAnimatedSinceResize=!1,this.nodes.forEach(OU))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||v$,{onLayoutAnimationStart:M,onLayoutAnimationComplete:b}=h.getProps(),A=!this.targetLayout||!bF(this.targetLayout,_),C=!g&&v;if(this.options.layoutRoot||this.resumeFrom||C||g&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...Qw(S,"layout"),onPlay:M,onComplete:b};(h.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(m,C)}else g||OU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ah(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(d$),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(BU);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(DU);return}this.isUpdating||this.nodes.forEach(DU),this.animationCommitId=this.animationId,this.isUpdating=!1,this.nodes.forEach(c$),this.nodes.forEach(s$),this.nodes.forEach(a$),this.clearAllSnapshots();const l=Fa.now();ys.delta=Lc(0,1e3/60,l-ys.timestamp),ys.timestamp=l,ys.isProcessing=!0,hT.update.process(ys),hT.preRender.process(ys),hT.render.process(ys),ys.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(u$),this.sharedNodes.forEach(p$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_a(this.snapshot.measuredBox.x)&&!_a(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!AF(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;a&&this.instance&&(l||Dd(this.latestValues)||m)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),y$(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return xr();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(_$))){const{scroll:h}=this.root;h&&(sg(l.x,h.offset.x),sg(l.y,h.offset.y))}return l}removeElementScroll(a){const l=xr();if(Go(l,a),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:m,options:g}=h;h!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Go(l,a),sg(l.x,m.offset.x),sg(l.y,m.offset.y))}return l}applyTransform(a,l=!1){const c=xr();Go(c,a);for(let h=0;h<this.path.length;h++){const m=this.path[h];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ag(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Dd(m.latestValues)&&ag(c,m.latestValues)}return Dd(this.latestValues)&&ag(c,this.latestValues),c}removeTransform(a){const l=xr();Go(l,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!Dd(h.latestValues))continue;zC(h.latestValues)&&h.updateSnapshot();const m=xr(),g=h.measurePageBox();Go(m,g),MU(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Dd(this.latestValues)&&MU(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ys.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=ys.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xr(),this.relativeTargetOrigin=xr(),gy(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Go(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xr(),this.targetWithTransforms=xr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Go(this.target,this.layout.layoutBox),pF(this.target,this.targetDelta)):Go(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xr(),this.relativeTargetOrigin=xr(),gy(this.relativeTargetOrigin,this.target,v.target),Go(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||zC(this.parent.latestValues)||dF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ys.timestamp&&(c=!1),c)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Go(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;bQ(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=xr());const{target:_}=a;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(SU(this.prevProjectionDelta.x,this.projectionDelta.x),SU(this.prevProjectionDelta.y,this.projectionDelta.y)),my(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!RU(this.projectionDelta.x,this.prevProjectionDelta.x)||!RU(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rg(),this.projectionDelta=rg(),this.projectionDeltaWithTransform=rg()}setAnimationOrigin(a,l=!1){const c=this.snapshot,h=c?c.latestValues:{},m={...this.latestValues},g=rg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=xr(),_=c?c.source:void 0,S=this.layout?this.layout.source:void 0,M=_!==S,b=this.getStack(),A=!b||b.members.length<=1,C=!!(M&&!A&&this.options.crossfade===!0&&!this.path.some(g$));this.animationProgress=0;let w;this.mixTargetDelta=B=>{const L=B/1e3;UU(g.x,a.x,L),UU(g.y,a.y,L),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gy(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m$(this.relativeTarget,this.relativeTargetOrigin,v,L),w&&$Q(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=xr()),Go(w,this.relativeTarget)),M&&(this.animationValues=m,qQ(m,h,this.latestValues,L,C,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ah(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rr.update(()=>{LS.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zg(0)),this.currentAnimation=VQ(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(i$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:h,latestValues:m}=a;if(!(!l||!c||!h)){if(this!==a&&this.layout&&h&&TF(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||xr();const g=_a(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+g;const v=_a(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+v}Go(l,c),ag(l,m),my(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new e$),this.sharedNodes.get(a).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const h={};c.z&&AT("z",a,h,this.animationValues);for(let m=0;m<ST.length;m++)AT(`rotate${ST[m]}`,a,h,this.animationValues),AT(`skew${ST[m]}`,a,h,this.animationValues);a.render();for(const m in h)a.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return n$;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=US(a?.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=US(a?.pointerEvents)||""),this.hasProjected&&!Dd(this.latestValues)&&(_.transform=c?c({},""):"none",this.hasProjected=!1),_}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=t$(this.projectionDeltaWithTransform,this.treeScale,m),c&&(l.transform=c(m,l.transform));const{x:g,y:v}=this.projectionDelta;l.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in Vy){if(m[_]===void 0)continue;const{correct:S,applyTo:M,isCSSVariable:b}=Vy[_],A=l.transform==="none"?m[_]:S(m[_],h);if(M){const C=M.length;for(let w=0;w<C;w++)l[M[w]]=A}else b?this.options.visualElement.renderState.vars[_]=A:l[_]=A}return this.options.layoutId&&(l.pointerEvents=h===this?US(a?.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(BU),this.root.sharedNodes.clear()}}}function s$(i){i.updateLayout()}function a$(i){const e=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&e&&i.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=i.layout,{animationType:r}=i.options,s=e.source!==i.layout.source;r==="size"?ko(m=>{const g=s?e.measuredBox[m]:e.layoutBox[m],v=_a(g);g.min=t[m].min,g.max=g.min+v}):TF(r,e.layoutBox,t)&&ko(m=>{const g=s?e.measuredBox[m]:e.layoutBox[m],v=_a(t[m]);g.max=g.min+v,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[m].max=i.relativeTarget[m].min+v)});const a=rg();my(a,t,e.layoutBox);const l=rg();s?my(l,i.applyTransform(n,!0),e.measuredBox):my(l,t,e.layoutBox);const c=!AF(a);let h=!1;if(!i.resumeFrom){const m=i.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:v}=m;if(g&&v){const _=xr();gy(_,e.layoutBox,g.layoutBox);const S=xr();gy(S,t,v.layoutBox),bF(_,S)||(h=!0),m.options.layoutRoot&&(i.relativeTarget=S,i.relativeTargetOrigin=_,i.relativeParent=m)}}}i.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(i.isLead()){const{onExitComplete:t}=i.options;t&&t()}i.options.transition=void 0}function o$(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function l$(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function u$(i){i.clearSnapshot()}function BU(i){i.clearMeasurements()}function DU(i){i.isLayoutDirty=!1}function c$(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function OU(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function f$(i){i.resolveTargetDelta()}function h$(i){i.calcProjection()}function d$(i){i.resetSkewAndRotation()}function p$(i){i.removeLeadSnapshot()}function UU(i,e,t){i.translate=ir(e.translate,0,t),i.scale=ir(e.scale,1,t),i.origin=e.origin,i.originPoint=e.originPoint}function LU(i,e,t,n){i.min=ir(e.min,t.min,n),i.max=ir(e.max,t.max,n)}function m$(i,e,t,n){LU(i.x,e.x,t.x,n),LU(i.y,e.y,t.y,n)}function g$(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const v$={duration:.45,ease:[.4,0,.1,1]},NU=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),PU=NU("applewebkit/")&&!NU("chrome/")?Math.round:el;function IU(i){i.min=PU(i.min),i.max=PU(i.max)}function y$(i){IU(i.x),IU(i.y)}function TF(i,e,t){return i==="position"||i==="preserve-aspect"&&!SQ(wU(e),wU(t),.2)}function _$(i){return i!==i.root&&i.scroll?.wasRoot}const x$=EF({attachResizeListener:(i,e)=>Xy(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bT={current:void 0},CF=EF({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!bT.current){const i=new x$({});i.mount(window),i.setOptions({layoutScroll:!0}),bT.current=i}return bT.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),S$={pan:{Feature:FQ},drag:{Feature:IQ,ProjectionNode:CF,MeasureLayout:_F}};function FU(i,e,t){const{props:n}=i;i.animationState&&n.whileHover&&i.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,s=n[r];s&&rr.postRender(()=>s(e,d_(e)))}class A$ extends ph{mount(){const{current:e}=this.node;e&&(this.unmount=ZJ(e,(t,n)=>(FU(this.node,n,"Start"),r=>FU(this.node,r,"End"))))}unmount(){}}class b$ extends ph{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=c_(Xy(this.node.current,"focus",()=>this.onFocus()),Xy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zU(i,e,t){const{props:n}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&n.whileTap&&i.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),s=n[r];s&&rr.postRender(()=>s(e,d_(e)))}class M$ extends ph{mount(){const{current:e}=this.node;e&&(this.unmount=tZ(e,(t,n)=>(zU(this.node,n,"Start"),(r,{success:s})=>zU(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const VC=new WeakMap,MT=new WeakMap,E$=i=>{const e=VC.get(i.target);e&&e(i)},T$=i=>{i.forEach(E$)};function C$({root:i,...e}){const t=i||document;MT.has(t)||MT.set(t,{});const n=MT.get(t),r=JSON.stringify(e);return n[r]||(n[r]=new IntersectionObserver(T$,{root:i,...e})),n[r]}function w$(i,e,t){const n=C$(e);return VC.set(i,t),n.observe(i),()=>{VC.delete(i),n.unobserve(i)}}const R$={some:0,all:1};class B$ extends ph{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:R$[r]},l=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=h?m:g;v&&v(c)};return w$(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(D$(e,t))&&this.startObserver()}unmount(){}}function D$({viewport:i={}},{viewport:e={}}={}){return t=>i[t]!==e[t]}const O$={inView:{Feature:B$},tap:{Feature:M$},focus:{Feature:b$},hover:{Feature:A$}},U$={layout:{ProjectionNode:CF,MeasureLayout:_F}},kC={current:null},wF={current:!1};function L$(){if(wF.current=!0,!!Ow)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>kC.current=i.matches;i.addListener(e),e()}else kC.current=!1}const N$=new WeakMap;function P$(i,e,t){for(const n in e){const r=e[n],s=t[n];if(Xs(r))i.addValue(n,r);else if(Xs(s))i.addValue(n,zg(r,{owner:i}));else if(s!==r)if(i.hasValue(n)){const a=i.getValue(n);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=i.getStaticValue(n);i.addValue(n,zg(a!==void 0?a:r,{owner:i}))}}for(const n in t)e[n]===void 0&&i.removeValue(n);return e}const HU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class I${scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Fa.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,rr.render(this.render,!1,!0))};const{latestValues:c,renderState:h}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Gb(t),this.isVariantNode=W4(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in g){const _=g[v];c[v]!==void 0&&Xs(_)&&_.set(c[v],!1)}}mount(e){this.current=e,N$.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),wF.current||L$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kC.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ah(this.notifyUpdate),ah(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Wg.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&rr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Hg){const t=Hg[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<HU.length;n++){const r=HU[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,a=e[s];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=P$(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=zg(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(t4(n)||i4(n))?n=parseFloat(n):!rZ(n)&&oh.test(t)&&(n=F4(e,t)),this.setBaseTarget(e,Xs(n)?n.get():n)),Xs(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const s=uR(this.props,t,this.presenceContext?.custom);s&&(n=s[e])}if(t&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Xs(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Fw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class RF extends I${constructor(){super(...arguments),this.KeyframeResolver=qJ}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function BF(i,{style:e,vars:t},n,r){Object.assign(i.style,e,r&&r.getProjectionStyles(n));for(const s in t)i.style.setProperty(s,t[s])}function F$(i){return window.getComputedStyle(i)}class z$ extends RF{constructor(){super(...arguments),this.type="html",this.renderInstance=BF}readValueFromInstance(e,t){if(Wg.has(t))return this.projection?.isProjecting?BC(t):hJ(e,t);{const n=F$(e),r=(Gw(t)?n.getPropertyValue(t):n[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return mF(e,t)}build(e,t,n){aR(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return cR(e,t,n)}}const DF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function H$(i,e,t,n){BF(i,e,void 0,n);for(const r in e.attrs)i.setAttribute(DF.has(r)?r:sR(r),e.attrs[r])}class G$ extends RF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Wg.has(t)){const n=I4(t);return n&&n.default||0}return t=DF.has(t)?t:sR(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return rF(e,t,n)}build(e,t,n){eF(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){H$(e,t,n,r)}mount(e){this.isSVGTag=nF(e.tagName),super.mount(e)}}const V$=(i,e)=>lR(i)?new G$(e):new z$(e,{allowProjection:i!==Me.Fragment}),k$=kZ({...dQ,...O$,...S$,...U$},V$),wu=pZ(k$);function X$(i){i.values.forEach(e=>e.stop())}function XC(i,e){[...e].reverse().forEach(n=>{const r=i.getVariant(n);r&&fR(i,r),i.variantChildren&&i.variantChildren.forEach(s=>{XC(s,e)})})}function Y$(i,e){if(Array.isArray(e))return XC(i,e);if(typeof e=="string")return XC(i,[e]);fR(i,e)}function j$(){const i=new Set,e={subscribe(t){return i.add(t),()=>void i.delete(t)},start(t,n){const r=[];return i.forEach(s=>{r.push(oF(s,t,{transitionOverride:n}))}),Promise.all(r)},set(t){return i.forEach(n=>{Y$(n,t)})},stop(){i.forEach(t=>{X$(t)})},mount(){return()=>{e.stop()}}};return e}function q$(){const i=Ib(j$);return Uw(i.mount,[]),i}const W$=q$,K$={some:0,all:1};function J$(i,e,{root:t,margin:n,amount:r="some"}={}){const s=z4(i),a=new WeakMap,l=h=>{h.forEach(m=>{const g=a.get(m.target);if(m.isIntersecting!==!!g)if(m.isIntersecting){const v=e(m.target,m);typeof v=="function"?a.set(m.target,v):c.unobserve(m.target)}else typeof g=="function"&&(g(m),a.delete(m.target))})},c=new IntersectionObserver(l,{root:t,rootMargin:n,threshold:typeof r=="number"?r:K$[r]});return s.forEach(h=>c.observe(h)),()=>c.disconnect()}function GU(i,{root:e,margin:t,amount:n,once:r=!1,initial:s=!1}={}){const[a,l]=Me.useState(s);return Me.useEffect(()=>{if(!i.current||r&&a)return;const c=()=>(l(!0),r?void 0:()=>l(!1)),h={root:e&&e.current||void 0,margin:t,amount:n};return J$(i.current,c,h)},[e,i,t,r,n]),a}Aw.registerPlugin(Pn);function Z$(){const i=Me.useRef(null),e=GU(i,{once:!1,amount:.05}),t=uK(),n=Me.useRef(null),[r,s]=Me.useState(0),[a]=Me.useState(window.innerWidth),l=W$(),c=Me.useRef(null),h=GU(c,{once:!1,amount:.1}),m=[oK,aK,sK,iK,rK,tK,nK,Iz,lK],g=["#61DAFB","#339933","#4DB33D","#ffffffff","#F7DF1E","#DD0031","#0db7ed","#007396","#6DB33F"],v={hidden:{opacity:0,x:90},visible:_=>({opacity:1,x:0,transition:{duration:1,delay:_*.3}})};return Me.useEffect(()=>{n.current&&s(n.current.scrollWidth)},[a]),Me.useEffect(()=>{if(!r)return;const _=t<1e3?80:0;let S=r-a-_;const M=n.current?.lastElementChild;if(!(S<=0))return t<1e3&&M&&(S=M.offsetLeft+M.offsetWidth-a),Aw.to(n.current,{x:-S,ease:"none",scrollTrigger:{trigger:t<1e3?"#title-sectionCards":".container-stack",start:t<1e3?"top top":"top bottom",endTrigger:"#title-contactForm",end:t<1e3?`+=${S+100}`:"top 1%",scrub:!0,markers:!1}}),console.log("valor do width",t),Pn.create({trigger:".panels",start:"top 1%",end:t<1e3?`+=${S+100}`:"bottom 5%",pin:".horizontal-section",scrub:!0,markers:!1}),()=>{Pn.killAll()}},[r,a]),Me.useEffect(()=>{h?l.start("visible"):l.start("hidden")},[h,l]),We.jsxs(wu.div,{className:"wrapper",ref:i,children:[We.jsxs("div",{id:"description-me",children:[We.jsx(yg.Element,{name:"summary",children:We.jsx(wu.p,{initial:{opacity:0,y:90},animate:e?{opacity:1,y:0}:{},transition:{duration:.7},id:"aboutMe",children:"Sobre mim"})}),We.jsx(wu.p,{id:"summaryMe",initial:{opacity:0,y:90},animate:e?{opacity:1,y:0}:{},transition:{duration:1,delay:.1},children:"Desenvolvedor focado em aplicações web modernas, com experiência prática na stack MERN, Java (Spring Boot) e Angular. Atuo na construção de APIs, integração entre microsserviços e conteinerização de aplicações com Docker. Também desenvolvi interfaces interativas com React Three Fiber, sempre priorizando usabilidade, performance e organização do código."}),We.jsxs("div",{className:"container-stack",children:[We.jsx(wu.p,{initial:{opacity:0,y:90},animate:e?{opacity:1,y:0}:{},transition:{duration:1,delay:.5},children:"Stack de Desenvolvimento"}),We.jsx("div",{className:"container-iconsStack",ref:c,children:m.map((_,S)=>We.jsx(wu.div,{custom:S,variants:v,initial:"hidden",animate:h?l:!1,children:We.jsx(_,{style:{color:g[S],width:"40px",height:"40px"}})},S))})]})]}),We.jsx(wu.p,{initial:{opacity:0,y:90},animate:e?{opacity:1,y:0}:{},transition:{duration:1},id:"title-sectionCards",children:"Projetos em Destaque"}),We.jsx("section",{className:"horizontal-section",children:We.jsxs("div",{className:"panels",ref:n,children:[We.jsxs(wu.div,{initial:{opacity:0,x:90},animate:e?{opacity:1,x:0}:{},transition:{duration:.5},className:"panel",children:[We.jsx("p",{children:"Portal de Vagas simplificado"}),We.jsx("img",{src:"/printsProject/PageHome.png",alt:"project-portal-job"}),We.jsx("p",{children:"Plataforma de vagas com login via Google, onde usuários criam, editam e se candidatam a oportunidades. Interface simples e funcional com foco em empregabilidade."}),We.jsx("a",{href:"https://github.com/404GabrielDev/Job-Portal",target:"_blank",rel:"noopener noreferrer",children:We.jsxs("button",{id:"btnRepository",children:["Repositório ",We.jsx(gS,{size:30,color:"#fff"})]})})]}),We.jsxs(wu.div,{initial:{opacity:0,x:90},animate:e?{opacity:1,x:0}:{},transition:{duration:1,delay:1.1},className:"panel",children:[We.jsx("p",{children:"Showroom"}),We.jsx("img",{src:"/printsProject/homePage.png",alt:"project-showroom"}),We.jsx("p",{children:"Página interativa em 3D com modelos de carros rotacionáveis. Desenvolvida com React Three Fiber, focada em visual moderno e leveza."}),We.jsx("a",{href:"https://github.com/404GabrielDev/car-3d-showroom",target:"_blank",rel:"noopener noreferrer",children:We.jsxs("button",{id:"btnRepository",children:["Repositório ",We.jsx(gS,{size:30,color:"#fff"})]})})]}),We.jsxs(wu.div,{className:"panel",initial:{opacity:0,x:90},animate:e?{opacity:1,x:0}:{},transition:{duration:1,delay:1.2},children:[We.jsx("p",{children:"Marketplace"}),We.jsx("img",{src:"/printsProject/Screenshot1.png",alt:"project-marketplace"}),We.jsx("p",{children:"Sistema simplificado para compra e venda de carros com propostas privadas, autenticação via JWT, controle de acesso e implantação com Docker para ambiente consistente e fácil setup."}),We.jsx("a",{href:"https://github.com/404GabrielDev/Projeto-Marketplace-de-Carros",target:"_blank",rel:"noopener noreferrer",children:We.jsxs("button",{id:"btnRepository",children:["Repositório ",We.jsx(gS,{size:30,color:"#fff"})]})})]})]})})]})}var Q$="1.3.4";function OF(i,e,t){return Math.max(i,Math.min(e,t))}function $$(i,e,t){return(1-t)*i+t*e}function eee(i,e,t,n){return $$(i,e,1-Math.exp(-t*n))}function tee(i,e){return(i%e+e)%e}var nee=class{isRunning=!1;value=0;from=0;to=0;currentTime=0;lerp;duration;easing;onUpdate;advance(i){if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=i;const t=OF(0,this.currentTime/this.duration,1);e=t>=1;const n=e?1:this.easing(t);this.value=this.from+(this.to-this.from)*n}else this.lerp?(this.value=eee(this.value,this.to,this.lerp*60,i),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),this.onUpdate?.(this.value,e)}stop(){this.isRunning=!1}fromTo(i,e,{lerp:t,duration:n,easing:r,onStart:s,onUpdate:a}){this.from=this.value=i,this.to=e,this.lerp=t,this.duration=n,this.easing=r,this.currentTime=0,this.isRunning=!0,s?.(),this.onUpdate=a}};function iee(i,e){let t;return function(...n){let r=this;clearTimeout(t),t=setTimeout(()=>{t=void 0,i.apply(r,n)},e)}}var ree=class{constructor(i,e,{autoResize:t=!0,debounce:n=250}={}){this.wrapper=i,this.content=e,t&&(this.debouncedResize=iee(this.resize,n),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}width=0;height=0;scrollHeight=0;scrollWidth=0;debouncedResize;wrapperResizeObserver;contentResizeObserver;destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},UF=class{events={};emit(i,...e){let t=this.events[i]||[];for(let n=0,r=t.length;n<r;n++)t[n]?.(...e)}on(i,e){return this.events[i]?.push(e)||(this.events[i]=[e]),()=>{this.events[i]=this.events[i]?.filter(t=>e!==t)}}off(i,e){this.events[i]=this.events[i]?.filter(t=>e!==t)}destroy(){this.events={}}},VU=100/6,Ff={passive:!1},see=class{constructor(i,e={wheelMultiplier:1,touchMultiplier:1}){this.element=i,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,Ff),this.element.addEventListener("touchstart",this.onTouchStart,Ff),this.element.addEventListener("touchmove",this.onTouchMove,Ff),this.element.addEventListener("touchend",this.onTouchEnd,Ff)}touchStart={x:0,y:0};lastDelta={x:0,y:0};window={width:0,height:0};emitter=new UF;on(i,e){return this.emitter.on(i,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,Ff),this.element.removeEventListener("touchstart",this.onTouchStart,Ff),this.element.removeEventListener("touchmove",this.onTouchMove,Ff),this.element.removeEventListener("touchend",this.onTouchEnd,Ff)}onTouchStart=i=>{const{clientX:e,clientY:t}=i.targetTouches?i.targetTouches[0]:i;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:i})};onTouchMove=i=>{const{clientX:e,clientY:t}=i.targetTouches?i.targetTouches[0]:i,n=-(e-this.touchStart.x)*this.options.touchMultiplier,r=-(t-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:n,y:r},this.emitter.emit("scroll",{deltaX:n,deltaY:r,event:i})};onTouchEnd=i=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:i})};onWheel=i=>{let{deltaX:e,deltaY:t,deltaMode:n}=i;const r=n===1?VU:n===2?this.window.width:1,s=n===1?VU:n===2?this.window.height:1;e*=r,t*=s,e*=this.options.wheelMultiplier,t*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:t,event:i})};onWindowResize=()=>{this.window={width:window.innerWidth,height:window.innerHeight}}},kU=i=>Math.min(1,1.001-Math.pow(2,-10*i)),aee=class{_isScrolling=!1;_isStopped=!1;_isLocked=!1;_preventNextNativeScrollEvent=!1;_resetVelocityTimeout=null;__rafID=null;isTouching;time=0;userData={};lastVelocity=0;velocity=0;direction=0;options;targetScroll;animatedScroll;animate=new nee;emitter=new UF;dimensions;virtualScroll;constructor({wrapper:i=window,content:e=document.documentElement,eventsTarget:t=i,smoothWheel:n=!0,syncTouch:r=!1,syncTouchLerp:s=.075,touchInertiaMultiplier:a=35,duration:l,easing:c,lerp:h=.1,infinite:m=!1,orientation:g="vertical",gestureOrientation:v="vertical",touchMultiplier:_=1,wheelMultiplier:S=1,autoResize:M=!0,prevent:b,virtualScroll:A,overscroll:C=!0,autoRaf:w=!1,anchors:B=!1,autoToggle:L=!1,allowNestedScroll:N=!1,__experimental__naiveDimensions:I=!1}={}){window.lenisVersion=Q$,(!i||i===document.documentElement)&&(i=window),typeof l=="number"&&typeof c!="function"?c=kU:typeof c=="function"&&typeof l!="number"&&(l=1),this.options={wrapper:i,content:e,eventsTarget:t,smoothWheel:n,syncTouch:r,syncTouchLerp:s,touchInertiaMultiplier:a,duration:l,easing:c,lerp:h,infinite:m,gestureOrientation:v,orientation:g,touchMultiplier:_,wheelMultiplier:S,autoResize:M,prevent:b,virtualScroll:A,overscroll:C,autoRaf:w,anchors:B,autoToggle:L,allowNestedScroll:N,__experimental__naiveDimensions:I},this.dimensions=new ree(i,e,{autoResize:M}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new see(t,{touchMultiplier:_,wheelMultiplier:S}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0}),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(i,e){return this.emitter.on(i,e)}off(i,e){return this.emitter.off(i,e)}onScrollEnd=i=>{i instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&i.stopPropagation()};dispatchScrollendEvent=()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))};onTransitionEnd=i=>{if(i.propertyName.includes("overflow")){const e=this.isHorizontal?"overflow-x":"overflow-y",t=getComputedStyle(this.rootElement)[e];["hidden","clip"].includes(t)?this.stop():this.start()}};setScroll(i){this.isHorizontal?this.options.wrapper.scrollTo({left:i,behavior:"instant"}):this.options.wrapper.scrollTo({top:i,behavior:"instant"})}onClick=i=>{const t=i.composedPath().find(n=>n instanceof HTMLAnchorElement&&(n.getAttribute("href")?.startsWith("#")||n.getAttribute("href")?.startsWith("/#")||n.getAttribute("href")?.startsWith("./#")));if(t){const n=t.getAttribute("href");if(n){const r=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0;let s=`#${n.split("#")[1]}`;["#","/#","./#","#top","/#top","./#top"].includes(n)&&(s=0),this.scrollTo(s,r)}}};onPointerDown=i=>{i.button===1&&this.reset()};onVirtualScroll=i=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(i)===!1)return;const{deltaX:e,deltaY:t,event:n}=i;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:t,event:n}),n.ctrlKey||n.lenisStopPropagation)return;const r=n.type.includes("touch"),s=n.type.includes("wheel");this.isTouching=n.type==="touchstart"||n.type==="touchmove";const a=e===0&&t===0;if(this.options.syncTouch&&r&&n.type==="touchstart"&&a&&!this.isStopped&&!this.isLocked){this.reset();return}const c=this.options.gestureOrientation==="vertical"&&t===0||this.options.gestureOrientation==="horizontal"&&e===0;if(a||c)return;let h=n.composedPath();h=h.slice(0,h.indexOf(this.rootElement));const m=this.options.prevent;if(h.find(b=>b instanceof HTMLElement&&(typeof m=="function"&&m?.(b)||b.hasAttribute?.("data-lenis-prevent")||r&&b.hasAttribute?.("data-lenis-prevent-touch")||s&&b.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(b,{deltaX:e,deltaY:t}))))return;if(this.isStopped||this.isLocked){n.preventDefault();return}if(!(this.options.syncTouch&&r||this.options.smoothWheel&&s)){this.isScrolling="native",this.animate.stop(),n.lenisStopPropagation=!0;return}let v=t;this.options.gestureOrientation==="both"?v=Math.abs(t)>Math.abs(e)?t:e:this.options.gestureOrientation==="horizontal"&&(v=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&t>0||this.animatedScroll===this.limit&&t<0))&&(n.lenisStopPropagation=!0),n.preventDefault();const _=r&&this.options.syncTouch,M=r&&n.type==="touchend"&&Math.abs(v)>5;M&&(v=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+v,{programmatic:!1,..._?{lerp:M?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})};resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}onNativeScroll=()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const i=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-i,this.direction=Math.sign(this.animatedScroll-i),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}};reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}raf=i=>{const e=i-(this.time||i);this.time=i,this.animate.advance(e*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))};scrollTo(i,{offset:e=0,immediate:t=!1,lock:n=!1,duration:r=this.options.duration,easing:s=this.options.easing,lerp:a=this.options.lerp,onStart:l,onComplete:c,force:h=!1,programmatic:m=!0,userData:g}={}){if(!((this.isStopped||this.isLocked)&&!h)){if(typeof i=="string"&&["top","left","start"].includes(i))i=0;else if(typeof i=="string"&&["bottom","right","end"].includes(i))i=this.limit;else{let v;if(typeof i=="string"?v=document.querySelector(i):i instanceof HTMLElement&&i?.nodeType&&(v=i),v){if(this.options.wrapper!==window){const S=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?S.left:S.top}const _=v.getBoundingClientRect();i=(this.isHorizontal?_.left:_.top)+this.animatedScroll}}if(typeof i=="number"){if(i+=e,i=Math.round(i),this.options.infinite){if(m){this.targetScroll=this.animatedScroll=this.scroll;const v=i-this.animatedScroll;v>this.limit/2?i=i-this.limit:v<-this.limit/2&&(i=i+this.limit)}}else i=OF(0,i,this.limit);if(i===this.targetScroll){l?.(this),c?.(this);return}if(this.userData=g??{},t){this.animatedScroll=this.targetScroll=i,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),c?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}m||(this.targetScroll=i),typeof r=="number"&&typeof s!="function"?s=kU:typeof s=="function"&&typeof r!="number"&&(r=1),this.animate.fromTo(this.animatedScroll,i,{duration:r,easing:s,lerp:a,onStart:()=>{n&&(this.isLocked=!0),this.isScrolling="smooth",l?.(this)},onUpdate:(v,_)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=v-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=v,this.setScroll(this.scroll),m&&(this.targetScroll=v),_||this.emit(),_&&(this.reset(),this.emit(),c?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(i,{deltaX:e,deltaY:t}){const n=Date.now(),r=i._lenis??={};let s,a,l,c,h,m,g,v;const _=this.options.gestureOrientation;if(n-(r.time??0)>2e3){r.time=Date.now();const L=window.getComputedStyle(i);r.computedStyle=L;const N=L.overflowX,I=L.overflowY;if(s=["auto","overlay","scroll"].includes(N),a=["auto","overlay","scroll"].includes(I),r.hasOverflowX=s,r.hasOverflowY=a,!s&&!a||_==="vertical"&&!a||_==="horizontal"&&!s)return!1;h=i.scrollWidth,m=i.scrollHeight,g=i.clientWidth,v=i.clientHeight,l=h>g,c=m>v,r.isScrollableX=l,r.isScrollableY=c,r.scrollWidth=h,r.scrollHeight=m,r.clientWidth=g,r.clientHeight=v}else l=r.isScrollableX,c=r.isScrollableY,s=r.hasOverflowX,a=r.hasOverflowY,h=r.scrollWidth,m=r.scrollHeight,g=r.clientWidth,v=r.clientHeight;if(!s&&!a||!l&&!c||_==="vertical"&&(!a||!c)||_==="horizontal"&&(!s||!l))return!1;let S;if(_==="horizontal")S="x";else if(_==="vertical")S="y";else{const L=e!==0,N=t!==0;L&&s&&l&&(S="x"),N&&a&&c&&(S="y")}if(!S)return!1;let M,b,A,C,w;if(S==="x")M=i.scrollLeft,b=h-g,A=e,C=s,w=l;else if(S==="y")M=i.scrollTop,b=m-v,A=t,C=a,w=c;else return!1;return(A>0?M<b:M>0)&&C&&w}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const i=this.options.wrapper;return this.isHorizontal?i.scrollX??i.scrollLeft:i.scrollY??i.scrollTop}get scroll(){return this.options.infinite?tee(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(i){this._isScrolling!==i&&(this._isScrolling=i,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(i){this._isStopped!==i&&(this._isStopped=i,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(i){this._isLocked!==i&&(this._isLocked=i,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let i="lenis";return this.options.autoToggle&&(i+=" lenis-autoToggle"),this.isStopped&&(i+=" lenis-stopped"),this.isLocked&&(i+=" lenis-locked"),this.isScrolling&&(i+=" lenis-scrolling"),this.isScrolling==="smooth"&&(i+=" lenis-smooth"),i}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};const Yy={_origin:"https://api.emailjs.com"},oee=(i,e="https://api.emailjs.com")=>{Yy._userID=i,Yy._origin=e},LF=(i,e,t)=>{if(!i)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class XU{constructor(e){this.status=e.status,this.text=e.responseText}}const NF=(i,e,t={})=>new Promise((n,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:a})=>{const l=new XU(a);l.status===200||l.text==="OK"?n(l):r(l)}),s.addEventListener("error",({target:a})=>{r(new XU(a))}),s.open("POST",Yy._origin+i,!0),Object.keys(t).forEach(a=>{s.setRequestHeader(a,t[a])}),s.send(e)}),lee=(i,e,t,n)=>{const r=n||Yy._userID;return LF(r,i,e),NF("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:r,service_id:i,template_id:e,template_params:t}),{"Content-type":"application/json"})},uee=i=>{let e;if(typeof i=="string"?e=document.querySelector(i):e=i,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},cee=(i,e,t,n)=>{const r=n||Yy._userID,s=uee(t);LF(r,i,e);const a=new FormData(s);return a.append("lib_version","3.2.0"),a.append("service_id",i),a.append("template_id",e),a.append("user_id",r),NF("/api/v1.0/email/send-form",a)},fee={init:oee,send:lee,sendForm:cee};function hee(){const i=Me.useRef(null),e=t=>{if(t.preventDefault(),!i.current)return;const n=i.current;console.log("Valor do form",i),fee.sendForm("service_zst5r1l","template_esp1st9",i.current,"zsUO0yDf20g0Bq55C").then(()=>{alert("Mensagem enviada com sucesso!"),n.reset()},r=>{alert("Erro ao enviar. Tente novamente"),console.error(r)})};return We.jsx(yg.Element,{name:"formularioContact",children:We.jsxs("form",{ref:i,onSubmit:e,children:[We.jsx("p",{"data-aos":"fade-up",id:"title-contactForm",children:"Pronto para construir soluções juntos."}),We.jsx("input",{"data-aos":"fade-up",type:"text",name:"name",placeholder:"Seu nome",required:!0}),We.jsx("input",{"data-aos":"fade-up",type:"email",name:"email",placeholder:"Seu e-mail",required:!0}),We.jsx("textarea",{"data-aos":"fade-up",name:"message",placeholder:"Compartilhe sua ideia ou solicitação",required:!0}),We.jsx("button",{"data-aos":"fade-up",id:"btn-submitEmail",type:"submit",children:"Enviar"})]})})}var NS={exports:{}},dee=NS.exports,YU;function pee(){return YU||(YU=1,function(i,e){(function(t,n){i.exports=n()})(dee,function(){return function(t){function n(s){if(r[s])return r[s].exports;var a=r[s]={exports:{},id:s,loaded:!1};return t[s].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var r={};return n.m=t,n.c=r,n.p="dist/",n(0)}([function(t,n,r){function s(K){return K&&K.__esModule?K:{default:K}}var a=Object.assign||function(K){for(var ae=1;ae<arguments.length;ae++){var G=arguments[ae];for(var q in G)Object.prototype.hasOwnProperty.call(G,q)&&(K[q]=G[q])}return K},l=r(1),c=(s(l),r(6)),h=s(c),m=r(7),g=s(m),v=r(8),_=s(v),S=r(9),M=s(S),b=r(10),A=s(b),C=r(11),w=s(C),B=r(14),L=s(B),N=[],I=!1,P={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},U=function(){var K=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(K&&(I=!0),I)return N=(0,w.default)(N,P),(0,A.default)(N,P.once),N},O=function(){N=(0,L.default)(),U()},H=function(){N.forEach(function(K,ae){K.node.removeAttribute("data-aos"),K.node.removeAttribute("data-aos-easing"),K.node.removeAttribute("data-aos-duration"),K.node.removeAttribute("data-aos-delay")})},V=function(K){return K===!0||K==="mobile"&&M.default.mobile()||K==="phone"&&M.default.phone()||K==="tablet"&&M.default.tablet()||typeof K=="function"&&K()===!0},W=function(K){P=a(P,K),N=(0,L.default)();var ae=document.all&&!window.atob;return V(P.disable)||ae?H():(P.disableMutationObserver||_.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),P.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",P.easing),document.querySelector("body").setAttribute("data-aos-duration",P.duration),document.querySelector("body").setAttribute("data-aos-delay",P.delay),P.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?U(!0):P.startEvent==="load"?window.addEventListener(P.startEvent,function(){U(!0)}):document.addEventListener(P.startEvent,function(){U(!0)}),window.addEventListener("resize",(0,g.default)(U,P.debounceDelay,!0)),window.addEventListener("orientationchange",(0,g.default)(U,P.debounceDelay,!0)),window.addEventListener("scroll",(0,h.default)(function(){(0,A.default)(N,P.once)},P.throttleDelay)),P.disableMutationObserver||_.default.ready("[data-aos]",O),N)};t.exports={init:W,refresh:U,refreshHard:O}},function(t,n){},,,,,function(t,n){(function(r){function s(V,W,K){function ae(Z){var et=se,Ke=Te;return se=Te=void 0,At=Z,Fe=V.apply(Ke,et)}function G(Z){return At=Z,Ue=setTimeout(pe,W),zt?ae(Z):Fe}function q(Z){var et=Z-dt,Ke=Z-At,ce=W-et;return Lt?O(ce,we-Ke):ce}function $(Z){var et=Z-dt,Ke=Z-At;return dt===void 0||et>=W||et<0||Lt&&Ke>=we}function pe(){var Z=H();return $(Z)?z(Z):void(Ue=setTimeout(pe,q(Z)))}function z(Z){return Ue=void 0,ot&&se?ae(Z):(se=Te=void 0,Fe)}function oe(){Ue!==void 0&&clearTimeout(Ue),At=0,se=dt=Te=Ue=void 0}function ve(){return Ue===void 0?Fe:z(H())}function Ae(){var Z=H(),et=$(Z);if(se=arguments,Te=this,dt=Z,et){if(Ue===void 0)return G(dt);if(Lt)return Ue=setTimeout(pe,W),ae(dt)}return Ue===void 0&&(Ue=setTimeout(pe,W)),Fe}var se,Te,we,Fe,Ue,dt,At=0,zt=!1,Lt=!1,ot=!0;if(typeof V!="function")throw new TypeError(v);return W=m(W)||0,l(K)&&(zt=!!K.leading,Lt="maxWait"in K,we=Lt?U(m(K.maxWait)||0,W):we,ot="trailing"in K?!!K.trailing:ot),Ae.cancel=oe,Ae.flush=ve,Ae}function a(V,W,K){var ae=!0,G=!0;if(typeof V!="function")throw new TypeError(v);return l(K)&&(ae="leading"in K?!!K.leading:ae,G="trailing"in K?!!K.trailing:G),s(V,W,{leading:ae,maxWait:W,trailing:G})}function l(V){var W=typeof V>"u"?"undefined":g(V);return!!V&&(W=="object"||W=="function")}function c(V){return!!V&&(typeof V>"u"?"undefined":g(V))=="object"}function h(V){return(typeof V>"u"?"undefined":g(V))=="symbol"||c(V)&&P.call(V)==S}function m(V){if(typeof V=="number")return V;if(h(V))return _;if(l(V)){var W=typeof V.valueOf=="function"?V.valueOf():V;V=l(W)?W+"":W}if(typeof V!="string")return V===0?V:+V;V=V.replace(M,"");var K=A.test(V);return K||C.test(V)?w(V.slice(2),K?2:8):b.test(V)?_:+V}var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},v="Expected a function",_=NaN,S="[object Symbol]",M=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,C=/^0o[0-7]+$/i,w=parseInt,B=(typeof r>"u"?"undefined":g(r))=="object"&&r&&r.Object===Object&&r,L=(typeof self>"u"?"undefined":g(self))=="object"&&self&&self.Object===Object&&self,N=B||L||Function("return this")(),I=Object.prototype,P=I.toString,U=Math.max,O=Math.min,H=function(){return N.Date.now()};t.exports=a}).call(n,function(){return this}())},function(t,n){(function(r){function s(H,V,W){function K(ot){var Z=Ae,et=se;return Ae=se=void 0,dt=ot,we=H.apply(et,Z)}function ae(ot){return dt=ot,Fe=setTimeout($,V),At?K(ot):we}function G(ot){var Z=ot-Ue,et=ot-dt,Ke=V-Z;return zt?U(Ke,Te-et):Ke}function q(ot){var Z=ot-Ue,et=ot-dt;return Ue===void 0||Z>=V||Z<0||zt&&et>=Te}function $(){var ot=O();return q(ot)?pe(ot):void(Fe=setTimeout($,G(ot)))}function pe(ot){return Fe=void 0,Lt&&Ae?K(ot):(Ae=se=void 0,we)}function z(){Fe!==void 0&&clearTimeout(Fe),dt=0,Ae=Ue=se=Fe=void 0}function oe(){return Fe===void 0?we:pe(O())}function ve(){var ot=O(),Z=q(ot);if(Ae=arguments,se=this,Ue=ot,Z){if(Fe===void 0)return ae(Ue);if(zt)return Fe=setTimeout($,V),K(Ue)}return Fe===void 0&&(Fe=setTimeout($,V)),we}var Ae,se,Te,we,Fe,Ue,dt=0,At=!1,zt=!1,Lt=!0;if(typeof H!="function")throw new TypeError(g);return V=h(V)||0,a(W)&&(At=!!W.leading,zt="maxWait"in W,Te=zt?P(h(W.maxWait)||0,V):Te,Lt="trailing"in W?!!W.trailing:Lt),ve.cancel=z,ve.flush=oe,ve}function a(H){var V=typeof H>"u"?"undefined":m(H);return!!H&&(V=="object"||V=="function")}function l(H){return!!H&&(typeof H>"u"?"undefined":m(H))=="object"}function c(H){return(typeof H>"u"?"undefined":m(H))=="symbol"||l(H)&&I.call(H)==_}function h(H){if(typeof H=="number")return H;if(c(H))return v;if(a(H)){var V=typeof H.valueOf=="function"?H.valueOf():H;H=a(V)?V+"":V}if(typeof H!="string")return H===0?H:+H;H=H.replace(S,"");var W=b.test(H);return W||A.test(H)?C(H.slice(2),W?2:8):M.test(H)?v:+H}var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},g="Expected a function",v=NaN,_="[object Symbol]",S=/^\s+|\s+$/g,M=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,A=/^0o[0-7]+$/i,C=parseInt,w=(typeof r>"u"?"undefined":m(r))=="object"&&r&&r.Object===Object&&r,B=(typeof self>"u"?"undefined":m(self))=="object"&&self&&self.Object===Object&&self,L=w||B||Function("return this")(),N=Object.prototype,I=N.toString,P=Math.max,U=Math.min,O=function(){return L.Date.now()};t.exports=s}).call(n,function(){return this}())},function(t,n){function r(m){var g=void 0,v=void 0;for(g=0;g<m.length;g+=1)if(v=m[g],v.dataset&&v.dataset.aos||v.children&&r(v.children))return!0;return!1}function s(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(){return!!s()}function l(m,g){var v=window.document,_=s(),S=new _(c);h=g,S.observe(v.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function c(m){m&&m.forEach(function(g){var v=Array.prototype.slice.call(g.addedNodes),_=Array.prototype.slice.call(g.removedNodes),S=v.concat(_);if(r(S))return h()})}Object.defineProperty(n,"__esModule",{value:!0});var h=function(){};n.default={isSupported:a,ready:l}},function(t,n){function r(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function s(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(_,S){for(var M=0;M<S.length;M++){var b=S[M];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,S,M){return S&&v(_.prototype,S),M&&v(_,M),_}}(),l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,m=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,g=function(){function v(){r(this,v)}return a(v,[{key:"phone",value:function(){var _=s();return!(!l.test(_)&&!c.test(_.substr(0,4)))}},{key:"mobile",value:function(){var _=s();return!(!h.test(_)&&!m.test(_.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),v}();n.default=new g},function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(a,l,c){var h=a.node.getAttribute("data-aos-once");l>a.position?a.node.classList.add("aos-animate"):typeof h<"u"&&(h==="false"||!c&&h!=="true")&&a.node.classList.remove("aos-animate")},s=function(a,l){var c=window.pageYOffset,h=window.innerHeight;a.forEach(function(m,g){r(m,h+c,l)})};n.default=s},function(t,n,r){function s(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(12),l=s(a),c=function(h,m){return h.forEach(function(g,v){g.node.classList.add("aos-init"),g.position=(0,l.default)(g.node,m.offset)}),h};n.default=c},function(t,n,r){function s(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(13),l=s(a),c=function(h,m){var g=0,v=0,_=window.innerHeight,S={offset:h.getAttribute("data-aos-offset"),anchor:h.getAttribute("data-aos-anchor"),anchorPlacement:h.getAttribute("data-aos-anchor-placement")};switch(S.offset&&!isNaN(S.offset)&&(v=parseInt(S.offset)),S.anchor&&document.querySelectorAll(S.anchor)&&(h=document.querySelectorAll(S.anchor)[0]),g=(0,l.default)(h).top,S.anchorPlacement){case"top-bottom":break;case"center-bottom":g+=h.offsetHeight/2;break;case"bottom-bottom":g+=h.offsetHeight;break;case"top-center":g+=_/2;break;case"bottom-center":g+=_/2+h.offsetHeight;break;case"center-center":g+=_/2+h.offsetHeight/2;break;case"top-top":g+=_;break;case"bottom-top":g+=h.offsetHeight+_;break;case"center-top":g+=h.offsetHeight/2+_}return S.anchorPlacement||S.offset||isNaN(m)||(v=m),g+v};n.default=c},function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(s){for(var a=0,l=0;s&&!isNaN(s.offsetLeft)&&!isNaN(s.offsetTop);)a+=s.offsetLeft-(s.tagName!="BODY"?s.scrollLeft:0),l+=s.offsetTop-(s.tagName!="BODY"?s.scrollTop:0),s=s.offsetParent;return{top:l,left:a}};n.default=r},function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(s){return s=s||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(s,function(a){return{node:a}})};n.default=r}])})}(NS)),NS.exports}var mee=pee();const gee=WA(mee);function vee(){return We.jsx("div",{className:"container-loadingPage",children:We.jsx("div",{className:"loader"})})}function yee(){const{setLoadingComponents:i}=iw();Dg.preload("/models/lost_programmer.glb");const{scene:e}=Dg("/models/lost_programmer.glb");return Me.useEffect(()=>{e&&setTimeout(()=>i(!0),3e3)},[e]),null}gee.init({disable:!1,startEvent:"DOMContentLoaded",initClassName:"aos-init",animatedClassName:"aos-animate",useClassNames:!1,disableMutationObserver:!1,debounceDelay:50,throttleDelay:99,offset:30,delay:0,duration:600,easing:"ease",once:!1,mirror:!1,anchorPlacement:"top-bottom"});function _ee(){const i=Me.useRef(null);n();const{loadingPage:e,loadingComponents:t}=iw();Me.useEffect(()=>{i.current=new aee;function r(s){i.current&&i.current.raf(s),requestAnimationFrame(r)}return requestAnimationFrame(r),()=>{i.current&&(i.current.destroy(),i.current=null)}},[]);function n(){Me.useEffect(()=>{const r=setTimeout(()=>{yg.scroller.scrollTo("header",{duration:800,delay:0,smooth:"easeInOutQuart"})},2500),s=()=>{clearTimeout(r),window.removeEventListener("pointerdown",s),window.removeEventListener("wheel",s),window.removeEventListener("keydown",s)};return window.addEventListener("pointerdown",s,{once:!0}),window.addEventListener("wheel",s,{once:!0}),window.addEventListener("keydown",s,{once:!0}),()=>{clearTimeout(r),s()}})}return We.jsxs(We.Fragment,{children:[We.jsx(yee,{}),We.jsx(uZ,{initial:!0,children:e&&We.jsx(wu.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"motion-loading",children:e&&We.jsx(vee,{})})}),t&&We.jsxs(We.Fragment,{children:[We.jsx(Jz,{}),We.jsx(xq,{}),We.jsx(Sq,{}),We.jsx(Z$,{}),We.jsx(hee,{}),We.jsx(zz,{})]})]})}Rz.createRoot(document.getElementById("root")).render(We.jsx(Me.StrictMode,{children:We.jsx(vq,{children:We.jsx(_ee,{})})}));
